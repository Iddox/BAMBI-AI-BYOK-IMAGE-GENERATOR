/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/(auth)/login/page";
exports.ids = ["app/(auth)/login/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2F(auth)%2Flogin%2Fpage&page=%2F(auth)%2Flogin%2Fpage&appPaths=%2F(auth)%2Flogin%2Fpage&pagePath=private-next-app-dir%2F(auth)%2Flogin%2Fpage.tsx&appDir=%2Fworkspace%2Fhiiiiiiiii%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspace%2Fhiiiiiiiii&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2F(auth)%2Flogin%2Fpage&page=%2F(auth)%2Flogin%2Fpage&appPaths=%2F(auth)%2Flogin%2Fpage&pagePath=private-next-app-dir%2F(auth)%2Flogin%2Fpage.tsx&appDir=%2Fworkspace%2Fhiiiiiiiii%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspace%2Fhiiiiiiiii&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?5bc9\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        '(auth)',\n        {\n        children: [\n        'login',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(auth)/login/page.tsx */ \"(rsc)/./app/(auth)/login/page.tsx\")), \"/workspace/hiiiiiiiii/app/(auth)/login/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/(auth)/layout.tsx */ \"(rsc)/./app/(auth)/layout.tsx\")), \"/workspace/hiiiiiiiii/app/(auth)/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/workspace/hiiiiiiiii/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      }.children;\nconst pages = [\"/workspace/hiiiiiiiii/app/(auth)/login/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/(auth)/login/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/(auth)/login/page\",\n        pathname: \"/login\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkYoYXV0aCklMkZsb2dpbiUyRnBhZ2UmcGFnZT0lMkYoYXV0aCklMkZsb2dpbiUyRnBhZ2UmYXBwUGF0aHM9JTJGKGF1dGgpJTJGbG9naW4lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGKGF1dGgpJTJGbG9naW4lMkZwYWdlLnRzeCZhcHBEaXI9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRztBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLGtLQUFvRjtBQUMzRztBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5QiwwSkFBZ0Y7QUFDekcsb0JBQW9CLDBOQUFnRjtBQUNwRztBQUNBLG9DQUFvQyw4ZUFBaU87QUFDclE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQXlFO0FBQ2xHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQSxvQ0FBb0MsOGVBQWlPO0FBQ3JRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8/OGQzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnKGF1dGgpJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnbG9naW4nLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvYXBwLyhhdXRoKS9sb2dpbi9wYWdlLnRzeFwiKSwgXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvYXBwLyhhdXRoKS9sb2dpbi9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL2FwcC8oYXV0aCkvbGF5b3V0LnRzeFwiKSwgXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvYXBwLyhhdXRoKS9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICBpY29uOiBbKGFzeW5jIChwcm9wcykgPT4gKGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC1tZXRhZGF0YS1pbWFnZS1sb2FkZXI/dHlwZT1mYXZpY29uJnNlZ21lbnQ9JmJhc2VQYXRoPSZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzIS93b3Jrc3BhY2UvaGlpaWlpaWlpaS9hcHAvZmF2aWNvbi5pY28/X19uZXh0X21ldGFkYXRhX19cIikpLmRlZmF1bHQocHJvcHMpKV0sXG4gICAgYXBwbGU6IFtdLFxuICAgIG9wZW5HcmFwaDogW10sXG4gICAgdHdpdHRlcjogW10sXG4gICAgbWFuaWZlc3Q6IHVuZGVmaW5lZFxuICB9XG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvYXBwL2xheW91dC50c3hcIiksIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL2FwcC9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICBpY29uOiBbKGFzeW5jIChwcm9wcykgPT4gKGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC1tZXRhZGF0YS1pbWFnZS1sb2FkZXI/dHlwZT1mYXZpY29uJnNlZ21lbnQ9JmJhc2VQYXRoPSZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzIS93b3Jrc3BhY2UvaGlpaWlpaWlpaS9hcHAvZmF2aWNvbi5pY28/X19uZXh0X21ldGFkYXRhX19cIikpLmRlZmF1bHQocHJvcHMpKV0sXG4gICAgYXBwbGU6IFtdLFxuICAgIG9wZW5HcmFwaDogW10sXG4gICAgdHdpdHRlcjogW10sXG4gICAgbWFuaWZlc3Q6IHVuZGVmaW5lZFxuICB9XG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvYXBwLyhhdXRoKS9sb2dpbi9wYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiLyhhdXRoKS9sb2dpbi9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiLyhhdXRoKS9sb2dpbi9wYWdlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9sb2dpblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2F(auth)%2Flogin%2Fpage&page=%2F(auth)%2Flogin%2Fpage&appPaths=%2F(auth)%2Flogin%2Fpage&pagePath=private-next-app-dir%2F(auth)%2Flogin%2Fpage.tsx&appDir=%2Fworkspace%2Fhiiiiiiiii%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspace%2Fhiiiiiiiii&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fapp%2Fglobals.css&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fdebug%2FDebugPanel.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fproviders.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fapp%2Fglobals.css&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fdebug%2FDebugPanel.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fproviders.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/debug/DebugPanel.tsx */ \"(ssr)/./components/debug/DebugPanel.tsx\"));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/providers.tsx */ \"(ssr)/./components/providers.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRmFwcCUyRmdsb2JhbHMuY3NzJm1vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRmNvbXBvbmVudHMlMkZkZWJ1ZyUyRkRlYnVnUGFuZWwudHN4Jm1vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRmNvbXBvbmVudHMlMkZwcm92aWRlcnMudHN4Jm1vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiUyMnBhdGglMjIlM0ElMjJhcHAlMkZsYXlvdXQudHN4JTIyJTJDJTIyaW1wb3J0JTIyJTNBJTIySW50ZXIlMjIlMkMlMjJhcmd1bWVudHMlMjIlM0ElNUIlN0IlMjJzdWJzZXRzJTIyJTNBJTVCJTIybGF0aW4lMjIlNUQlN0QlNUQlMkMlMjJ2YXJpYWJsZU5hbWUlMjIlM0ElMjJpbnRlciUyMiU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsOEtBQTBGO0FBQzFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvPzExZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvd29ya3NwYWNlL2hpaWlpaWlpaWkvY29tcG9uZW50cy9kZWJ1Zy9EZWJ1Z1BhbmVsLnRzeFwiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL2NvbXBvbmVudHMvcHJvdmlkZXJzLnRzeFwiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fapp%2Fglobals.css&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fdebug%2FDebugPanel.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fproviders.tsx&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fauth%2FLoginForm.tsx&server=true!":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fauth%2FLoginForm.tsx&server=true! ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/auth/LoginForm.tsx */ \"(ssr)/./components/auth/LoginForm.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRmNvbXBvbmVudHMlMkZhdXRoJTJGTG9naW5Gb3JtLnRzeCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8/MTBhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi93b3Jrc3BhY2UvaGlpaWlpaWlpaS9jb21wb25lbnRzL2F1dGgvTG9naW5Gb3JtLnRzeFwiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fcomponents%2Fauth%2FLoginForm.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGd29ya3NwYWNlJTJGaGlpaWlpaWlpaSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMmbW9kdWxlcz0lMkZ3b3Jrc3BhY2UlMkZoaWlpaWlpaWlpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMmbW9kdWxlcz0lMkZ3b3Jrc3BhY2UlMkZoaWlpaWlpaWlpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPSUyRndvcmtzcGFjZSUyRmhpaWlpaWlpaWklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZub3QtZm91bmQtYm91bmRhcnkuanMmbW9kdWxlcz0lMkZ3b3Jrc3BhY2UlMkZoaWlpaWlpaWlpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyZtb2R1bGVzPSUyRndvcmtzcGFjZSUyRmhpaWlpaWlpaWklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQWlIO0FBQ2pILDBPQUFxSDtBQUNySCx3T0FBb0g7QUFDcEgsa1BBQXlIO0FBQ3pILHNRQUFtSTtBQUNuSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpLWFpLz9kNTY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi93b3Jrc3BhY2UvaGlpaWlpaWlpaS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi93b3Jrc3BhY2UvaGlpaWlpaWlpaS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3dvcmtzcGFjZS9oaWlpaWlpaWlpL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvc3RhdGljLWdlbmVyYXRpb24tc2VhcmNocGFyYW1zLWJhaWxvdXQtcHJvdmlkZXIuanNcIikiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2Fworkspace%2Fhiiiiiiiii%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./components/auth/LoginForm.tsx":
/*!***************************************!*\
  !*** ./components/auth/LoginForm.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LoginForm: () => (/* binding */ LoginForm)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ LoginForm auto */ \n\n\n\n\n\n\nfunction LoginForm() {\n    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const { signIn, isLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        setError(\"\");\n        try {\n            // Utilisation du contexte Auth pour la connexion\n            await signIn(email, password);\n        // La redirection est gérée dans le contexte Auth\n        } catch (err) {\n            // Gestion spécifique de l'erreur \"Email not confirmed\"\n            if (err.message && err.message.includes(\"Email not confirmed\")) {\n                // Rediriger vers la page de confirmation d'email\n                router.push(`/email-confirmation?email=${encodeURIComponent(email)}`);\n                return;\n            }\n            setError(err.message || \"Email ou mot de passe incorrect.\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-bambi-card p-8 rounded-xl border border-bambi-border shadow-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-2xl font-bold mb-6 text-center\",\n                children: \"Se connecter \\xe0 Bambi AI\"\n            }, void 0, false, {\n                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"email\",\n                                className: \"block text-sm font-medium mb-1\",\n                                children: \"Email\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                                lineNumber: 50,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_5__.Input, {\n                                id: \"email\",\n                                type: \"email\",\n                                value: email,\n                                onChange: (e)=>setEmail(e.target.value),\n                                required: true,\n                                className: \"w-full bg-bambi-background border-bambi-border\",\n                                placeholder: \"votre@email.com\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                                lineNumber: 53,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"password\",\n                                className: \"block text-sm font-medium mb-1\",\n                                children: \"Mot de passe\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                                lineNumber: 65,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_5__.Input, {\n                                id: \"password\",\n                                type: \"password\",\n                                value: password,\n                                onChange: (e)=>setPassword(e.target.value),\n                                required: true,\n                                className: \"w-full bg-bambi-background border-bambi-border\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                                lineNumber: 68,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-end\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                            href: \"/forgot-password\",\n                            className: \"text-sm text-bambi-accent hover:underline\",\n                            children: \"Mot de passe oubli\\xe9 ?\"\n                        }, void 0, false, {\n                            fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        type: \"submit\",\n                        className: \"w-full btn-primary\",\n                        disabled: isLoading,\n                        children: isLoading ? \"Connexion en cours...\" : \"Connexion\"\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                        lineNumber: 84,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-bambi-subtext text-sm\",\n                            children: [\n                                \"Pas encore de compte ?\",\n                                \" \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                    href: \"/signup\",\n                                    className: \"text-bambi-accent hover:underline\",\n                                    children: \"S'inscrire\"\n                                }, void 0, false, {\n                                    fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                                    lineNumber: 95,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/workspace/hiiiiiiiii/components/auth/LoginForm.tsx\",\n        lineNumber: 39,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2F1dGgvTG9naW5Gb3JtLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRWlDO0FBQ0o7QUFDZTtBQUNJO0FBQ0Y7QUFDRztBQUUxQyxTQUFTTTtJQUNkLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHUiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNTLFVBQVVDLFlBQVksR0FBR1YsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDVyxPQUFPQyxTQUFTLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU1hLFNBQVNYLDBEQUFTQTtJQUN4QixNQUFNLEVBQUVZLE1BQU0sRUFBRUMsU0FBUyxFQUFFLEdBQUdWLDhEQUFPQTtJQUVyQyxNQUFNVyxlQUFlLE9BQU9DO1FBQzFCQSxFQUFFQyxjQUFjO1FBQ2hCTixTQUFTO1FBRVQsSUFBSTtZQUNGLGlEQUFpRDtZQUNqRCxNQUFNRSxPQUFPUCxPQUFPRTtRQUVwQixpREFBaUQ7UUFDbkQsRUFBRSxPQUFPVSxLQUFVO1lBQ2pCLHVEQUF1RDtZQUN2RCxJQUFJQSxJQUFJQyxPQUFPLElBQUlELElBQUlDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLHdCQUF3QjtnQkFDOUQsaURBQWlEO2dCQUNqRFIsT0FBT1MsSUFBSSxDQUFDLENBQUMsMEJBQTBCLEVBQUVDLG1CQUFtQmhCLE9BQU8sQ0FBQztnQkFDcEU7WUFDRjtZQUVBSyxTQUFTTyxJQUFJQyxPQUFPLElBQUk7UUFDMUI7SUFDRjtJQUVBLHFCQUNFLDhEQUFDSTtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQUdELFdBQVU7MEJBQXNDOzs7Ozs7WUFFbkRkLHVCQUNDLDhEQUFDYTtnQkFBSUMsV0FBVTswQkFDWmQ7Ozs7OzswQkFJTCw4REFBQ2dCO2dCQUFLQyxVQUFVWjtnQkFBY1MsV0FBVTs7a0NBQ3RDLDhEQUFDRDs7MENBQ0MsOERBQUNLO2dDQUFNQyxTQUFRO2dDQUFRTCxXQUFVOzBDQUFpQzs7Ozs7OzBDQUdsRSw4REFBQ3JCLHVEQUFLQTtnQ0FDSjJCLElBQUc7Z0NBQ0hDLE1BQUs7Z0NBQ0xDLE9BQU8xQjtnQ0FDUDJCLFVBQVUsQ0FBQ2pCLElBQU1ULFNBQVNTLEVBQUVrQixNQUFNLENBQUNGLEtBQUs7Z0NBQ3hDRyxRQUFRO2dDQUNSWCxXQUFVO2dDQUNWWSxhQUFZOzs7Ozs7Ozs7Ozs7a0NBSWhCLDhEQUFDYjs7MENBQ0MsOERBQUNLO2dDQUFNQyxTQUFRO2dDQUFXTCxXQUFVOzBDQUFpQzs7Ozs7OzBDQUdyRSw4REFBQ3JCLHVEQUFLQTtnQ0FDSjJCLElBQUc7Z0NBQ0hDLE1BQUs7Z0NBQ0xDLE9BQU94QjtnQ0FDUHlCLFVBQVUsQ0FBQ2pCLElBQU1QLFlBQVlPLEVBQUVrQixNQUFNLENBQUNGLEtBQUs7Z0NBQzNDRyxRQUFRO2dDQUNSWCxXQUFVOzs7Ozs7Ozs7Ozs7a0NBSWQsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDeEIsa0RBQUlBOzRCQUFDcUMsTUFBSzs0QkFBbUJiLFdBQVU7c0NBQTRDOzs7Ozs7Ozs7OztrQ0FLdEYsOERBQUN0Qix5REFBTUE7d0JBQ0w2QixNQUFLO3dCQUNMUCxXQUFVO3dCQUNWYyxVQUFVeEI7a0NBRVRBLFlBQVksMEJBQTBCOzs7Ozs7a0NBR3pDLDhEQUFDUzt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ2U7NEJBQUtmLFdBQVU7O2dDQUE2QjtnQ0FDcEI7OENBQ3ZCLDhEQUFDeEIsa0RBQUlBO29DQUFDcUMsTUFBSztvQ0FBVWIsV0FBVTs4Q0FBb0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUS9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb21wb25lbnRzL2F1dGgvTG9naW5Gb3JtLnRzeD8yZTI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCJAL2NvbnRleHRzL0F1dGhDb250ZXh0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2dpbkZvcm0oKSB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHNpZ25JbiwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvcihcIlwiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBVdGlsaXNhdGlvbiBkdSBjb250ZXh0ZSBBdXRoIHBvdXIgbGEgY29ubmV4aW9uXG4gICAgICBhd2FpdCBzaWduSW4oZW1haWwsIHBhc3N3b3JkKTtcblxuICAgICAgLy8gTGEgcmVkaXJlY3Rpb24gZXN0IGfDqXLDqWUgZGFucyBsZSBjb250ZXh0ZSBBdXRoXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIC8vIEdlc3Rpb24gc3DDqWNpZmlxdWUgZGUgbCdlcnJldXIgXCJFbWFpbCBub3QgY29uZmlybWVkXCJcbiAgICAgIGlmIChlcnIubWVzc2FnZSAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcyhcIkVtYWlsIG5vdCBjb25maXJtZWRcIikpIHtcbiAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkZSBjb25maXJtYXRpb24gZCdlbWFpbFxuICAgICAgICByb3V0ZXIucHVzaChgL2VtYWlsLWNvbmZpcm1hdGlvbj9lbWFpbD0ke2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCl9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJFbWFpbCBvdSBtb3QgZGUgcGFzc2UgaW5jb3JyZWN0LlwiKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJhbWJpLWNhcmQgcC04IHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1iYW1iaS1ib3JkZXIgc2hhZG93LWxnXCI+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5TZSBjb25uZWN0ZXIgw6AgQmFtYmkgQUk8L2gxPlxuXG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLXJlZC01MDAvMTAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzMwIHJvdW5kZWQtbGcgdGV4dC1yZWQtNTAwIHRleHQtc21cIj5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJlbWFpbFwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMVwiPlxuICAgICAgICAgICAgRW1haWxcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgaWQ9XCJlbWFpbFwiXG4gICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgdmFsdWU9e2VtYWlsfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJhbWJpLWJhY2tncm91bmQgYm9yZGVyLWJhbWJpLWJvcmRlclwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInZvdHJlQGVtYWlsLmNvbVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0xXCI+XG4gICAgICAgICAgICBNb3QgZGUgcGFzc2VcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgaWQ9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJhbWJpLWJhY2tncm91bmQgYm9yZGVyLWJhbWJpLWJvcmRlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgPExpbmsgaHJlZj1cIi9mb3Jnb3QtcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmFtYmktYWNjZW50IGhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgTW90IGRlIHBhc3NlIG91Ymxpw6kgP1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgPlxuICAgICAgICAgIHtpc0xvYWRpbmcgPyBcIkNvbm5leGlvbiBlbiBjb3Vycy4uLlwiIDogXCJDb25uZXhpb25cIn1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtdC00XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYW1iaS1zdWJ0ZXh0IHRleHQtc21cIj5cbiAgICAgICAgICAgIFBhcyBlbmNvcmUgZGUgY29tcHRlID97XCIgXCJ9XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL3NpZ251cFwiIGNsYXNzTmFtZT1cInRleHQtYmFtYmktYWNjZW50IGhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgICBTJ2luc2NyaXJlXG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIkxpbmsiLCJ1c2VSb3V0ZXIiLCJCdXR0b24iLCJJbnB1dCIsInVzZUF1dGgiLCJMb2dpbkZvcm0iLCJlbWFpbCIsInNldEVtYWlsIiwicGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImVycm9yIiwic2V0RXJyb3IiLCJyb3V0ZXIiLCJzaWduSW4iLCJpc0xvYWRpbmciLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJlcnIiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJmb3JtIiwib25TdWJtaXQiLCJsYWJlbCIsImh0bWxGb3IiLCJpZCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicmVxdWlyZWQiLCJwbGFjZWhvbGRlciIsImhyZWYiLCJkaXNhYmxlZCIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/auth/LoginForm.tsx\n");

/***/ }),

/***/ "(ssr)/./components/debug/DebugPanel.tsx":
/*!*****************************************!*\
  !*** ./components/debug/DebugPanel.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DebugPanel: () => (/* binding */ DebugPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/debug */ \"(ssr)/./utils/debug.ts\");\n/* __next_internal_client_entry_do_not_use__ DebugPanel auto */ \n\n\n/**\n * Composant pour afficher l'historique de débogage\n * Utile pour identifier les problèmes de chargement et les boucles infinies\n */ function DebugPanel() {\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Mettre à jour l'historique toutes les secondes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isVisible) return;\n        const interval = setInterval(()=>{\n            setHistory((0,_utils_debug__WEBPACK_IMPORTED_MODULE_2__.getDebugHistory)());\n        }, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        isVisible\n    ]);\n    // Charger l'historique initial\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setHistory((0,_utils_debug__WEBPACK_IMPORTED_MODULE_2__.getDebugHistory)());\n    }, []);\n    if (!isVisible) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            className: \"fixed bottom-4 right-4 bg-red-500 text-white p-2 rounded-full z-50 opacity-50 hover:opacity-100\",\n            onClick: ()=>setIsVisible(true),\n            suppressHydrationWarning: true,\n            children: \"Debug\"\n        }, void 0, false, {\n            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n            lineNumber: 32,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/90 text-white p-4 z-50 overflow-auto\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-bold\",\n                        children: \"Historique de d\\xe9bogage\"\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                        lineNumber: 45,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"bg-red-500 text-white px-3 py-1 rounded\",\n                                onClick: ()=>{\n                                    (0,_utils_debug__WEBPACK_IMPORTED_MODULE_2__.clearDebugHistory)();\n                                    setHistory([]);\n                                },\n                                children: \"Effacer\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                lineNumber: 47,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"bg-gray-500 text-white px-3 py-1 rounded\",\n                                onClick: ()=>setIsVisible(false),\n                                children: \"Fermer\"\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                lineNumber: 56,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                lineNumber: 44,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                    className: \"w-full border-collapse\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                className: \"bg-gray-800\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                        className: \"border border-gray-700 p-2 text-left\",\n                                        children: \"Timestamp\"\n                                    }, void 0, false, {\n                                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                        lineNumber: 69,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                        className: \"border border-gray-700 p-2 text-left\",\n                                        children: \"Composant\"\n                                    }, void 0, false, {\n                                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                        lineNumber: 70,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                        className: \"border border-gray-700 p-2 text-left\",\n                                        children: \"\\xc9v\\xe9nement\"\n                                    }, void 0, false, {\n                                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                        lineNumber: 71,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                        className: \"border border-gray-700 p-2 text-left\",\n                                        children: \"Donn\\xe9es\"\n                                    }, void 0, false, {\n                                        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                        lineNumber: 72,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                lineNumber: 68,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                            lineNumber: 67,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                            children: history.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                    colSpan: 4,\n                                    className: \"border border-gray-700 p-2 text-center\",\n                                    children: \"Aucun \\xe9v\\xe9nement enregistr\\xe9\"\n                                }, void 0, false, {\n                                    fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                    lineNumber: 78,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                lineNumber: 77,\n                                columnNumber: 15\n                            }, this) : history.map((entry, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                    className: index % 2 === 0 ? \"bg-gray-900\" : \"bg-gray-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"border border-gray-700 p-2\",\n                                            children: new Date(entry.timestamp).toLocaleTimeString()\n                                        }, void 0, false, {\n                                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                            lineNumber: 85,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"border border-gray-700 p-2\",\n                                            children: entry.component\n                                        }, void 0, false, {\n                                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                            lineNumber: 86,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"border border-gray-700 p-2\",\n                                            children: entry.event\n                                        }, void 0, false, {\n                                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                            lineNumber: 87,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                            className: \"border border-gray-700 p-2\",\n                                            children: entry.data ? JSON.stringify(entry.data) : \"-\"\n                                        }, void 0, false, {\n                                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                            lineNumber: 88,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                                    lineNumber: 84,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                    lineNumber: 66,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n                lineNumber: 65,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2RlYnVnL0RlYnVnUGFuZWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFNEM7QUFDdUI7QUFFbkU7OztDQUdDLEdBQ00sU0FBU0k7SUFDZCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR04sK0NBQVFBLENBQVEsRUFBRTtJQUNoRCxNQUFNLENBQUNPLFdBQVdDLGFBQWEsR0FBR1IsK0NBQVFBLENBQUM7SUFFM0MsaURBQWlEO0lBQ2pEQyxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ00sV0FBVztRQUVoQixNQUFNRSxXQUFXQyxZQUFZO1lBQzNCSixXQUFXSiw2REFBZUE7UUFDNUIsR0FBRztRQUVILE9BQU8sSUFBTVMsY0FBY0Y7SUFDN0IsR0FBRztRQUFDRjtLQUFVO0lBRWQsK0JBQStCO0lBQy9CTixnREFBU0EsQ0FBQztRQUNSSyxXQUFXSiw2REFBZUE7SUFDNUIsR0FBRyxFQUFFO0lBRUwsSUFBSSxDQUFDSyxXQUFXO1FBQ2QscUJBQ0UsOERBQUNLO1lBQ0NDLFdBQVU7WUFDVkMsU0FBUyxJQUFNTixhQUFhO1lBQzVCTyx3QkFBd0I7c0JBQ3pCOzs7Ozs7SUFJTDtJQUVBLHFCQUNFLDhEQUFDQztRQUFJSCxXQUFVO1FBQThERSx3QkFBd0I7OzBCQUNuRyw4REFBQ0M7Z0JBQUlILFdBQVU7O2tDQUNiLDhEQUFDSTt3QkFBR0osV0FBVTtrQ0FBb0I7Ozs7OztrQ0FDbEMsOERBQUNHO3dCQUFJSCxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQ0NDLFdBQVU7Z0NBQ1ZDLFNBQVM7b0NBQ1BYLCtEQUFpQkE7b0NBQ2pCRyxXQUFXLEVBQUU7Z0NBQ2Y7MENBQ0Q7Ozs7OzswQ0FHRCw4REFBQ007Z0NBQ0NDLFdBQVU7Z0NBQ1ZDLFNBQVMsSUFBTU4sYUFBYTswQ0FDN0I7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNTCw4REFBQ1E7Z0JBQUlILFdBQVU7MEJBQ2IsNEVBQUNLO29CQUFNTCxXQUFVOztzQ0FDZiw4REFBQ007c0NBQ0MsNEVBQUNDO2dDQUFHUCxXQUFVOztrREFDWiw4REFBQ1E7d0NBQUdSLFdBQVU7a0RBQXVDOzs7Ozs7a0RBQ3JELDhEQUFDUTt3Q0FBR1IsV0FBVTtrREFBdUM7Ozs7OztrREFDckQsOERBQUNRO3dDQUFHUixXQUFVO2tEQUF1Qzs7Ozs7O2tEQUNyRCw4REFBQ1E7d0NBQUdSLFdBQVU7a0RBQXVDOzs7Ozs7Ozs7Ozs7Ozs7OztzQ0FHekQsOERBQUNTO3NDQUNFakIsUUFBUWtCLE1BQU0sS0FBSyxrQkFDbEIsOERBQUNIOzBDQUNDLDRFQUFDSTtvQ0FBR0MsU0FBUztvQ0FBR1osV0FBVTs4Q0FBeUM7Ozs7Ozs7Ozs7dUNBS3JFUixRQUFRcUIsR0FBRyxDQUFDLENBQUNDLE9BQU9DLHNCQUNsQiw4REFBQ1I7b0NBQWVQLFdBQVdlLFFBQVEsTUFBTSxJQUFJLGdCQUFnQjs7c0RBQzNELDhEQUFDSjs0Q0FBR1gsV0FBVTtzREFBOEIsSUFBSWdCLEtBQUtGLE1BQU1HLFNBQVMsRUFBRUMsa0JBQWtCOzs7Ozs7c0RBQ3hGLDhEQUFDUDs0Q0FBR1gsV0FBVTtzREFBOEJjLE1BQU1LLFNBQVM7Ozs7OztzREFDM0QsOERBQUNSOzRDQUFHWCxXQUFVO3NEQUE4QmMsTUFBTU0sS0FBSzs7Ozs7O3NEQUN2RCw4REFBQ1Q7NENBQUdYLFdBQVU7c0RBQ1hjLE1BQU1PLElBQUksR0FBR0MsS0FBS0MsU0FBUyxDQUFDVCxNQUFNTyxJQUFJLElBQUk7Ozs7Ozs7bUNBTHRDTjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZXpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb21wb25lbnRzL2RlYnVnL0RlYnVnUGFuZWwudHN4PzQ0YjQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0RGVidWdIaXN0b3J5LCBjbGVhckRlYnVnSGlzdG9yeSB9IGZyb20gJ0AvdXRpbHMvZGVidWcnO1xuXG4vKipcbiAqIENvbXBvc2FudCBwb3VyIGFmZmljaGVyIGwnaGlzdG9yaXF1ZSBkZSBkw6lib2dhZ2VcbiAqIFV0aWxlIHBvdXIgaWRlbnRpZmllciBsZXMgcHJvYmzDqG1lcyBkZSBjaGFyZ2VtZW50IGV0IGxlcyBib3VjbGVzIGluZmluaWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEZWJ1Z1BhbmVsKCkge1xuICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbaXNWaXNpYmxlLCBzZXRJc1Zpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIE1ldHRyZSDDoCBqb3VyIGwnaGlzdG9yaXF1ZSB0b3V0ZXMgbGVzIHNlY29uZGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybjtcblxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0SGlzdG9yeShnZXREZWJ1Z0hpc3RvcnkoKSk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtpc1Zpc2libGVdKTtcblxuICAvLyBDaGFyZ2VyIGwnaGlzdG9yaXF1ZSBpbml0aWFsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SGlzdG9yeShnZXREZWJ1Z0hpc3RvcnkoKSk7XG4gIH0sIFtdKTtcblxuICBpZiAoIWlzVmlzaWJsZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS00IHJpZ2h0LTQgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHAtMiByb3VuZGVkLWZ1bGwgei01MCBvcGFjaXR5LTUwIGhvdmVyOm9wYWNpdHktMTAwXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNWaXNpYmxlKHRydWUpfVxuICAgICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcbiAgICAgID5cbiAgICAgICAgRGVidWdcbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay85MCB0ZXh0LXdoaXRlIHAtNCB6LTUwIG92ZXJmbG93LWF1dG9cIiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZFwiPkhpc3RvcmlxdWUgZGUgZMOpYm9nYWdlPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHB4LTMgcHktMSByb3VuZGVkXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgY2xlYXJEZWJ1Z0hpc3RvcnkoKTtcbiAgICAgICAgICAgICAgc2V0SGlzdG9yeShbXSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEVmZmFjZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlIHB4LTMgcHktMSByb3VuZGVkXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzVmlzaWJsZShmYWxzZSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRmVybWVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlXCI+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImJnLWdyYXktODAwXCI+XG4gICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktNzAwIHAtMiB0ZXh0LWxlZnRcIj5UaW1lc3RhbXA8L3RoPlxuICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBwLTIgdGV4dC1sZWZ0XCI+Q29tcG9zYW50PC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS03MDAgcC0yIHRleHQtbGVmdFwiPsOJdsOpbmVtZW50PC90aD5cbiAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS03MDAgcC0yIHRleHQtbGVmdFwiPkRvbm7DqWVzPC90aD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7aGlzdG9yeS5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj17NH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBwLTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIEF1Y3VuIMOpdsOpbmVtZW50IGVucmVnaXN0csOpXG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGhpc3RvcnkubWFwKChlbnRyeSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8dHIga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtpbmRleCAlIDIgPT09IDAgPyAnYmctZ3JheS05MDAnIDogJ2JnLWdyYXktODAwJ30+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBwLTJcIj57bmV3IERhdGUoZW50cnkudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoKX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS03MDAgcC0yXCI+e2VudHJ5LmNvbXBvbmVudH08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS03MDAgcC0yXCI+e2VudHJ5LmV2ZW50fTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge2VudHJ5LmRhdGEgPyBKU09OLnN0cmluZ2lmeShlbnRyeS5kYXRhKSA6ICctJ31cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiZ2V0RGVidWdIaXN0b3J5IiwiY2xlYXJEZWJ1Z0hpc3RvcnkiLCJEZWJ1Z1BhbmVsIiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJpc1Zpc2libGUiLCJzZXRJc1Zpc2libGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImJ1dHRvbiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJkaXYiLCJoMiIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJsZW5ndGgiLCJ0ZCIsImNvbFNwYW4iLCJtYXAiLCJlbnRyeSIsImluZGV4IiwiRGF0ZSIsInRpbWVzdGFtcCIsInRvTG9jYWxlVGltZVN0cmluZyIsImNvbXBvbmVudCIsImV2ZW50IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/debug/DebugPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/providers.tsx":
/*!**********************************!*\
  !*** ./components/providers.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Providers: () => (/* binding */ Providers)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var _contexts_ApiConfigContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/ApiConfigContext */ \"(ssr)/./contexts/ApiConfigContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(ssr)/./contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ Providers auto */ \n\n\n\nfunction Providers({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_1__.ThemeProvider, {\n        attribute: \"class\",\n        defaultTheme: \"dark\",\n        enableSystem: true,\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_ApiConfigContext__WEBPACK_IMPORTED_MODULE_2__.ApiConfigProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    suppressHydrationWarning: true,\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/workspace/hiiiiiiiii/components/providers.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/workspace/hiiiiiiiii/components/providers.tsx\",\n                lineNumber: 16,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/workspace/hiiiiiiiii/components/providers.tsx\",\n            lineNumber: 15,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/components/providers.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3Byb3ZpZGVycy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUUyQztBQUVvQjtBQUNWO0FBTTlDLFNBQVNHLFVBQVUsRUFBRUMsUUFBUSxFQUFrQjtJQUNwRCxxQkFDRSw4REFBQ0osc0RBQWFBO1FBQUNLLFdBQVU7UUFBUUMsY0FBYTtRQUFPQyxZQUFZO1FBQUNDLHdCQUF3QjtrQkFDeEYsNEVBQUNOLCtEQUFZQTtzQkFDWCw0RUFBQ0QseUVBQWlCQTswQkFDaEIsNEVBQUNRO29CQUFJRCx3QkFBd0I7OEJBQzFCSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8uL2NvbXBvbmVudHMvcHJvdmlkZXJzLnRzeD9jNTYyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIlxuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEFwaUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSBcIkAvY29udGV4dHMvQXBpQ29uZmlnQ29udGV4dFwiXG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tIFwiQC9jb250ZXh0cy9BdXRoQ29udGV4dFwiXG5cbmludGVyZmFjZSBQcm92aWRlcnNQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3ZpZGVycyh7IGNoaWxkcmVuIH06IFByb3ZpZGVyc1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFRoZW1lUHJvdmlkZXIgYXR0cmlidXRlPVwiY2xhc3NcIiBkZWZhdWx0VGhlbWU9XCJkYXJrXCIgZW5hYmxlU3lzdGVtIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgIDxBcGlDb25maWdQcm92aWRlcj5cbiAgICAgICAgICA8ZGl2IHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9BcGlDb25maWdQcm92aWRlcj5cbiAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlRoZW1lUHJvdmlkZXIiLCJBcGlDb25maWdQcm92aWRlciIsIkF1dGhQcm92aWRlciIsIlByb3ZpZGVycyIsImNoaWxkcmVuIiwiYXR0cmlidXRlIiwiZGVmYXVsdFRoZW1lIiwiZW5hYmxlU3lzdGVtIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiZGl2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/providers.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/components/ui/button.tsx\",\n        lineNumber: 46,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLDBSQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3g/ODk0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gIFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTBcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5LzkwXCIsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgIFwiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwXCIsXG4gICAgICAgIG91dGxpbmU6XG4gICAgICAgICAgXCJib3JkZXIgYm9yZGVyLWlucHV0IGJnLWJhY2tncm91bmQgaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmRcIixcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgIFwiYmctc2Vjb25kYXJ5IHRleHQtc2Vjb25kYXJ5LWZvcmVncm91bmQgaG92ZXI6Ymctc2Vjb25kYXJ5LzgwXCIsXG4gICAgICAgIGdob3N0OiBcImhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIGxpbms6IFwidGV4dC1wcmltYXJ5IHVuZGVybGluZS1vZmZzZXQtNCBob3Zlcjp1bmRlcmxpbmVcIixcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiaC0xMCBweC00IHB5LTJcIixcbiAgICAgICAgc206IFwiaC05IHJvdW5kZWQtbWQgcHgtM1wiLFxuICAgICAgICBsZzogXCJoLTExIHJvdW5kZWQtbWQgcHgtOFwiLFxuICAgICAgICBpY29uOiBcImgtMTAgdy0xMFwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGRlZmF1bHRWYXJpYW50czoge1xuICAgICAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gICAgICBzaXplOiBcImRlZmF1bHRcIixcbiAgICB9LFxuICB9LFxuKVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvblByb3BzXG4gIGV4dGVuZHMgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LFxuICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHtcbiAgYXNDaGlsZD86IGJvb2xlYW5cbn1cblxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIlxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9LFxuKVxuQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJCdXR0b25cIlxuXG5leHBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNsb3QiLCJjdmEiLCJjbiIsImJ1dHRvblZhcmlhbnRzIiwidmFyaWFudHMiLCJ2YXJpYW50IiwiZGVmYXVsdCIsImRlc3RydWN0aXZlIiwib3V0bGluZSIsInNlY29uZGFyeSIsImdob3N0IiwibGluayIsInNpemUiLCJzbSIsImxnIiwiaWNvbiIsImRlZmF1bHRWYXJpYW50cyIsIkJ1dHRvbiIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJhc0NoaWxkIiwicHJvcHMiLCJyZWYiLCJDb21wIiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/components/ui/input.tsx\",\n        lineNumber: 11,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFLaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLGdXQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeD9kYTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuZXhwb3J0IGludGVyZmFjZSBJbnB1dFByb3BzXG4gIGV4dGVuZHMgUmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50PiB7fVxuXG5jb25zdCBJbnB1dCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgSW5wdXRQcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgdHlwZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgIFwiZmxleCBoLTEwIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBweC0zIHB5LTIgdGV4dC1zbSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIGZpbGU6Ym9yZGVyLTAgZmlsZTpiZy10cmFuc3BhcmVudCBmaWxlOnRleHQtc20gZmlsZTpmb250LW1lZGl1bSBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./contexts/ApiConfigContext.tsx":
/*!***************************************!*\
  !*** ./contexts/ApiConfigContext.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiConfigProvider: () => (/* binding */ ApiConfigProvider),\n/* harmony export */   useApiConfig: () => (/* binding */ useApiConfig)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_supabase_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/supabase/client */ \"(ssr)/./utils/supabase/client.ts\");\n/* __next_internal_client_entry_do_not_use__ ApiConfigProvider,useApiConfig auto */ \n\n\n// Création du contexte\nconst ApiConfigContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Provider du contexte\n// Clés pour le stockage des configurations\nconst LOCAL_STORAGE_KEY = \"bambi_api_configs\";\nconst USER_CONFIGS_KEY = \"bambi_user_configs\";\nconst PENDING_CONFIGS_KEY = \"bambi_pending_configs\";\nconst SYNC_STATUS_KEY = \"bambi_sync_status\";\nconst CONFIG_VERSION_KEY = \"bambi_config_version\";\n// Durée de validité du cache en millisecondes (7 jours)\nconst CACHE_VALIDITY_DURATION = 7 * 24 * 60 * 60 * 1000;\n// Nombre maximal de tentatives de synchronisation\nconst MAX_SYNC_RETRIES = 5;\n// Intervalle entre les tentatives de synchronisation (en millisecondes)\nconst SYNC_RETRY_INTERVAL = 30 * 1000; // 30 secondes\nfunction ApiConfigProvider({ children }) {\n    const supabase = (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [configs, setConfigs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [syncStatus, setSyncStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [lastSyncTime, setLastSyncTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [syncErrors, setSyncErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [configVersion, setConfigVersion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [pendingConfigs, setPendingConfigs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Fonction pour nettoyer le localStorage pour un utilisateur spécifique\n    const clearLocalStorageForUser = (userId)=>{\n        try {\n            if (false) {}\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors du nettoyage du cache local:\", error);\n        }\n    };\n    // Fonction pour nettoyer complètement le localStorage (à utiliser avec précaution)\n    // Cette fonction est utilisée en interne par clearLocalStorageForUser\n    const _clearAllLocalStorage = ()=>{\n        try {\n            if (false) {}\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors du nettoyage complet du cache local:\", error);\n        }\n    };\n    // Fonction pour sauvegarder les configurations dans le localStorage par utilisateur avec versionnage\n    const saveConfigsToLocalStorage = (userId, configsToSave)=>{\n        try {\n            if (false) {}\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors de la sauvegarde dans le localStorage:\", error);\n            // Enregistrer l'erreur dans les logs de synchronisation\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Erreur de sauvegarde: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n        }\n    };\n    // Fonction améliorée pour charger les configurations depuis le localStorage ou sessionStorage\n    // avec vérification stricte de l'appartenance des données à l'utilisateur actuel\n    const loadConfigsFromLocalStorage = (userId)=>{\n        try {\n            if (false) {}\n            return null;\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors du chargement depuis le cache:\", error);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Erreur de chargement: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n            return null;\n        }\n    };\n    // Récupérer l'utilisateur actuel et charger les configurations depuis Supabase une seule fois au démarrage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchUserAndConfigs = async ()=>{\n            try {\n                setIsLoading(true);\n                console.log(\"ApiConfigContext - Chargement initial des configurations API...\");\n                // Récupérer l'utilisateur actuel\n                const { data: { user: currentUser }, error: userError } = await supabase.auth.getUser();\n                if (userError) {\n                    console.error(\"ApiConfigContext - Erreur lors de la r\\xe9cup\\xe9ration de l'utilisateur:\", userError);\n                    // Ne pas effacer les configurations en cas d'erreur\n                    // Essayer de charger depuis le cache si possible\n                    if (false) {}\n                    setIsLoading(false);\n                    return;\n                }\n                console.log(\"ApiConfigContext - Utilisateur r\\xe9cup\\xe9r\\xe9:\", currentUser?.id);\n                setUser(currentUser);\n                if (!currentUser) {\n                    console.log(\"ApiConfigContext - Aucun utilisateur connect\\xe9\");\n                    // Ne pas effacer les configurations en cas d'absence d'utilisateur\n                    // Essayer de charger depuis le cache si possible\n                    if (false) {}\n                    setIsLoading(false);\n                    return;\n                }\n                // Essayer d'abord de charger les configurations depuis le localStorage\n                const cachedConfigs = loadConfigsFromLocalStorage(currentUser.id);\n                if (cachedConfigs && cachedConfigs.length > 0) {\n                    console.log(\"ApiConfigContext - Utilisation des configurations du cache local\");\n                    setConfigs(cachedConfigs);\n                    setIsLoading(false);\n                    // Charger les configurations depuis Supabase en arrière-plan pour mettre à jour le cache\n                    fetchConfigs().then((fetchedConfigs)=>{\n                        if (fetchedConfigs && fetchedConfigs.length > 0) {\n                            console.log(\"ApiConfigContext - Mise \\xe0 jour des configurations depuis Supabase\");\n                            setConfigs(fetchedConfigs);\n                            // Sauvegarder les configurations mises à jour dans le localStorage\n                            saveConfigsToLocalStorage(currentUser.id, fetchedConfigs);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"ApiConfigContext - Erreur lors de la mise \\xe0 jour depuis Supabase:\", error);\n                    // En cas d'erreur, nous gardons les configurations du cache\n                    });\n                } else {\n                    // Si pas de cache, charger depuis Supabase\n                    console.log(\"ApiConfigContext - Pas de cache local, chargement depuis Supabase\");\n                    try {\n                        const fetchedConfigs = await fetchConfigs();\n                        // Si des configurations ont été récupérées, les sauvegarder dans le localStorage\n                        if (fetchedConfigs && fetchedConfigs.length > 0) {\n                            setConfigs(fetchedConfigs);\n                            saveConfigsToLocalStorage(currentUser.id, fetchedConfigs);\n                        }\n                    } catch (error) {\n                        console.error(\"ApiConfigContext - Erreur lors du chargement depuis Supabase:\", error);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            } catch (error) {\n                console.error(\"ApiConfigContext - Erreur globale lors du chargement des configurations API:\", error);\n                // Ne pas effacer les configurations en cas d'erreur globale\n                // Essayer de charger depuis le cache si possible\n                if (false) {}\n                setIsLoading(false);\n            }\n        };\n        // Charger les configurations une seule fois au démarrage\n        fetchUserAndConfigs();\n        // Écouter les changements d'authentification\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session)=>{\n            console.log(\"ApiConfigContext - Changement d'\\xe9tat d'authentification:\", event);\n            // Mettre à jour l'utilisateur immédiatement\n            setUser(session?.user || null);\n            if (!session?.user) {\n                // Effacer les configurations de l'état local lors de la déconnexion\n                // pour éviter les fuites de données entre utilisateurs\n                console.log(\"ApiConfigContext - Utilisateur d\\xe9connect\\xe9, nettoyage des configurations\");\n                setConfigs([]); // Vider l'état local\n                // Si nous avons l'ID de l'utilisateur précédent, nettoyer son cache\n                if (user && user.id) {\n                    clearLocalStorageForUser(user.id);\n                }\n            } else if (event === \"SIGNED_IN\") {\n                // En cas de connexion, charger les configurations depuis le localStorage d'abord\n                const cachedConfigs = loadConfigsFromLocalStorage(session.user.id);\n                if (cachedConfigs && cachedConfigs.length > 0) {\n                    console.log(\"ApiConfigContext - Connexion: utilisation des configurations du cache local\");\n                    setConfigs(cachedConfigs);\n                    setIsLoading(false); // Important: marquer le chargement comme terminé\n                    // Puis mettre à jour en arrière-plan depuis Supabase\n                    fetchConfigs().then((fetchedConfigs)=>{\n                        if (fetchedConfigs && fetchedConfigs.length > 0) {\n                            console.log(\"ApiConfigContext - Mise \\xe0 jour des configurations depuis Supabase\");\n                            setConfigs(fetchedConfigs);\n                            saveConfigsToLocalStorage(session.user.id, fetchedConfigs);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"ApiConfigContext - Erreur lors de la mise \\xe0 jour depuis Supabase:\", error);\n                    // En cas d'erreur, nous gardons les configurations du cache\n                    });\n                } else {\n                    // Si pas de cache, charger depuis Supabase\n                    console.log(\"ApiConfigContext - Connexion: pas de cache local, chargement depuis Supabase\");\n                    fetchConfigs().then((fetchedConfigs)=>{\n                        if (fetchedConfigs && fetchedConfigs.length > 0) {\n                            setConfigs(fetchedConfigs);\n                            saveConfigsToLocalStorage(session.user.id, fetchedConfigs);\n                        }\n                        setIsLoading(false); // Important: marquer le chargement comme terminé\n                    }).catch((error)=>{\n                        console.error(\"ApiConfigContext - Erreur lors du chargement depuis Supabase:\", error);\n                        setIsLoading(false); // Important: marquer le chargement comme terminé même en cas d'erreur\n                    });\n                }\n            }\n        });\n        return ()=>{\n            subscription.unsubscribe();\n        };\n    }, [\n        supabase\n    ]);\n    // Fonction pour valider directement une clé API xAI sans passer par l'API\n    const validateXAIKeyDirectly = async (apiKey)=>{\n        try {\n            console.log(\"ApiConfigContext - Validation directe de la cl\\xe9 API xAI...\");\n            // Appel direct à l'API xAI pour valider la clé\n            const response = await fetch(\"https://api.x.ai/v1/models\", {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${apiKey}`,\n                    \"X-API-Key\": apiKey\n                }\n            });\n            if (response.ok) {\n                const data = await response.json();\n                const models = data.data.map((model)=>model.id);\n                const hasImageModel = models.includes(\"grok-2-image-1212\");\n                return {\n                    isValid: true,\n                    message: `Clé API xAI validée avec succès. ${hasImageModel ? \"Le mod\\xe8le grok-2-image-1212 est disponible.\" : \"Attention: Le mod\\xe8le grok-2-image-1212 n'est pas disponible.\"}`,\n                    provider: {\n                        name: \"xAI\",\n                        slug: \"xai\",\n                        models\n                    }\n                };\n            } else {\n                const errorData = await response.json();\n                return {\n                    isValid: false,\n                    message: `Clé API xAI invalide: ${errorData.error?.message || \"Erreur inconnue\"}`\n                };\n            }\n        } catch (err) {\n            console.error(\"ApiConfigContext - Erreur lors de la validation directe de la cl\\xe9 xAI:\", err);\n            return {\n                isValid: false,\n                message: `Erreur lors de la validation directe de la clé xAI: ${err.message}`\n            };\n        }\n    };\n    // Fonction pour valider une clé API\n    const validateApiKey = async (provider, apiKey)=>{\n        try {\n            console.log(\"ApiConfigContext - Validation de la cl\\xe9 API pour le fournisseur:\", provider);\n            // Si c'est xAI, essayer d'abord la validation directe\n            if (provider === \"xai\") {\n                try {\n                    const directResult = await validateXAIKeyDirectly(apiKey);\n                    if (directResult.isValid) {\n                        console.log(\"ApiConfigContext - Validation directe de la cl\\xe9 xAI r\\xe9ussie\");\n                        return directResult;\n                    }\n                } catch (directError) {\n                    console.warn(\"ApiConfigContext - \\xc9chec de la validation directe xAI, tentative via l'API standard:\", directError);\n                }\n            }\n            // Validation standard via l'API\n            const response = await fetch(\"/api/validate-api-key\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    provider,\n                    apiKey\n                })\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                console.error(\"ApiConfigContext - Erreur lors de la validation de la cl\\xe9 API:\", result.error);\n                // Si c'est xAI et que la validation standard a échoué, mais que nous n'avons pas encore essayé la validation directe\n                if (provider === \"xai\" && result.error?.includes(\"status\")) {\n                    console.log(\"ApiConfigContext - Tentative de validation directe xAI apr\\xe8s \\xe9chec de l'API standard\");\n                    return await validateXAIKeyDirectly(apiKey);\n                }\n                return {\n                    isValid: false,\n                    message: result.error || \"Erreur lors de la validation de la cl\\xe9 API\"\n                };\n            }\n            return result;\n        } catch (error) {\n            console.error(\"ApiConfigContext - Exception lors de la validation de la cl\\xe9 API:\", error);\n            // Si c'est xAI et que nous avons une erreur générale, essayer la validation directe\n            if (provider === \"xai\") {\n                console.log(\"ApiConfigContext - Tentative de validation directe xAI apr\\xe8s exception\");\n                try {\n                    return await validateXAIKeyDirectly(apiKey);\n                } catch (directError) {\n                    console.error(\"ApiConfigContext - \\xc9chec de la validation directe xAI apr\\xe8s exception:\", directError);\n                }\n            }\n            return {\n                isValid: false,\n                message: \"Erreur de connexion lors de la validation de la cl\\xe9 API\"\n            };\n        }\n    };\n    // Fonction robuste pour recharger les configurations depuis Supabase avec vérification et retry\n    const fetchConfigs = async (retryCount = 0)=>{\n        // Mettre à jour le statut de synchronisation\n        setSyncStatus(\"syncing\");\n        if (!user) {\n            console.log(\"ApiConfigContext - Aucun utilisateur connect\\xe9 pour charger les configurations\");\n            setSyncStatus(\"error\");\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    \"Tentative de chargement sans utilisateur connect\\xe9\"\n                ]);\n            return [];\n        }\n        try {\n            console.log(\"ApiConfigContext - Rechargement des configurations pour l'utilisateur:\", user.id, \"tentative:\", retryCount + 1);\n            // Vérifier d'abord la session\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                console.error(\"ApiConfigContext - Session Supabase expir\\xe9e ou invalide\");\n                // Tenter de rafraîchir la session\n                const { data: refreshData, error: refreshError } = await supabase.auth.refreshSession();\n                if (refreshError || !refreshData.session) {\n                    console.error(\"ApiConfigContext - Impossible de rafra\\xeechir la session:\", refreshError);\n                    setSyncStatus(\"error\");\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Session expirée: ${refreshError?.message || \"Erreur inconnue\"}`\n                        ]);\n                    // Retourner les configurations du cache si disponibles\n                    const cachedConfigs = loadConfigsFromLocalStorage(user.id);\n                    return cachedConfigs || [];\n                }\n                console.log(\"ApiConfigContext - Session rafra\\xeechie avec succ\\xe8s\");\n            }\n            // Requête avec timeout pour éviter les blocages\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    resolve({\n                        data: null,\n                        error: new Error(\"Timeout lors de la r\\xe9cup\\xe9ration des configurations\")\n                    });\n                }, 10000); // 10 secondes de timeout\n            });\n            // Requête Supabase avec debug\n            console.log(\"ApiConfigContext - R\\xe9cup\\xe9ration des configurations pour l'utilisateur:\", user.id);\n            // Vérifier que user_id est bien un UUID valide\n            if (!user.id || !/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(user.id)) {\n                console.error(\"ApiConfigContext - user_id invalide pour la r\\xe9cup\\xe9ration:\", user.id);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `user_id invalide pour la récupération: ${user.id}`\n                    ]);\n            }\n            // Requête Supabase avec debug\n            const fetchPromise = supabase.from(\"api_configurations\").select(`\n          id,\n          name,\n          provider_id,\n          model,\n          is_valid,\n          status,\n          last_validated_at,\n          created_at,\n          user_id,\n          api_providers (\n            id,\n            name,\n            slug\n          )\n        `).eq(\"user_id\", user.id);\n            // Utiliser Promise.race pour implémenter un timeout\n            const result = await Promise.race([\n                fetchPromise,\n                timeoutPromise\n            ]);\n            const { data, error } = result;\n            if (error) {\n                console.error(\"ApiConfigContext - Erreur lors du rechargement des configurations:\", error);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de récupération: ${error.message}`\n                    ]);\n                // Vérifier si l'erreur est liée aux permissions RLS\n                if (error.code === \"42501\" || error.message.includes(\"permission\") || error.message.includes(\"policy\")) {\n                    console.error(\"ApiConfigContext - Erreur de permission RLS lors de la r\\xe9cup\\xe9ration:\", error);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur de permission RLS lors de la récupération: ${error.message}`\n                        ]);\n                    // Vérifier la session utilisateur\n                    const { data: { session: currentSession } } = await supabase.auth.getSession();\n                    console.log(\"ApiConfigContext - Session utilisateur actuelle pour r\\xe9cup\\xe9ration:\", currentSession?.user?.id);\n                    // Vérifier que l'ID utilisateur dans la requête correspond à l'ID de session\n                    if (currentSession?.user?.id !== user.id) {\n                        console.error(\"ApiConfigContext - Incoh\\xe9rence d'ID utilisateur pour r\\xe9cup\\xe9ration:\", {\n                            sessionUserId: currentSession?.user?.id,\n                            requestUserId: user.id\n                        });\n                        setSyncErrors((prev)=>[\n                                ...prev,\n                                `Incohérence d'ID utilisateur pour récupération: session=${currentSession?.user?.id}, requête=${user.id}`\n                            ]);\n                    }\n                }\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    // Attendre avant de réessayer\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return fetchConfigs(retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                // Retourner les configurations du cache si disponibles\n                const cachedConfigs = loadConfigsFromLocalStorage(user.id);\n                return cachedConfigs || [];\n            }\n            if (!data || !Array.isArray(data)) {\n                console.error(\"ApiConfigContext - Donn\\xe9es invalides re\\xe7ues de Supabase:\", data);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        \"Format de donn\\xe9es invalide re\\xe7u de Supabase\"\n                    ]);\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return fetchConfigs(retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return [];\n            }\n            console.log(\"ApiConfigContext - Configurations recharg\\xe9es:\", data.length);\n            // Transformer les données pour correspondre à notre format ApiConfig\n            const transformedConfigs = data.map((item)=>{\n                // Déterminer le statut en fonction de is_valid si status n'existe pas\n                let configStatus = \"unknown\";\n                try {\n                    // Vérifier si la propriété status existe\n                    if (item.hasOwnProperty(\"status\") && item.status) {\n                        configStatus = item.status;\n                    } else if (item.hasOwnProperty(\"is_valid\")) {\n                        // Fallback sur is_valid si status n'existe pas\n                        configStatus = item.is_valid === true ? \"valid\" : \"invalid\";\n                    }\n                } catch (e) {\n                    console.warn(\"ApiConfigContext - Erreur lors de la d\\xe9termination du statut:\", e);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur de traitement du statut: ${e?.message || \"Erreur inconnue\"}`\n                        ]);\n                }\n                // Récupérer le slug du fournisseur\n                let providerSlug = \"unknown\";\n                try {\n                    if (item.api_providers) {\n                        if (typeof item.api_providers === \"object\") {\n                            // Vérifier si api_providers est un tableau ou un objet\n                            if (Array.isArray(item.api_providers)) {\n                                // Si c'est un tableau, prendre le premier élément\n                                if (item.api_providers.length > 0) {\n                                    providerSlug = item.api_providers[0].slug || \"unknown\";\n                                }\n                            } else {\n                                // Si c'est un objet, accéder directement au slug\n                                providerSlug = item.api_providers.slug || \"unknown\";\n                            }\n                        }\n                    }\n                } catch (e) {\n                    console.error(\"ApiConfigContext - Erreur lors de la r\\xe9cup\\xe9ration du slug:\", e);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur de récupération du slug: ${e?.message || \"Erreur inconnue\"}`\n                        ]);\n                }\n                return {\n                    id: item.id,\n                    name: item.name,\n                    provider: providerSlug,\n                    provider_id: item.provider_id,\n                    model: item.model || \"\",\n                    key: \"••••••••••••••••\",\n                    isValidated: item.is_valid,\n                    status: configStatus,\n                    last_validated_at: item.last_validated_at,\n                    created_at: item.created_at\n                };\n            });\n            console.log(\"ApiConfigContext - Configurations transform\\xe9es apr\\xe8s rechargement:\", transformedConfigs.length);\n            // Vérifier que les données sont cohérentes\n            if (transformedConfigs.length === 0 && data.length > 0) {\n                console.error(\"ApiConfigContext - Erreur de transformation: donn\\xe9es perdues\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        \"Erreur de transformation: donn\\xe9es perdues\"\n                    ]);\n                setSyncStatus(\"error\");\n            } else {\n                // Mettre à jour l'état local\n                setConfigs(transformedConfigs);\n                // Sauvegarder dans le cache local avec la nouvelle version\n                const newVersion = configVersion + 1;\n                setConfigVersion(newVersion);\n                saveConfigsToLocalStorage(user.id, transformedConfigs);\n                // Mettre à jour le statut de synchronisation\n                setSyncStatus(\"idle\");\n                setLastSyncTime(Date.now());\n                // Vérifier s'il y a des configurations en attente à synchroniser\n                if (pendingConfigs.length > 0) {\n                    console.log(\"ApiConfigContext - Synchronisation des configurations en attente:\", pendingConfigs.length);\n                // Cette partie sera implémentée dans la fonction syncPendingConfigs\n                }\n            }\n            // Retourner les configurations pour pouvoir les utiliser dans d'autres fonctions\n            return transformedConfigs;\n        } catch (configError) {\n            console.error(\"ApiConfigContext - Exception lors du rechargement des configurations:\", configError);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Exception: ${configError?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n            // Retry si possible\n            if (retryCount < MAX_SYNC_RETRIES) {\n                console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                return fetchConfigs(retryCount + 1);\n            }\n            // Retourner les configurations du cache si disponibles\n            const cachedConfigs = loadConfigsFromLocalStorage(user.id);\n            return cachedConfigs || [];\n        }\n    };\n    // Fonction pour sauvegarder une configuration en attente\n    const savePendingConfig = (userId, config)=>{\n        try {\n            if (false) {}\n            return false;\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors de la sauvegarde de la configuration en attente:\", error);\n            return false;\n        }\n    };\n    // Ajouter une nouvelle configuration avec gestion robuste des erreurs et sauvegarde locale\n    const addConfig = async (config, retryCount = 0)=>{\n        // Mettre à jour le statut de synchronisation\n        setSyncStatus(\"syncing\");\n        if (!user) {\n            console.error(\"ApiConfigContext - Impossible d'ajouter une configuration: utilisateur non connect\\xe9\");\n            setSyncStatus(\"error\");\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    \"Tentative d'ajout sans utilisateur connect\\xe9\"\n                ]);\n            // Sauvegarder la configuration en attente pour une synchronisation ultérieure\n            savePendingConfig(\"unknown\", config);\n            return {\n                id: \"\",\n                isValid: false,\n                message: \"Utilisateur non connect\\xe9 - Configuration sauvegard\\xe9e localement\"\n            };\n        }\n        try {\n            console.log(\"ApiConfigContext - Ajout d'une nouvelle configuration:\", config.name, \"tentative:\", retryCount + 1);\n            // Vérifier d'abord la session\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                console.error(\"ApiConfigContext - Session Supabase expir\\xe9e ou invalide\");\n                // Tenter de rafraîchir la session\n                const { data: refreshData, error: refreshError } = await supabase.auth.refreshSession();\n                if (refreshError || !refreshData.session) {\n                    console.error(\"ApiConfigContext - Impossible de rafra\\xeechir la session:\", refreshError);\n                    setSyncStatus(\"error\");\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Session expirée: ${refreshError?.message || \"Erreur inconnue\"}`\n                        ]);\n                    // Sauvegarder la configuration en attente\n                    savePendingConfig(user.id, config);\n                    return {\n                        id: \"\",\n                        isValid: false,\n                        message: \"Session expir\\xe9e - Configuration sauvegard\\xe9e localement pour synchronisation ult\\xe9rieure\"\n                    };\n                }\n                console.log(\"ApiConfigContext - Session rafra\\xeechie avec succ\\xe8s\");\n            }\n            // Récupérer l'ID du fournisseur à partir du slug\n            let providerId = config.provider_id;\n            if (!providerId && config.provider) {\n                // Si provider_id n'est pas fourni mais que provider (slug) l'est, récupérer l'ID\n                const { data: providerData, error: providerError } = await supabase.from(\"api_providers\").select(\"id\").eq(\"slug\", config.provider).single();\n                if (providerError) {\n                    console.error(\"ApiConfigContext - Erreur lors de la r\\xe9cup\\xe9ration du fournisseur:\", providerError);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Fournisseur non trouvé: ${providerError.message}`\n                        ]);\n                    if (retryCount < MAX_SYNC_RETRIES) {\n                        console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                        await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                        return addConfig(config, retryCount + 1);\n                    }\n                    setSyncStatus(\"error\");\n                    // Sauvegarder la configuration en attente\n                    savePendingConfig(user.id, config);\n                    return {\n                        id: \"\",\n                        isValid: false,\n                        message: \"Fournisseur non trouv\\xe9 - Configuration sauvegard\\xe9e localement\"\n                    };\n                } else if (providerData) {\n                    providerId = providerData.id;\n                    console.log(\"ApiConfigContext - ID du fournisseur r\\xe9cup\\xe9r\\xe9:\", providerId);\n                }\n            }\n            if (!providerId) {\n                console.error(\"ApiConfigContext - Impossible d'ajouter une configuration: ID du fournisseur manquant\");\n                setSyncStatus(\"error\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        \"ID du fournisseur manquant\"\n                    ]);\n                return {\n                    id: \"\",\n                    isValid: false,\n                    message: \"ID du fournisseur manquant\"\n                };\n            }\n            // Valider la clé API avant de l'ajouter\n            console.log(\"ApiConfigContext - Validation de la cl\\xe9 API avant ajout...\");\n            // Utiliser une promesse avec timeout pour éviter les validations infinies\n            let validationResult = {\n                isValid: true,\n                message: \"Validation par d\\xe9faut\",\n                provider: {\n                    name: config.provider,\n                    slug: config.provider\n                }\n            };\n            try {\n                const validationPromise = validateApiKey(config.provider, config.key);\n                const timeoutPromise = new Promise((resolve)=>{\n                    setTimeout(()=>{\n                        console.log(\"ApiConfigContext - Timeout de validation atteint, consid\\xe9rant la cl\\xe9 comme valide\");\n                        resolve({\n                            isValid: true,\n                            message: \"Validation automatique apr\\xe8s timeout\",\n                            provider: {\n                                name: config.provider,\n                                slug: config.provider\n                            }\n                        });\n                    }, 10000); // 10 secondes de timeout\n                });\n                // Utiliser la première promesse qui se résout\n                validationResult = await Promise.race([\n                    validationPromise,\n                    timeoutPromise\n                ]);\n            } catch (error) {\n                console.error(\"ApiConfigContext - Erreur lors de la validation de la cl\\xe9 API:\", error);\n                // En mode développement, considérer la clé comme valide malgré l'erreur\n                validationResult = {\n                    isValid: true,\n                    message: \"Validation automatique apr\\xe8s erreur\",\n                    provider: {\n                        name: config.provider,\n                        slug: config.provider\n                    }\n                };\n            }\n            // Déterminer le statut en fonction du résultat de la validation\n            const status = validationResult.isValid ? \"valid\" : \"invalid\";\n            console.log(\"ApiConfigContext - Statut de la cl\\xe9 API:\", status);\n            if (!validationResult.isValid) {\n                console.error(\"ApiConfigContext - La cl\\xe9 API n'est pas valide:\", validationResult.message);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Clé API invalide: ${validationResult.message}`\n                    ]);\n            // Continuer malgré l'échec de la validation pour permettre l'enregistrement de clés invalides\n            } else {\n                console.log(\"ApiConfigContext - Cl\\xe9 API valid\\xe9e avec succ\\xe8s\");\n            }\n            // SOLUTION RADICALE: Stocker la clé API en clair sans chiffrement\n            // Cela résout les problèmes de déchiffrement qui causent les erreurs avec l'API xAI\n            const encryptedApiKey = config.key; // Utiliser la clé en clair\n            // Préparer les données à insérer\n            const insertData = {\n                user_id: user.id,\n                name: config.name,\n                provider_id: providerId,\n                model: config.model,\n                api_key: encryptedApiKey,\n                is_valid: validationResult.isValid,\n                last_validated_at: new Date().toISOString()\n            };\n            // Ajouter le statut seulement si la colonne existe\n            try {\n                insertData.status = status;\n            } catch (e) {\n                console.warn(\"ApiConfigContext - La colonne status n'existe peut-\\xeatre pas:\", e);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur avec la colonne status: ${e?.message || \"Erreur inconnue\"}`\n                    ]);\n            }\n            // Requête avec timeout pour éviter les blocages\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    resolve({\n                        data: null,\n                        error: new Error(\"Timeout lors de l'insertion de la configuration\")\n                    });\n                }, 10000); // 10 secondes de timeout\n            });\n            // Requête Supabase avec debug\n            console.log(\"ApiConfigContext - Donn\\xe9es \\xe0 ins\\xe9rer:\", JSON.stringify(insertData, null, 2));\n            // Vérifier que user_id est bien un UUID valide\n            if (!insertData.user_id || !/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(insertData.user_id)) {\n                console.error(\"ApiConfigContext - user_id invalide:\", insertData.user_id);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `user_id invalide: ${insertData.user_id}`\n                    ]);\n            }\n            // Requête Supabase avec debug\n            const insertPromise = supabase.from(\"api_configurations\").insert(insertData).select(`\n          id,\n          name,\n          provider_id,\n          model,\n          is_valid,\n          status,\n          last_validated_at,\n          created_at,\n          user_id,\n          api_providers (\n            id,\n            name,\n            slug\n          )\n        `).single();\n            // Utiliser Promise.race pour implémenter un timeout\n            const result = await Promise.race([\n                insertPromise,\n                timeoutPromise\n            ]);\n            const { data, error } = result;\n            if (error) {\n                console.error(\"ApiConfigContext - Erreur lors de l'insertion de la configuration:\", error);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur d'insertion: ${error.message}`\n                    ]);\n                // Vérifier si l'erreur est liée aux permissions RLS\n                if (error.code === \"42501\" || error.message.includes(\"permission\") || error.message.includes(\"policy\")) {\n                    console.error(\"ApiConfigContext - Erreur de permission RLS:\", error);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur de permission RLS: ${error.message}`\n                        ]);\n                    // Vérifier la session utilisateur\n                    const { data: { session: currentSession } } = await supabase.auth.getSession();\n                    console.log(\"ApiConfigContext - Session utilisateur actuelle:\", currentSession?.user?.id);\n                    // Vérifier que l'ID utilisateur dans la requête correspond à l'ID de session\n                    if (currentSession?.user?.id !== insertData.user_id) {\n                        console.error(\"ApiConfigContext - Incoh\\xe9rence d'ID utilisateur:\", {\n                            sessionUserId: currentSession?.user?.id,\n                            requestUserId: insertData.user_id\n                        });\n                        setSyncErrors((prev)=>[\n                                ...prev,\n                                `Incohérence d'ID utilisateur: session=${currentSession?.user?.id}, requête=${insertData.user_id}`\n                            ]);\n                    }\n                }\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return addConfig(config, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                // Sauvegarder la configuration en attente\n                savePendingConfig(user.id, config);\n                return {\n                    id: \"\",\n                    isValid: false,\n                    message: `Erreur lors de l'insertion - Configuration sauvegardée localement: ${error.message}`\n                };\n            }\n            if (!data) {\n                console.error(\"ApiConfigContext - Donn\\xe9es invalides re\\xe7ues de Supabase apr\\xe8s insertion\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        \"Donn\\xe9es invalides re\\xe7ues apr\\xe8s insertion\"\n                    ]);\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return addConfig(config, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                // Sauvegarder la configuration en attente\n                savePendingConfig(user.id, config);\n                return {\n                    id: \"\",\n                    isValid: false,\n                    message: \"Erreur lors de l'insertion - Configuration sauvegard\\xe9e localement\"\n                };\n            }\n            console.log(\"ApiConfigContext - Configuration ajout\\xe9e avec succ\\xe8s, ID:\", data.id);\n            // Au lieu de recharger toutes les configurations, ajouter directement la nouvelle configuration à l'état local\n            // Récupérer le slug du fournisseur\n            let providerSlug = \"unknown\";\n            try {\n                if (data.api_providers) {\n                    if (typeof data.api_providers === \"object\") {\n                        // Vérifier si api_providers est un tableau ou un objet\n                        if (Array.isArray(data.api_providers)) {\n                            // Si c'est un tableau, prendre le premier élément\n                            if (data.api_providers.length > 0) {\n                                providerSlug = data.api_providers[0].slug || \"unknown\";\n                            }\n                        } else {\n                            // Si c'est un objet, accéder directement au slug\n                            providerSlug = data.api_providers.slug || \"unknown\";\n                        }\n                    }\n                }\n            } catch (e) {\n                console.error(\"ApiConfigContext - Erreur lors de la r\\xe9cup\\xe9ration du slug:\", e);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de récupération du slug: ${e?.message || \"Erreur inconnue\"}`\n                    ]);\n            }\n            const newConfig = {\n                id: data.id,\n                name: data.name,\n                provider: providerSlug,\n                provider_id: data.provider_id,\n                model: data.model || \"\",\n                key: \"••••••••••••••••\",\n                isValidated: data.is_valid,\n                status: data.status || (data.is_valid ? \"valid\" : \"invalid\"),\n                last_validated_at: data.last_validated_at,\n                created_at: data.created_at\n            };\n            // Mettre à jour l'état local avec la nouvelle configuration\n            setConfigs((prevConfigs)=>[\n                    ...prevConfigs,\n                    newConfig\n                ]);\n            // Sauvegarder dans le cache local avec la nouvelle version\n            const newVersion = configVersion + 1;\n            setConfigVersion(newVersion);\n            saveConfigsToLocalStorage(user.id, [\n                ...configs,\n                newConfig\n            ]);\n            // Mettre à jour le statut de synchronisation\n            setSyncStatus(\"idle\");\n            setLastSyncTime(Date.now());\n            return {\n                id: data.id,\n                isValid: validationResult.isValid,\n                message: validationResult.isValid ? \"Configuration ajout\\xe9e avec succ\\xe8s\" : \"Configuration ajout\\xe9e mais la cl\\xe9 API semble invalide\"\n            };\n        } catch (error) {\n            console.error(\"ApiConfigContext - Exception lors de l'ajout de la configuration:\", error);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Exception: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n            // Retry si possible\n            if (retryCount < MAX_SYNC_RETRIES) {\n                console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                return addConfig(config, retryCount + 1);\n            }\n            // Sauvegarder la configuration en attente\n            if (user) {\n                savePendingConfig(user.id, config);\n            } else {\n                savePendingConfig(\"unknown\", config);\n            }\n            return {\n                id: \"\",\n                isValid: false,\n                message: `Erreur lors de l'ajout - Configuration sauvegardée localement: ${error?.message || \"Erreur inconnue\"}`\n            };\n        }\n    };\n    // Mettre à jour une configuration existante avec gestion robuste des erreurs et persistance locale\n    const updateConfig = async (id, config, retryCount = 0)=>{\n        // Mettre à jour le statut de synchronisation\n        setSyncStatus(\"syncing\");\n        if (!user) {\n            console.error(\"ApiConfigContext - Impossible de mettre \\xe0 jour la configuration: utilisateur non connect\\xe9\");\n            setSyncStatus(\"error\");\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    \"Tentative de mise \\xe0 jour sans utilisateur connect\\xe9\"\n                ]);\n            return {\n                isValid: false,\n                message: \"Utilisateur non connect\\xe9\"\n            };\n        }\n        try {\n            console.log(\"ApiConfigContext - Mise \\xe0 jour de la configuration:\", id, \"tentative:\", retryCount + 1);\n            // Vérifier d'abord la session\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                console.error(\"ApiConfigContext - Session Supabase expir\\xe9e ou invalide\");\n                // Tenter de rafraîchir la session\n                const { data: refreshData, error: refreshError } = await supabase.auth.refreshSession();\n                if (refreshError || !refreshData.session) {\n                    console.error(\"ApiConfigContext - Impossible de rafra\\xeechir la session:\", refreshError);\n                    setSyncStatus(\"error\");\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Session expirée: ${refreshError?.message || \"Erreur inconnue\"}`\n                        ]);\n                    return {\n                        isValid: false,\n                        message: \"Session expir\\xe9e, veuillez vous reconnecter\"\n                    };\n                }\n                console.log(\"ApiConfigContext - Session rafra\\xeechie avec succ\\xe8s\");\n            }\n            // Récupérer la configuration existante pour obtenir le provider\n            const existingConfig = getConfigById(id);\n            if (!existingConfig) {\n                console.error(\"ApiConfigContext - Configuration non trouv\\xe9e localement:\", id);\n                setSyncStatus(\"error\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Configuration non trouvée localement: ${id}`\n                    ]);\n                return {\n                    isValid: false,\n                    message: \"Configuration non trouv\\xe9e\"\n                };\n            }\n            // Vérifier que la configuration existe dans Supabase et appartient à l'utilisateur\n            const { data: configData, error: configError } = await supabase.from(\"api_configurations\").select(\"*\").eq(\"id\", id).eq(\"user_id\", user.id).single();\n            if (configError) {\n                console.error(\"ApiConfigContext - Erreur lors de la v\\xe9rification de la configuration:\", configError);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de vérification: ${configError.message}`\n                    ]);\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return updateConfig(id, config, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return {\n                    isValid: false,\n                    message: configError.message\n                };\n            }\n            if (!configData) {\n                console.error(\"ApiConfigContext - Configuration non trouv\\xe9e dans Supabase:\", id);\n                setSyncStatus(\"error\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Configuration non trouvée dans Supabase: ${id}`\n                    ]);\n                // Supprimer la configuration de l'état local si elle n'existe plus dans Supabase\n                setConfigs((prevConfigs)=>prevConfigs.filter((c)=>c.id !== id));\n                // Mettre à jour le cache local\n                if (user) {\n                    const updatedConfigs = configs.filter((c)=>c.id !== id);\n                    saveConfigsToLocalStorage(user.id, updatedConfigs);\n                }\n                return {\n                    isValid: false,\n                    message: \"Configuration non trouv\\xe9e dans la base de donn\\xe9es\"\n                };\n            }\n            // Préparer les données à mettre à jour\n            const updateData = {\n                last_validated_at: new Date().toISOString()\n            };\n            // Mettre à jour le nom si fourni\n            if (config.name) {\n                updateData.name = config.name;\n            }\n            // Mettre à jour le modèle si fourni\n            if (config.model) {\n                updateData.model = config.model;\n            }\n            // Si une nouvelle clé API est fournie et différente de la valeur masquée, la valider puis la chiffrer\n            if (config.key && config.key !== \"••••••••••••••••\") {\n                // Valider la clé API avant de la mettre à jour\n                console.log(\"ApiConfigContext - Validation de la cl\\xe9 API avant mise \\xe0 jour...\");\n                const validationResult = await validateApiKey(config.provider || existingConfig.provider, config.key);\n                // Déterminer le statut en fonction du résultat de la validation\n                const status = validationResult.isValid ? \"valid\" : \"invalid\";\n                console.log(\"ApiConfigContext - Statut de la nouvelle cl\\xe9 API:\", status);\n                // Mettre à jour is_valid qui est toujours présent\n                updateData.is_valid = validationResult.isValid;\n                // Ajouter le statut seulement si la colonne existe\n                try {\n                    updateData.status = status;\n                } catch (e) {\n                    console.warn(\"ApiConfigContext - La colonne status n'existe peut-\\xeatre pas:\", e);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur avec la colonne status: ${e?.message || \"Erreur inconnue\"}`\n                        ]);\n                }\n                if (!validationResult.isValid) {\n                    console.error(\"ApiConfigContext - La cl\\xe9 API n'est pas valide:\", validationResult.message);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Clé API invalide: ${validationResult.message}`\n                        ]);\n                // Continuer malgré l'échec de la validation pour permettre l'enregistrement de clés invalides\n                } else {\n                    console.log(\"ApiConfigContext - Cl\\xe9 API valid\\xe9e avec succ\\xe8s\");\n                }\n                // SOLUTION RADICALE: Stocker la clé API en clair sans chiffrement\n                updateData.api_key = config.key; // Utiliser la clé en clair\n            }\n            // Si aucune donnée à mettre à jour, retourner un succès\n            if (Object.keys(updateData).length === 1 && updateData.last_validated_at) {\n                console.log(\"ApiConfigContext - Aucune donn\\xe9e significative \\xe0 mettre \\xe0 jour\");\n                setSyncStatus(\"idle\");\n                return {\n                    isValid: true,\n                    message: \"Aucune modification effectu\\xe9e\"\n                };\n            }\n            // Requête avec timeout pour éviter les blocages\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    resolve({\n                        data: null,\n                        error: new Error(\"Timeout lors de la mise \\xe0 jour de la configuration\")\n                    });\n                }, 10000); // 10 secondes de timeout\n            });\n            // Requête Supabase\n            const updatePromise = supabase.from(\"api_configurations\").update(updateData).eq(\"id\", id).eq(\"user_id\", user.id).select(`\n          id,\n          name,\n          provider_id,\n          model,\n          is_valid,\n          status,\n          last_validated_at,\n          created_at,\n          api_providers (\n            id,\n            name,\n            slug\n          )\n        `).single();\n            // Utiliser Promise.race pour implémenter un timeout\n            const result = await Promise.race([\n                updatePromise,\n                timeoutPromise\n            ]);\n            const { data, error } = result;\n            if (error) {\n                console.error(\"ApiConfigContext - Erreur lors de la mise \\xe0 jour de la configuration:\", error);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de mise à jour: ${error.message}`\n                    ]);\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return updateConfig(id, config, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return {\n                    isValid: false,\n                    message: error.message\n                };\n            }\n            if (!data) {\n                console.error(\"ApiConfigContext - Donn\\xe9es invalides re\\xe7ues de Supabase apr\\xe8s mise \\xe0 jour\");\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        \"Donn\\xe9es invalides re\\xe7ues apr\\xe8s mise \\xe0 jour\"\n                    ]);\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return updateConfig(id, config, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return {\n                    isValid: false,\n                    message: \"Erreur lors de la mise \\xe0 jour de la configuration\"\n                };\n            }\n            console.log(\"ApiConfigContext - Configuration mise \\xe0 jour avec succ\\xe8s\");\n            // Récupérer le slug du fournisseur\n            let providerSlug = existingConfig.provider;\n            try {\n                if (data.api_providers) {\n                    if (typeof data.api_providers === \"object\") {\n                        // Vérifier si api_providers est un tableau ou un objet\n                        if (Array.isArray(data.api_providers)) {\n                            // Si c'est un tableau, prendre le premier élément\n                            if (data.api_providers.length > 0) {\n                                providerSlug = data.api_providers[0].slug || existingConfig.provider;\n                            }\n                        } else {\n                            // Si c'est un objet, accéder directement au slug\n                            providerSlug = data.api_providers.slug || existingConfig.provider;\n                        }\n                    }\n                }\n            } catch (e) {\n                console.error(\"ApiConfigContext - Erreur lors de la r\\xe9cup\\xe9ration du slug:\", e);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de récupération du slug: ${e?.message || \"Erreur inconnue\"}`\n                    ]);\n            }\n            // Créer la configuration mise à jour\n            const updatedConfig = {\n                id: data.id,\n                name: data.name,\n                provider: providerSlug,\n                provider_id: data.provider_id,\n                model: data.model || \"\",\n                key: \"••••••••••••••••\",\n                isValidated: data.is_valid,\n                status: data.status || (data.is_valid ? \"valid\" : \"invalid\"),\n                last_validated_at: data.last_validated_at,\n                created_at: data.created_at\n            };\n            // Mettre à jour l'état local\n            const updatedConfigs = configs.map((c)=>c.id === id ? updatedConfig : c);\n            setConfigs(updatedConfigs);\n            // Sauvegarder dans le cache local avec la nouvelle version\n            const newVersion = configVersion + 1;\n            setConfigVersion(newVersion);\n            saveConfigsToLocalStorage(user.id, updatedConfigs);\n            // Mettre à jour le statut de synchronisation\n            setSyncStatus(\"idle\");\n            setLastSyncTime(Date.now());\n            return {\n                isValid: true,\n                message: config.key && !updateData.is_valid ? \"Configuration mise \\xe0 jour mais la cl\\xe9 API semble invalide\" : \"Configuration mise \\xe0 jour avec succ\\xe8s\"\n            };\n        } catch (error) {\n            console.error(\"ApiConfigContext - Exception lors de la mise \\xe0 jour de la configuration:\", error);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Exception: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n            // Retry si possible\n            if (retryCount < MAX_SYNC_RETRIES) {\n                console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                return updateConfig(id, config, retryCount + 1);\n            }\n            return {\n                isValid: false,\n                message: error?.message || \"Erreur lors de la mise \\xe0 jour de la configuration\"\n            };\n        }\n    };\n    // Supprimer une configuration avec gestion robuste des erreurs et persistance locale\n    const deleteConfig = async (id, retryCount = 0)=>{\n        // Mettre à jour le statut de synchronisation\n        setSyncStatus(\"syncing\");\n        if (!user) {\n            console.error(\"ApiConfigContext - Impossible de supprimer la configuration: utilisateur non connect\\xe9\");\n            setSyncStatus(\"error\");\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    \"Tentative de suppression sans utilisateur connect\\xe9\"\n                ]);\n            return;\n        }\n        try {\n            console.log(\"ApiConfigContext - Suppression de la configuration:\", id, \"tentative:\", retryCount + 1);\n            // Vérifier d'abord la session\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                console.error(\"ApiConfigContext - Session Supabase expir\\xe9e ou invalide\");\n                // Tenter de rafraîchir la session\n                const { data: refreshData, error: refreshError } = await supabase.auth.refreshSession();\n                if (refreshError || !refreshData.session) {\n                    console.error(\"ApiConfigContext - Impossible de rafra\\xeechir la session:\", refreshError);\n                    setSyncStatus(\"error\");\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Session expirée: ${refreshError?.message || \"Erreur inconnue\"}`\n                        ]);\n                    return;\n                }\n                console.log(\"ApiConfigContext - Session rafra\\xeechie avec succ\\xe8s\");\n            }\n            // Vérifier que la configuration existe et appartient à l'utilisateur\n            const { data: configData, error: configError } = await supabase.from(\"api_configurations\").select(\"id\").eq(\"id\", id).eq(\"user_id\", user.id).single();\n            if (configError && configError.code !== \"PGRST116\") {\n                console.error(\"ApiConfigContext - Erreur lors de la v\\xe9rification de la configuration:\", configError);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de vérification: ${configError.message}`\n                    ]);\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return deleteConfig(id, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return;\n            }\n            // Si la configuration n'existe pas dans Supabase, la supprimer de l'état local et du cache\n            if (!configData) {\n                console.log(\"ApiConfigContext - Configuration non trouv\\xe9e dans Supabase, suppression locale uniquement:\", id);\n                // Supprimer la configuration de l'état local\n                const updatedConfigs = configs.filter((config)=>config.id !== id);\n                setConfigs(updatedConfigs);\n                // Mettre à jour le cache local\n                const newVersion = configVersion + 1;\n                setConfigVersion(newVersion);\n                saveConfigsToLocalStorage(user.id, updatedConfigs);\n                // Vérifier s'il existe d'autres configurations avec le même ID dans d'autres tables\n                try {\n                    // Vérifier dans la table api_keys (ancienne table)\n                    const { data: oldKeyData, error: oldKeyError } = await supabase.from(\"api_keys\").delete().eq(\"id\", id);\n                    if (oldKeyError) {\n                        console.warn(\"ApiConfigContext - Erreur lors de la suppression dans la table api_keys:\", oldKeyError);\n                    } else if (oldKeyData) {\n                        console.log(\"ApiConfigContext - Configuration supprim\\xe9e de la table api_keys\");\n                    }\n                } catch (cleanupError) {\n                    console.warn(\"ApiConfigContext - Erreur lors du nettoyage des anciennes tables:\", cleanupError);\n                }\n                setSyncStatus(\"idle\");\n                setLastSyncTime(Date.now());\n                return;\n            }\n            // Requête avec timeout pour éviter les blocages\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    resolve({\n                        error: new Error(\"Timeout lors de la suppression de la configuration\")\n                    });\n                }, 10000); // 10 secondes de timeout\n            });\n            // Requête Supabase\n            const deletePromise = supabase.from(\"api_configurations\").delete().eq(\"id\", id).eq(\"user_id\", user.id);\n            // Utiliser Promise.race pour implémenter un timeout\n            const result = await Promise.race([\n                deletePromise,\n                timeoutPromise\n            ]);\n            const { error } = result;\n            if (error) {\n                console.error(\"ApiConfigContext - Erreur lors de la suppression de la configuration:\", error);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de suppression: ${error.message}`\n                    ]);\n                // Retry si possible\n                if (retryCount < MAX_SYNC_RETRIES) {\n                    console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                    await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                    return deleteConfig(id, retryCount + 1);\n                }\n                setSyncStatus(\"error\");\n                return;\n            }\n            console.log(\"ApiConfigContext - Configuration supprim\\xe9e avec succ\\xe8s\");\n            // Supprimer la configuration de l'état local\n            const updatedConfigs = configs.filter((config)=>config.id !== id);\n            setConfigs(updatedConfigs);\n            // Mettre à jour le cache local avec la nouvelle version\n            const newVersion = configVersion + 1;\n            setConfigVersion(newVersion);\n            saveConfigsToLocalStorage(user.id, updatedConfigs);\n            // Mettre à jour le statut de synchronisation\n            setSyncStatus(\"idle\");\n            setLastSyncTime(Date.now());\n        } catch (error) {\n            console.error(\"ApiConfigContext - Exception lors de la suppression de la configuration:\", error);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Exception: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n            // Retry si possible\n            if (retryCount < MAX_SYNC_RETRIES) {\n                console.log(`ApiConfigContext - Nouvelle tentative (${retryCount + 1}/${MAX_SYNC_RETRIES}) dans ${SYNC_RETRY_INTERVAL / 1000}s...`);\n                await new Promise((resolve)=>setTimeout(resolve, SYNC_RETRY_INTERVAL));\n                return deleteConfig(id, retryCount + 1);\n            }\n        }\n    };\n    // Obtenir une configuration par son ID\n    const getConfigById = (id)=>{\n        return configs.find((config)=>config.id === id);\n    };\n    // Obtenir toutes les configurations\n    const getAllConfigs = ()=>{\n        return configs;\n    };\n    // Fonction pour synchroniser les configurations en attente\n    const syncPendingConfigs = async ()=>{\n        if (!user || \"undefined\" === \"undefined\") return;\n        // Mettre à jour le statut de synchronisation\n        setSyncStatus(\"syncing\");\n        try {\n            // Récupérer les configurations en attente\n            const storedPending = localStorage.getItem(PENDING_CONFIGS_KEY);\n            if (!storedPending) {\n                setSyncStatus(\"idle\");\n                return;\n            }\n            let pendingData = {};\n            try {\n                pendingData = JSON.parse(storedPending);\n            } catch (e) {\n                console.error(\"ApiConfigContext - Erreur lors du parsing des configurations en attente:\", e);\n                setSyncErrors((prev)=>[\n                        ...prev,\n                        `Erreur de parsing des configurations en attente: ${e?.message || \"Erreur inconnue\"}`\n                    ]);\n                setSyncStatus(\"error\");\n                return;\n            }\n            // Vérifier s'il y a des configurations en attente pour l'utilisateur actuel\n            if (!pendingData[user.id] || pendingData[user.id].length === 0) {\n                setSyncStatus(\"idle\");\n                return;\n            }\n            console.log(\"ApiConfigContext - Synchronisation des configurations en attente:\", pendingData[user.id].length);\n            // Synchroniser chaque configuration en attente\n            const results = [];\n            for (const pendingConfig of pendingData[user.id]){\n                try {\n                    console.log(\"ApiConfigContext - Tentative de synchronisation de la configuration en attente:\", pendingConfig.name);\n                    const result = await addConfig(pendingConfig);\n                    results.push(result);\n                    if (result.id) {\n                        console.log(\"ApiConfigContext - Configuration en attente synchronis\\xe9e avec succ\\xe8s:\", pendingConfig.name);\n                    } else {\n                        console.error(\"ApiConfigContext - \\xc9chec de la synchronisation de la configuration en attente:\", pendingConfig.name);\n                    }\n                } catch (e) {\n                    console.error(\"ApiConfigContext - Erreur lors de la synchronisation de la configuration en attente:\", e);\n                    setSyncErrors((prev)=>[\n                            ...prev,\n                            `Erreur de synchronisation: ${e?.message || \"Erreur inconnue\"}`\n                        ]);\n                }\n            }\n            // Supprimer les configurations en attente qui ont été synchronisées avec succès\n            const successfulIds = results.filter((r)=>r.id).map((r)=>r.id);\n            if (successfulIds.length > 0) {\n                // Mettre à jour les configurations en attente\n                pendingData[user.id] = pendingData[user.id].filter((pc)=>{\n                    // Garder uniquement les configurations qui n'ont pas été synchronisées avec succès\n                    // On compare par nom car les configurations en attente n'ont pas d'ID\n                    return !results.some((r)=>r.id && r.message.includes(\"succ\\xe8s\") && pc.name === pc.name);\n                });\n                // Sauvegarder les configurations en attente mises à jour\n                localStorage.setItem(PENDING_CONFIGS_KEY, JSON.stringify(pendingData));\n                // Mettre à jour l'état local\n                setPendingConfigs(pendingData[user.id]);\n                console.log(\"ApiConfigContext - Configurations en attente mises \\xe0 jour:\", pendingData[user.id].length);\n            }\n            // Mettre à jour le statut de synchronisation\n            setSyncStatus(\"idle\");\n            setLastSyncTime(Date.now());\n        } catch (error) {\n            console.error(\"ApiConfigContext - Erreur lors de la synchronisation des configurations en attente:\", error);\n            setSyncErrors((prev)=>[\n                    ...prev,\n                    `Erreur de synchronisation: ${error?.message || \"Erreur inconnue\"}`\n                ]);\n            setSyncStatus(\"error\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ApiConfigContext.Provider, {\n        value: {\n            configs,\n            isLoading,\n            syncStatus,\n            lastSyncTime,\n            syncErrors,\n            pendingConfigs,\n            addConfig,\n            updateConfig,\n            deleteConfig,\n            getConfigById,\n            getAllConfigs,\n            validateApiKey,\n            syncPendingConfigs,\n            clearLocalStorageForUser\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            suppressHydrationWarning: true,\n            children: children\n        }, void 0, false, {\n            fileName: \"/workspace/hiiiiiiiii/contexts/ApiConfigContext.tsx\",\n            lineNumber: 1845,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/contexts/ApiConfigContext.tsx\",\n        lineNumber: 1827,\n        columnNumber: 5\n    }, this);\n}\n// Hook personnalisé pour utiliser le contexte\nfunction useApiConfig() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ApiConfigContext);\n    if (context === undefined) {\n        throw new Error(\"useApiConfig doit \\xeatre utilis\\xe9 \\xe0 l'int\\xe9rieur d'un ApiConfigProvider\");\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0gsTUFBTTtJQUNsQjtJQUNBLE9BQU8rRTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb250ZXh0cy9BcGlDb25maWdDb250ZXh0LnRzeD82MjcwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC91dGlscy9zdXBhYmFzZS9jbGllbnRcIjtcblxuLy8gSW50ZXJmYWNlIHBvdXIgbGUgcsOpc3VsdGF0IGRlIHZhbGlkYXRpb24gZCd1bmUgY2zDqSBBUElcbmludGVyZmFjZSBBcGlLZXlWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaXNWYWxpZDogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBwcm92aWRlcj86IGFueTtcbn1cblxuLy8gVHlwZSBwb3VyIGxlcyBjb25maWd1cmF0aW9ucyBBUElcbmV4cG9ydCB0eXBlIEFwaUNvbmZpZyA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBwcm92aWRlcl9pZD86IG51bWJlcjtcbiAgbW9kZWw6IHN0cmluZztcbiAga2V5OiBzdHJpbmc7XG4gIGlzVmFsaWRhdGVkPzogYm9vbGVhbjtcbiAgc3RhdHVzPzogJ3ZhbGlkJyB8ICdpbnZhbGlkJyB8ICd1bmtub3duJztcbiAgbGFzdF92YWxpZGF0ZWRfYXQ/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG59O1xuXG4vLyBJbnRlcmZhY2UgcG91ciBsZSBjb250ZXh0ZVxuaW50ZXJmYWNlIEFwaUNvbmZpZ0NvbnRleHRUeXBlIHtcbiAgY29uZmlnczogQXBpQ29uZmlnW107XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgc3luY1N0YXR1czogJ2lkbGUnIHwgJ3N5bmNpbmcnIHwgJ2Vycm9yJztcbiAgbGFzdFN5bmNUaW1lOiBudW1iZXIgfCBudWxsO1xuICBzeW5jRXJyb3JzOiBzdHJpbmdbXTtcbiAgcGVuZGluZ0NvbmZpZ3M6IE9taXQ8QXBpQ29uZmlnLCBcImlkXCI+W107XG4gIGFkZENvbmZpZzogKGNvbmZpZzogT21pdDxBcGlDb25maWcsIFwiaWRcIj4sIHJldHJ5Q291bnQ/OiBudW1iZXIpID0+IFByb21pc2U8eyBpZDogc3RyaW5nOyBpc1ZhbGlkOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT47XG4gIHVwZGF0ZUNvbmZpZzogKGlkOiBzdHJpbmcsIGNvbmZpZzogUGFydGlhbDxPbWl0PEFwaUNvbmZpZywgXCJpZFwiPj4sIHJldHJ5Q291bnQ/OiBudW1iZXIpID0+IFByb21pc2U8eyBpc1ZhbGlkOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT47XG4gIGRlbGV0ZUNvbmZpZzogKGlkOiBzdHJpbmcsIHJldHJ5Q291bnQ/OiBudW1iZXIpID0+IFByb21pc2U8dm9pZD47XG4gIGdldENvbmZpZ0J5SWQ6IChpZDogc3RyaW5nKSA9PiBBcGlDb25maWcgfCB1bmRlZmluZWQ7XG4gIGdldEFsbENvbmZpZ3M6ICgpID0+IEFwaUNvbmZpZ1tdO1xuICB2YWxpZGF0ZUFwaUtleTogKHByb3ZpZGVyOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nKSA9PiBQcm9taXNlPEFwaUtleVZhbGlkYXRpb25SZXN1bHQ+O1xuICBzeW5jUGVuZGluZ0NvbmZpZ3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGNsZWFyTG9jYWxTdG9yYWdlRm9yVXNlcjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG4vLyBDcsOpYXRpb24gZHUgY29udGV4dGVcbmNvbnN0IEFwaUNvbmZpZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PEFwaUNvbmZpZ0NvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4vLyBQcm92aWRlciBkdSBjb250ZXh0ZVxuLy8gQ2zDqXMgcG91ciBsZSBzdG9ja2FnZSBkZXMgY29uZmlndXJhdGlvbnNcbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gJ2JhbWJpX2FwaV9jb25maWdzJztcbmNvbnN0IFVTRVJfQ09ORklHU19LRVkgPSAnYmFtYmlfdXNlcl9jb25maWdzJztcbmNvbnN0IFBFTkRJTkdfQ09ORklHU19LRVkgPSAnYmFtYmlfcGVuZGluZ19jb25maWdzJztcbmNvbnN0IFNZTkNfU1RBVFVTX0tFWSA9ICdiYW1iaV9zeW5jX3N0YXR1cyc7XG5jb25zdCBDT05GSUdfVkVSU0lPTl9LRVkgPSAnYmFtYmlfY29uZmlnX3ZlcnNpb24nO1xuXG4vLyBEdXLDqWUgZGUgdmFsaWRpdMOpIGR1IGNhY2hlIGVuIG1pbGxpc2Vjb25kZXMgKDcgam91cnMpXG5jb25zdCBDQUNIRV9WQUxJRElUWV9EVVJBVElPTiA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG4vLyBOb21icmUgbWF4aW1hbCBkZSB0ZW50YXRpdmVzIGRlIHN5bmNocm9uaXNhdGlvblxuY29uc3QgTUFYX1NZTkNfUkVUUklFUyA9IDU7XG5cbi8vIEludGVydmFsbGUgZW50cmUgbGVzIHRlbnRhdGl2ZXMgZGUgc3luY2hyb25pc2F0aW9uIChlbiBtaWxsaXNlY29uZGVzKVxuY29uc3QgU1lOQ19SRVRSWV9JTlRFUlZBTCA9IDMwICogMTAwMDsgLy8gMzAgc2Vjb25kZXNcblxuZXhwb3J0IGZ1bmN0aW9uIEFwaUNvbmZpZ1Byb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2NvbmZpZ3MsIHNldENvbmZpZ3NdID0gdXNlU3RhdGU8QXBpQ29uZmlnW10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc3luY1N0YXR1cywgc2V0U3luY1N0YXR1c10gPSB1c2VTdGF0ZTwnaWRsZScgfCAnc3luY2luZycgfCAnZXJyb3InPignaWRsZScpO1xuICBjb25zdCBbbGFzdFN5bmNUaW1lLCBzZXRMYXN0U3luY1RpbWVdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzeW5jRXJyb3JzLCBzZXRTeW5jRXJyb3JzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjb25maWdWZXJzaW9uLCBzZXRDb25maWdWZXJzaW9uXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtwZW5kaW5nQ29uZmlncywgc2V0UGVuZGluZ0NvbmZpZ3NdID0gdXNlU3RhdGU8T21pdDxBcGlDb25maWcsIFwiaWRcIj5bXT4oW10pO1xuXG4gIC8vIEZvbmN0aW9uIHBvdXIgbmV0dG95ZXIgbGUgbG9jYWxTdG9yYWdlIHBvdXIgdW4gdXRpbGlzYXRldXIgc3DDqWNpZmlxdWVcbiAgY29uc3QgY2xlYXJMb2NhbFN0b3JhZ2VGb3JVc2VyID0gKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBOZXR0b3lhZ2UgZHUgY2FjaGUgbG9jYWwgcG91ciBsJ3V0aWxpc2F0ZXVyOlwiLCB1c2VySWQpO1xuXG4gICAgICAgIC8vIFNpIHVzZXJJZCBlc3QgJ0FMTCcsIG5ldHRveWVyIGNvbXBsw6h0ZW1lbnQgbGUgbG9jYWxTdG9yYWdlXG4gICAgICAgIGlmICh1c2VySWQgPT09ICdBTEwnKSB7XG4gICAgICAgICAgX2NsZWFyQWxsTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmV0dG95ZXIgc2Vzc2lvblN0b3JhZ2VcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG5cbiAgICAgICAgLy8gTmV0dG95ZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGRlIGwndXRpbGlzYXRldXIgZGFucyBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVVNFUl9DT05GSUdTX0tFWSk7XG4gICAgICAgIGlmIChleGlzdGluZ0RhdGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWxsVXNlckNvbmZpZ3MgPSBKU09OLnBhcnNlKGV4aXN0aW5nRGF0YSk7XG4gICAgICAgICAgICAvLyBTdXBwcmltZXIgdW5pcXVlbWVudCBsZXMgY29uZmlndXJhdGlvbnMgZGUgbCd1dGlsaXNhdGV1ciBzcMOpY2lmacOpXG4gICAgICAgICAgICBpZiAoYWxsVXNlckNvbmZpZ3NbdXNlcklkXSkge1xuICAgICAgICAgICAgICBkZWxldGUgYWxsVXNlckNvbmZpZ3NbdXNlcklkXTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVVNFUl9DT05GSUdTX0tFWSwgSlNPTi5zdHJpbmdpZnkoYWxsVXNlckNvbmZpZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IG5ldHRveWFnZSBkdSBjYWNoZSBsb2NhbDpcIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmV0dG95ZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGVcbiAgICAgICAgY29uc3QgcGVuZGluZ0RhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShQRU5ESU5HX0NPTkZJR1NfS0VZKTtcbiAgICAgICAgaWYgKHBlbmRpbmdEYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFBlbmRpbmdDb25maWdzID0gSlNPTi5wYXJzZShwZW5kaW5nRGF0YSk7XG4gICAgICAgICAgICBpZiAoYWxsUGVuZGluZ0NvbmZpZ3NbdXNlcklkXSkge1xuICAgICAgICAgICAgICBkZWxldGUgYWxsUGVuZGluZ0NvbmZpZ3NbdXNlcklkXTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUEVORElOR19DT05GSUdTX0tFWSwgSlNPTi5zdHJpbmdpZnkoYWxsUGVuZGluZ0NvbmZpZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IG5ldHRveWFnZSBkZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZTpcIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZHUgbmV0dG95YWdlIGR1IGNhY2hlIGxvY2FsOlwiLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIHBvdXIgbmV0dG95ZXIgY29tcGzDqHRlbWVudCBsZSBsb2NhbFN0b3JhZ2UgKMOgIHV0aWxpc2VyIGF2ZWMgcHLDqWNhdXRpb24pXG4gIC8vIENldHRlIGZvbmN0aW9uIGVzdCB1dGlsaXPDqWUgZW4gaW50ZXJuZSBwYXIgY2xlYXJMb2NhbFN0b3JhZ2VGb3JVc2VyXG4gIGNvbnN0IF9jbGVhckFsbExvY2FsU3RvcmFnZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIE5ldHRveWFnZSBjb21wbGV0IGR1IGNhY2hlIGxvY2FsXCIpO1xuXG4gICAgICAgIC8vIE5ldHRveWVyIHNlc3Npb25TdG9yYWdlXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuXG4gICAgICAgIC8vIE5ldHRveWVyIGxvY2FsU3RvcmFnZVxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShVU0VSX0NPTkZJR1NfS0VZKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oUEVORElOR19DT05GSUdTX0tFWSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNZTkNfU1RBVFVTX0tFWSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENPTkZJR19WRVJTSU9OX0tFWSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZHUgbmV0dG95YWdlIGNvbXBsZXQgZHUgY2FjaGUgbG9jYWw6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRm9uY3Rpb24gcG91ciBzYXV2ZWdhcmRlciBsZXMgY29uZmlndXJhdGlvbnMgZGFucyBsZSBsb2NhbFN0b3JhZ2UgcGFyIHV0aWxpc2F0ZXVyIGF2ZWMgdmVyc2lvbm5hZ2VcbiAgY29uc3Qgc2F2ZUNvbmZpZ3NUb0xvY2FsU3RvcmFnZSA9ICh1c2VySWQ6IHN0cmluZywgY29uZmlnc1RvU2F2ZTogQXBpQ29uZmlnW10pID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFbDqXJpZmllciBxdWUgbCd1dGlsaXNhdGV1ciBlc3QgdmFsaWRlXG4gICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBJbXBvc3NpYmxlIGRlIHNhdXZlZ2FyZGVyIGxlcyBjb25maWd1cmF0aW9uczogdXNlcklkIGludmFsaWRlXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluY3LDqW1lbnRlciBsYSB2ZXJzaW9uIGRlcyBjb25maWd1cmF0aW9uc1xuICAgICAgICBjb25zdCBuZXdWZXJzaW9uID0gY29uZmlnVmVyc2lvbiArIDE7XG4gICAgICAgIHNldENvbmZpZ1ZlcnNpb24obmV3VmVyc2lvbik7XG5cbiAgICAgICAgLy8gU3RydWN0dXJlIGRlIGRvbm7DqWVzIHBvdXIgc3RvY2tlciBsZXMgY29uZmlndXJhdGlvbnMgcGFyIHV0aWxpc2F0ZXVyXG4gICAgICAgIGxldCBhbGxVc2VyQ29uZmlnczogUmVjb3JkPHN0cmluZywge1xuICAgICAgICAgIGNvbmZpZ3M6IEFwaUNvbmZpZ1tdLFxuICAgICAgICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgICAgICAgIHZlcnNpb246IG51bWJlcixcbiAgICAgICAgICBzeW5jU3RhdHVzOiAnc3luY2VkJyB8ICdwZW5kaW5nJyB8ICdlcnJvcidcbiAgICAgICAgfT4gPSB7fTtcblxuICAgICAgICAvLyBFc3NheWVyIGRlIGNoYXJnZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGV4aXN0YW50ZXMgZGUgdG91cyBsZXMgdXRpbGlzYXRldXJzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVTRVJfQ09ORklHU19LRVkpO1xuICAgICAgICBpZiAoZXhpc3RpbmdEYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFsbFVzZXJDb25maWdzID0gSlNPTi5wYXJzZShleGlzdGluZ0RhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBwYXJzaW5nIGRlcyBkb25uw6llcyBleGlzdGFudGVzOlwiLCBlKTtcbiAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGwnZXJyZXVyIGRhbnMgbGVzIGxvZ3MgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgcGFyc2luZzogJHtlPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsZXMgY29uZmlndXJhdGlvbnMgZGUgbCd1dGlsaXNhdGV1ciBhY3R1ZWwgdW5pcXVlbWVudFxuICAgICAgICBhbGxVc2VyQ29uZmlnc1t1c2VySWRdID0ge1xuICAgICAgICAgIGNvbmZpZ3M6IGNvbmZpZ3NUb1NhdmUsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHZlcnNpb246IG5ld1ZlcnNpb24sXG4gICAgICAgICAgc3luY1N0YXR1czogJ3N5bmNlZCdcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTYXV2ZWdhcmRlciB0b3V0ZXMgbGVzIGNvbmZpZ3VyYXRpb25zXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVTRVJfQ09ORklHU19LRVksIEpTT04uc3RyaW5naWZ5KGFsbFVzZXJDb25maWdzKSk7XG5cbiAgICAgICAgLy8gU2F1dmVnYXJkZXIgw6lnYWxlbWVudCBkYW5zIHNlc3Npb25TdG9yYWdlIHBvdXIgdW5lIHLDqWN1cMOpcmF0aW9uIHBsdXMgcmFwaWRlXG4gICAgICAgIC8vIE1haXMgdW5pcXVlbWVudCBwb3VyIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgY29uZmlnczogY29uZmlnc1RvU2F2ZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdmVyc2lvbjogbmV3VmVyc2lvbixcbiAgICAgICAgICBzeW5jU3RhdHVzOiAnc3luY2VkJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gU2F1dmVnYXJkZXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTWU5DX1NUQVRVU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQsIC8vIEFqb3V0ZXIgbCdJRCB1dGlsaXNhdGV1ciBwb3VyIHbDqXJpZmllciBsJ2FwcGFydGVuYW5jZVxuICAgICAgICAgIGxhc3RTeW5jOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIHZlcnNpb246IG5ld1ZlcnNpb25cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwnw6l0YXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgICAgc2V0TGFzdFN5bmNUaW1lKERhdGUubm93KCkpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbmZpZ3VyYXRpb25zIHNhdXZlZ2FyZMOpZXMgcG91ciBsJ3V0aWxpc2F0ZXVyXCIsIHVzZXJJZCwgXCI6XCIsIGNvbmZpZ3NUb1NhdmUubGVuZ3RoLCBcInZlcnNpb246XCIsIG5ld1ZlcnNpb24pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZGUgbGEgc2F1dmVnYXJkZSBkYW5zIGxlIGxvY2FsU3RvcmFnZTpcIiwgZXJyb3IpO1xuICAgICAgLy8gRW5yZWdpc3RyZXIgbCdlcnJldXIgZGFucyBsZXMgbG9ncyBkZSBzeW5jaHJvbmlzYXRpb25cbiAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSBzYXV2ZWdhcmRlOiAke2Vycm9yPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcbiAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIGFtw6lsaW9yw6llIHBvdXIgY2hhcmdlciBsZXMgY29uZmlndXJhdGlvbnMgZGVwdWlzIGxlIGxvY2FsU3RvcmFnZSBvdSBzZXNzaW9uU3RvcmFnZVxuICAvLyBhdmVjIHbDqXJpZmljYXRpb24gc3RyaWN0ZSBkZSBsJ2FwcGFydGVuYW5jZSBkZXMgZG9ubsOpZXMgw6AgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcbiAgY29uc3QgbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlID0gKHVzZXJJZDogc3RyaW5nKTogQXBpQ29uZmlnW10gfCBudWxsID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFbDqXJpZmllciBxdWUgbCd1dGlsaXNhdGV1ciBlc3QgdmFsaWRlXG4gICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGVzIGNvbmZpZ3VyYXRpb25zOiB1c2VySWQgaW52YWxpZGVcIik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFc3NheWVyIGQnYWJvcmQgZGUgY2hhcmdlciBkZXB1aXMgc2Vzc2lvblN0b3JhZ2UgKHBsdXMgcmFwaWRlKVxuICAgICAgICBsZXQgc3RvcmVkRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuICAgICAgICBsZXQgcGFyc2VkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHN0b3JlZERhdGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkRGF0YSk7XG4gICAgICAgICAgICAvLyBWw6lyaWZpY2F0aW9uIHN0cmljdGUgcXVlIGxlcyBkb25uw6llcyBhcHBhcnRpZW5uZW50IMOgIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAgICAgICAgICBpZiAocGFyc2VkRGF0YS51c2VySWQgPT09IHVzZXJJZCkge1xuICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsJ8OpdGF0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgICAgICAgICBpZiAocGFyc2VkRGF0YS52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgc2V0Q29uZmlnVmVyc2lvbihwYXJzZWREYXRhLnZlcnNpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChwYXJzZWREYXRhLnN5bmNTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0aXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvbiBhdSBmb3JtYXQgYXR0ZW5kdVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHBhcnNlZERhdGEuc3luY1N0YXR1cyA9PT0gJ3N5bmNlZCcgPyAnaWRsZScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGEuc3luY1N0YXR1cyA9PT0gJ3BlbmRpbmcnID8gJ3N5bmNpbmcnIDogJ2Vycm9yJztcbiAgICAgICAgICAgICAgICBzZXRTeW5jU3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBDb25maWd1cmF0aW9ucyBjaGFyZ8OpZXMgZGVwdWlzIHNlc3Npb25TdG9yYWdlOlwiLFxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGEuY29uZmlncy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgXCJ2ZXJzaW9uOlwiLCBwYXJzZWREYXRhLnZlcnNpb24gfHwgJ2luY29ubnVlJyk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZERhdGEuY29uZmlncztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIExlcyBkb25uw6llcyBuJ2FwcGFydGllbm5lbnQgcGFzIMOgIGwndXRpbGlzYXRldXIgYWN0dWVsLCBsZXMgaWdub3JlclxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBcGlDb25maWdDb250ZXh0IC0gTGVzIGRvbm7DqWVzIGRlIHNlc3Npb25TdG9yYWdlIG4nYXBwYXJ0aWVubmVudCBwYXMgw6AgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcIik7XG4gICAgICAgICAgICAgIC8vIE5ldHRveWVyIHNlc3Npb25TdG9yYWdlIHBvdXIgw6l2aXRlciBsZXMgZnVpdGVzIGRlIGRvbm7DqWVzXG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBwYXJzaW5nIGRlcyBkb25uw6llcyBkZSBzZXNzaW9uU3RvcmFnZTpcIiwgZSk7XG4gICAgICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgcGFyc2luZyBzZXNzaW9uU3RvcmFnZTogJHtlPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcbiAgICAgICAgICAgIC8vIE5ldHRveWVyIHNlc3Npb25TdG9yYWdlIGVuIGNhcyBkJ2VycmV1clxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2kgcGFzIGRhbnMgc2Vzc2lvblN0b3JhZ2Ugb3UgcGFzIHBvdXIgbGUgYm9uIHV0aWxpc2F0ZXVyLCBlc3NheWVyIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBhbGxVc2VyQ29uZmlncyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVTRVJfQ09ORklHU19LRVkpO1xuICAgICAgICBpZiAoYWxsVXNlckNvbmZpZ3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQWxsQ29uZmlncyA9IEpTT04ucGFyc2UoYWxsVXNlckNvbmZpZ3MpIGFzIFJlY29yZDxzdHJpbmcsIHtcbiAgICAgICAgICAgICAgY29uZmlnczogQXBpQ29uZmlnW10sXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgICAgICAgICAgICB2ZXJzaW9uPzogbnVtYmVyLFxuICAgICAgICAgICAgICBzeW5jU3RhdHVzPzogJ3N5bmNlZCcgfCAncGVuZGluZycgfCAnZXJyb3InXG4gICAgICAgICAgICB9PjtcblxuICAgICAgICAgICAgLy8gVsOpcmlmaWNhdGlvbiBzdHJpY3RlIHF1ZSBsZXMgZG9ubsOpZXMgcG91ciBjZXQgdXRpbGlzYXRldXIgZXhpc3RlbnRcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb25maWdzID0gcGFyc2VkQWxsQ29uZmlnc1t1c2VySWRdO1xuXG4gICAgICAgICAgICBpZiAodXNlckNvbmZpZ3MgJiYgdXNlckNvbmZpZ3MuY29uZmlncykge1xuICAgICAgICAgICAgICAvLyBWw6lyaWZpZXIgcXVlIGxlIGNhY2hlIG4nZXN0IHBhcyB0cm9wIGFuY2llblxuICAgICAgICAgICAgICBjb25zdCBjYWNoZUFnZSA9IERhdGUubm93KCkgLSB1c2VyQ29uZmlncy50aW1lc3RhbXA7XG4gICAgICAgICAgICAgIGlmIChjYWNoZUFnZSA8IENBQ0hFX1ZBTElESVRZX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbnMgY2hhcmfDqWVzIGRlcHVpcyBsb2NhbFN0b3JhZ2U6XCIsXG4gICAgICAgICAgICAgICAgICB1c2VyQ29uZmlncy5jb25maWdzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgIFwidmVyc2lvbjpcIiwgdXNlckNvbmZpZ3MudmVyc2lvbiB8fCAnaW5jb25udWUnLFxuICAgICAgICAgICAgICAgICAgXCJzdGF0dXQ6XCIsIHVzZXJDb25maWdzLnN5bmNTdGF0dXMgfHwgJ2luY29ubnUnKTtcblxuICAgICAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwnw6l0YXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJDb25maWdzLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgIHNldENvbmZpZ1ZlcnNpb24odXNlckNvbmZpZ3MudmVyc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh1c2VyQ29uZmlncy5zeW5jU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0aXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvbiBhdSBmb3JtYXQgYXR0ZW5kdVxuICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdXNlckNvbmZpZ3Muc3luY1N0YXR1cyA9PT0gJ3N5bmNlZCcgPyAnaWRsZScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbmZpZ3Muc3luY1N0YXR1cyA9PT0gJ3BlbmRpbmcnID8gJ3N5bmNpbmcnIDogJ2Vycm9yJztcbiAgICAgICAgICAgICAgICAgIHNldFN5bmNTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBzZXNzaW9uU3RvcmFnZSBwb3VyIHVuIGFjY8OocyBwbHVzIHJhcGlkZSBsYSBwcm9jaGFpbmUgZm9pc1xuICAgICAgICAgICAgICAgIC8vIE1haXMgdW5pcXVlbWVudCBwb3VyIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgICAgY29uZmlnczogdXNlckNvbmZpZ3MuY29uZmlncyxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdXNlckNvbmZpZ3MudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgdmVyc2lvbjogdXNlckNvbmZpZ3MudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgIHN5bmNTdGF0dXM6IHVzZXJDb25maWdzLnN5bmNTdGF0dXNcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAvLyBWw6lyaWZpZXIgcydpbCB5IGEgZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGUgcG91ciBjZXQgdXRpbGlzYXRldXIgc3DDqWNpZmlxdWVcbiAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFBFTkRJTkdfQ09ORklHU19LRVkpO1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nRGF0YSkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUGVuZGluZ0RhdGEgPSBKU09OLnBhcnNlKHBlbmRpbmdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZFBlbmRpbmdEYXRhW3VzZXJJZF0gJiYgcGFyc2VkUGVuZGluZ0RhdGFbdXNlcklkXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZSB0cm91dsOpZXM6XCIsIHBhcnNlZFBlbmRpbmdEYXRhW3VzZXJJZF0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQZW5kaW5nQ29uZmlncyhwYXJzZWRQZW5kaW5nRGF0YVt1c2VySWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZHUgcGFyc2luZyBkZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZTpcIiwgZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJDb25maWdzLmNvbmZpZ3M7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ2FjaGUgdHJvcCBhbmNpZW4sIHJlY2hhcmdlbWVudCBuw6ljZXNzYWlyZVwiKTtcbiAgICAgICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBkYW5zIGxlcyBsb2dzIGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgICAgICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYENhY2hlIHRyb3AgYW5jaWVuICgke01hdGguZmxvb3IoY2FjaGVBZ2UgLyAoMTAwMCAqIDYwICogNjApKX0gaGV1cmVzKSwgcmVjaGFyZ2VtZW50IG7DqWNlc3NhaXJlYF0pO1xuXG4gICAgICAgICAgICAgICAgLy8gU3VwcHJpbWVyIGxlcyBkb25uw6llcyBww6lyaW3DqWVzXG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcnNlZEFsbENvbmZpZ3NbdXNlcklkXTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSX0NPTkZJR1NfS0VZLCBKU09OLnN0cmluZ2lmeShwYXJzZWRBbGxDb25maWdzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIEF1Y3VuZSBjb25maWd1cmF0aW9uIHRyb3V2w6llIHBvdXIgbCd1dGlsaXNhdGV1clwiLCB1c2VySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBwYXJzaW5nIGRlcyBkb25uw6llcyBkZSBsb2NhbFN0b3JhZ2U6XCIsIGUpO1xuICAgICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHBhcnNpbmcgbG9jYWxTdG9yYWdlOiAke2U/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgICAgICAgLy8gTmV0dG95ZXIgbG9jYWxTdG9yYWdlIGVuIGNhcyBkJ2VycmV1ciBncmF2ZVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9DT05GSUdTX0tFWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVwdWlzIGxlIGNhY2hlOlwiLCBlcnJvcik7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgY2hhcmdlbWVudDogJHtlcnJvcj8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgYWN0dWVsIGV0IGNoYXJnZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGRlcHVpcyBTdXBhYmFzZSB1bmUgc2V1bGUgZm9pcyBhdSBkw6ltYXJyYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hVc2VyQW5kQ29uZmlncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ2hhcmdlbWVudCBpbml0aWFsIGRlcyBjb25maWd1cmF0aW9ucyBBUEkuLi5cIik7XG5cbiAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXI6IGN1cnJlbnRVc2VyIH0sIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgICAgIGlmICh1c2VyRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlIGwndXRpbGlzYXRldXI6XCIsIHVzZXJFcnJvcik7XG4gICAgICAgICAgLy8gTmUgcGFzIGVmZmFjZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGVuIGNhcyBkJ2VycmV1clxuICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgY2hhcmdlciBkZXB1aXMgbGUgY2FjaGUgc2kgcG9zc2libGVcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgcsOpY3Vww6lyZXIgbCdJRCB1dGlsaXNhdGV1ciBkZXB1aXMgc2Vzc2lvblN0b3JhZ2VcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRDb25maWdzID0gbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlKHBhcnNlZERhdGEudXNlcklkKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRDb25maWdzICYmIGNhY2hlZENvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBVdGlsaXNhdGlvbiBkZXMgY29uZmlndXJhdGlvbnMgZHUgY2FjaGUgbWFsZ3LDqSBsJ2VycmV1ciBkJ2F1dGhlbnRpZmljYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHNldENvbmZpZ3MoY2FjaGVkQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkdSBjYWNoZSBlbiBjYXMgZCdlcnJldXI6XCIsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVXRpbGlzYXRldXIgcsOpY3Vww6lyw6k6XCIsIGN1cnJlbnRVc2VyPy5pZCk7XG4gICAgICAgIHNldFVzZXIoY3VycmVudFVzZXIpO1xuXG4gICAgICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0w6lcIik7XG4gICAgICAgICAgLy8gTmUgcGFzIGVmZmFjZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGVuIGNhcyBkJ2Fic2VuY2UgZCd1dGlsaXNhdGV1clxuICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgY2hhcmdlciBkZXB1aXMgbGUgY2FjaGUgc2kgcG9zc2libGVcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgcsOpY3Vww6lyZXIgbCdJRCB1dGlsaXNhdGV1ciBkZXB1aXMgc2Vzc2lvblN0b3JhZ2VcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzZXNzaW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRDb25maWdzID0gbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlKHBhcnNlZERhdGEudXNlcklkKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRDb25maWdzICYmIGNhY2hlZENvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBVdGlsaXNhdGlvbiBkZXMgY29uZmlndXJhdGlvbnMgZHUgY2FjaGUgbWFsZ3LDqSBsJ2Fic2VuY2UgZCd1dGlsaXNhdGV1clwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q29uZmlncyhjYWNoZWRDb25maWdzKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGR1IGNhY2hlIGVuIGNhcyBkJ2Fic2VuY2UgZCd1dGlsaXNhdGV1cjpcIiwgZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFc3NheWVyIGQnYWJvcmQgZGUgY2hhcmdlciBsZXMgY29uZmlndXJhdGlvbnMgZGVwdWlzIGxlIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBjYWNoZWRDb25maWdzID0gbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlKGN1cnJlbnRVc2VyLmlkKTtcbiAgICAgICAgaWYgKGNhY2hlZENvbmZpZ3MgJiYgY2FjaGVkQ29uZmlncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVXRpbGlzYXRpb24gZGVzIGNvbmZpZ3VyYXRpb25zIGR1IGNhY2hlIGxvY2FsXCIpO1xuICAgICAgICAgIHNldENvbmZpZ3MoY2FjaGVkQ29uZmlncyk7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICAgIC8vIENoYXJnZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGRlcHVpcyBTdXBhYmFzZSBlbiBhcnJpw6hyZS1wbGFuIHBvdXIgbWV0dHJlIMOgIGpvdXIgbGUgY2FjaGVcbiAgICAgICAgICBmZXRjaENvbmZpZ3MoKS50aGVuKGZldGNoZWRDb25maWdzID0+IHtcbiAgICAgICAgICAgIGlmIChmZXRjaGVkQ29uZmlncyAmJiBmZXRjaGVkQ29uZmlncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIE1pc2Ugw6Agam91ciBkZXMgY29uZmlndXJhdGlvbnMgZGVwdWlzIFN1cGFiYXNlXCIpO1xuICAgICAgICAgICAgICBzZXRDb25maWdzKGZldGNoZWRDb25maWdzKTtcbiAgICAgICAgICAgICAgLy8gU2F1dmVnYXJkZXIgbGVzIGNvbmZpZ3VyYXRpb25zIG1pc2VzIMOgIGpvdXIgZGFucyBsZSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgc2F2ZUNvbmZpZ3NUb0xvY2FsU3RvcmFnZShjdXJyZW50VXNlci5pZCwgZmV0Y2hlZENvbmZpZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGRlcHVpcyBTdXBhYmFzZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gRW4gY2FzIGQnZXJyZXVyLCBub3VzIGdhcmRvbnMgbGVzIGNvbmZpZ3VyYXRpb25zIGR1IGNhY2hlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2kgcGFzIGRlIGNhY2hlLCBjaGFyZ2VyIGRlcHVpcyBTdXBhYmFzZVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFBhcyBkZSBjYWNoZSBsb2NhbCwgY2hhcmdlbWVudCBkZXB1aXMgU3VwYWJhc2VcIik7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZldGNoZWRDb25maWdzID0gYXdhaXQgZmV0Y2hDb25maWdzKCk7XG5cbiAgICAgICAgICAgIC8vIFNpIGRlcyBjb25maWd1cmF0aW9ucyBvbnQgw6l0w6kgcsOpY3Vww6lyw6llcywgbGVzIHNhdXZlZ2FyZGVyIGRhbnMgbGUgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICBpZiAoZmV0Y2hlZENvbmZpZ3MgJiYgZmV0Y2hlZENvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBzZXRDb25maWdzKGZldGNoZWRDb25maWdzKTtcbiAgICAgICAgICAgICAgc2F2ZUNvbmZpZ3NUb0xvY2FsU3RvcmFnZShjdXJyZW50VXNlci5pZCwgZmV0Y2hlZENvbmZpZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVwdWlzIFN1cGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBnbG9iYWxlIGxvcnMgZHUgY2hhcmdlbWVudCBkZXMgY29uZmlndXJhdGlvbnMgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIE5lIHBhcyBlZmZhY2VyIGxlcyBjb25maWd1cmF0aW9ucyBlbiBjYXMgZCdlcnJldXIgZ2xvYmFsZVxuICAgICAgICAvLyBFc3NheWVyIGRlIGNoYXJnZXIgZGVwdWlzIGxlIGNhY2hlIHNpIHBvc3NpYmxlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgcsOpY3Vww6lyZXIgbCdJRCB1dGlsaXNhdGV1ciBkZXB1aXMgc2Vzc2lvblN0b3JhZ2VcbiAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgIGlmIChzZXNzaW9uRGF0YSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uoc2Vzc2lvbkRhdGEpO1xuICAgICAgICAgICAgICBpZiAocGFyc2VkRGF0YS51c2VySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRDb25maWdzID0gbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlKHBhcnNlZERhdGEudXNlcklkKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkQ29uZmlncyAmJiBjYWNoZWRDb25maWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFV0aWxpc2F0aW9uIGRlcyBjb25maWd1cmF0aW9ucyBkdSBjYWNoZSBtYWxncsOpIGwnZXJyZXVyIGdsb2JhbGVcIik7XG4gICAgICAgICAgICAgICAgICBzZXRDb25maWdzKGNhY2hlZENvbmZpZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGR1IGNhY2hlIGVuIGNhcyBkJ2VycmV1ciBnbG9iYWxlOlwiLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ2hhcmdlciBsZXMgY29uZmlndXJhdGlvbnMgdW5lIHNldWxlIGZvaXMgYXUgZMOpbWFycmFnZVxuICAgIGZldGNoVXNlckFuZENvbmZpZ3MoKTtcblxuICAgIC8vIMOJY291dGVyIGxlcyBjaGFuZ2VtZW50cyBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICBjb25zdCB7IGRhdGE6IHsgc3Vic2NyaXB0aW9uIH0gfSA9IHN1cGFiYXNlLmF1dGgub25BdXRoU3RhdGVDaGFuZ2UoXG4gICAgICBhc3luYyAoZXZlbnQsIHNlc3Npb24pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ2hhbmdlbWVudCBkJ8OpdGF0IGQnYXV0aGVudGlmaWNhdGlvbjpcIiwgZXZlbnQpO1xuXG4gICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwndXRpbGlzYXRldXIgaW1tw6lkaWF0ZW1lbnRcbiAgICAgICAgc2V0VXNlcihzZXNzaW9uPy51c2VyIHx8IG51bGwpO1xuXG4gICAgICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgICAgICAgIC8vIEVmZmFjZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGRlIGwnw6l0YXQgbG9jYWwgbG9ycyBkZSBsYSBkw6ljb25uZXhpb25cbiAgICAgICAgICAvLyBwb3VyIMOpdml0ZXIgbGVzIGZ1aXRlcyBkZSBkb25uw6llcyBlbnRyZSB1dGlsaXNhdGV1cnNcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBVdGlsaXNhdGV1ciBkw6ljb25uZWN0w6ksIG5ldHRveWFnZSBkZXMgY29uZmlndXJhdGlvbnNcIik7XG4gICAgICAgICAgc2V0Q29uZmlncyhbXSk7IC8vIFZpZGVyIGwnw6l0YXQgbG9jYWxcblxuICAgICAgICAgIC8vIFNpIG5vdXMgYXZvbnMgbCdJRCBkZSBsJ3V0aWxpc2F0ZXVyIHByw6ljw6lkZW50LCBuZXR0b3llciBzb24gY2FjaGVcbiAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLmlkKSB7XG4gICAgICAgICAgICBjbGVhckxvY2FsU3RvcmFnZUZvclVzZXIodXNlci5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnU0lHTkVEX0lOJykge1xuICAgICAgICAgIC8vIEVuIGNhcyBkZSBjb25uZXhpb24sIGNoYXJnZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGRlcHVpcyBsZSBsb2NhbFN0b3JhZ2UgZCdhYm9yZFxuICAgICAgICAgIGNvbnN0IGNhY2hlZENvbmZpZ3MgPSBsb2FkQ29uZmlnc0Zyb21Mb2NhbFN0b3JhZ2Uoc2Vzc2lvbi51c2VyLmlkKTtcbiAgICAgICAgICBpZiAoY2FjaGVkQ29uZmlncyAmJiBjYWNoZWRDb25maWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbm5leGlvbjogdXRpbGlzYXRpb24gZGVzIGNvbmZpZ3VyYXRpb25zIGR1IGNhY2hlIGxvY2FsXCIpO1xuICAgICAgICAgICAgc2V0Q29uZmlncyhjYWNoZWRDb25maWdzKTtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7IC8vIEltcG9ydGFudDogbWFycXVlciBsZSBjaGFyZ2VtZW50IGNvbW1lIHRlcm1pbsOpXG5cbiAgICAgICAgICAgIC8vIFB1aXMgbWV0dHJlIMOgIGpvdXIgZW4gYXJyacOocmUtcGxhbiBkZXB1aXMgU3VwYWJhc2VcbiAgICAgICAgICAgIGZldGNoQ29uZmlncygpLnRoZW4oZmV0Y2hlZENvbmZpZ3MgPT4ge1xuICAgICAgICAgICAgICBpZiAoZmV0Y2hlZENvbmZpZ3MgJiYgZmV0Y2hlZENvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIE1pc2Ugw6Agam91ciBkZXMgY29uZmlndXJhdGlvbnMgZGVwdWlzIFN1cGFiYXNlXCIpO1xuICAgICAgICAgICAgICAgIHNldENvbmZpZ3MoZmV0Y2hlZENvbmZpZ3MpO1xuICAgICAgICAgICAgICAgIHNhdmVDb25maWdzVG9Mb2NhbFN0b3JhZ2Uoc2Vzc2lvbi51c2VyLmlkLCBmZXRjaGVkQ29uZmlncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZGVwdWlzIFN1cGFiYXNlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgIC8vIEVuIGNhcyBkJ2VycmV1ciwgbm91cyBnYXJkb25zIGxlcyBjb25maWd1cmF0aW9ucyBkdSBjYWNoZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpIHBhcyBkZSBjYWNoZSwgY2hhcmdlciBkZXB1aXMgU3VwYWJhc2VcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbm5leGlvbjogcGFzIGRlIGNhY2hlIGxvY2FsLCBjaGFyZ2VtZW50IGRlcHVpcyBTdXBhYmFzZVwiKTtcbiAgICAgICAgICAgIGZldGNoQ29uZmlncygpLnRoZW4oZmV0Y2hlZENvbmZpZ3MgPT4ge1xuICAgICAgICAgICAgICBpZiAoZmV0Y2hlZENvbmZpZ3MgJiYgZmV0Y2hlZENvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNldENvbmZpZ3MoZmV0Y2hlZENvbmZpZ3MpO1xuICAgICAgICAgICAgICAgIHNhdmVDb25maWdzVG9Mb2NhbFN0b3JhZ2Uoc2Vzc2lvbi51c2VyLmlkLCBmZXRjaGVkQ29uZmlncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTsgLy8gSW1wb3J0YW50OiBtYXJxdWVyIGxlIGNoYXJnZW1lbnQgY29tbWUgdGVybWluw6lcbiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcHVpcyBTdXBhYmFzZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpOyAvLyBJbXBvcnRhbnQ6IG1hcnF1ZXIgbGUgY2hhcmdlbWVudCBjb21tZSB0ZXJtaW7DqSBtw6ptZSBlbiBjYXMgZCdlcnJldXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW3N1cGFiYXNlXSk7XG5cbiAgLy8gRm9uY3Rpb24gcG91ciB2YWxpZGVyIGRpcmVjdGVtZW50IHVuZSBjbMOpIEFQSSB4QUkgc2FucyBwYXNzZXIgcGFyIGwnQVBJXG4gIGNvbnN0IHZhbGlkYXRlWEFJS2V5RGlyZWN0bHkgPSBhc3luYyAoYXBpS2V5OiBzdHJpbmcpOiBQcm9taXNlPEFwaUtleVZhbGlkYXRpb25SZXN1bHQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVmFsaWRhdGlvbiBkaXJlY3RlIGRlIGxhIGNsw6kgQVBJIHhBSS4uLlwiKTtcblxuICAgICAgLy8gQXBwZWwgZGlyZWN0IMOgIGwnQVBJIHhBSSBwb3VyIHZhbGlkZXIgbGEgY2zDqVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYXBpLnguYWkvdjEvbW9kZWxzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICAgICAgICBcIlgtQVBJLUtleVwiOiBhcGlLZXlcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBtb2RlbHMgPSBkYXRhLmRhdGEubWFwKChtb2RlbDogYW55KSA9PiBtb2RlbC5pZCk7XG4gICAgICAgIGNvbnN0IGhhc0ltYWdlTW9kZWwgPSBtb2RlbHMuaW5jbHVkZXMoXCJncm9rLTItaW1hZ2UtMTIxMlwiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogYENsw6kgQVBJIHhBSSB2YWxpZMOpZSBhdmVjIHN1Y2PDqHMuICR7aGFzSW1hZ2VNb2RlbCA/ICdMZSBtb2TDqGxlIGdyb2stMi1pbWFnZS0xMjEyIGVzdCBkaXNwb25pYmxlLicgOiAnQXR0ZW50aW9uOiBMZSBtb2TDqGxlIGdyb2stMi1pbWFnZS0xMjEyIG5cXCdlc3QgcGFzIGRpc3BvbmlibGUuJ31gLFxuICAgICAgICAgIHByb3ZpZGVyOiB7XG4gICAgICAgICAgICBuYW1lOiAneEFJJyxcbiAgICAgICAgICAgIHNsdWc6ICd4YWknLFxuICAgICAgICAgICAgbW9kZWxzXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBDbMOpIEFQSSB4QUkgaW52YWxpZGU6ICR7ZXJyb3JEYXRhLmVycm9yPy5tZXNzYWdlIHx8IFwiRXJyZXVyIGluY29ubnVlXCJ9YFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHZhbGlkYXRpb24gZGlyZWN0ZSBkZSBsYSBjbMOpIHhBSTpcIiwgZXJyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgRXJyZXVyIGxvcnMgZGUgbGEgdmFsaWRhdGlvbiBkaXJlY3RlIGRlIGxhIGNsw6kgeEFJOiAke2Vyci5tZXNzYWdlfWBcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIHBvdXIgdmFsaWRlciB1bmUgY2zDqSBBUElcbiAgY29uc3QgdmFsaWRhdGVBcGlLZXkgPSBhc3luYyAocHJvdmlkZXI6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcpOiBQcm9taXNlPEFwaUtleVZhbGlkYXRpb25SZXN1bHQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVmFsaWRhdGlvbiBkZSBsYSBjbMOpIEFQSSBwb3VyIGxlIGZvdXJuaXNzZXVyOlwiLCBwcm92aWRlcik7XG5cbiAgICAgIC8vIFNpIGMnZXN0IHhBSSwgZXNzYXllciBkJ2Fib3JkIGxhIHZhbGlkYXRpb24gZGlyZWN0ZVxuICAgICAgaWYgKHByb3ZpZGVyID09PSAneGFpJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRpcmVjdFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlWEFJS2V5RGlyZWN0bHkoYXBpS2V5KTtcbiAgICAgICAgICBpZiAoZGlyZWN0UmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFZhbGlkYXRpb24gZGlyZWN0ZSBkZSBsYSBjbMOpIHhBSSByw6l1c3NpZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChkaXJlY3RFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkFwaUNvbmZpZ0NvbnRleHQgLSDDiWNoZWMgZGUgbGEgdmFsaWRhdGlvbiBkaXJlY3RlIHhBSSwgdGVudGF0aXZlIHZpYSBsJ0FQSSBzdGFuZGFyZDpcIiwgZGlyZWN0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRpb24gc3RhbmRhcmQgdmlhIGwnQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3ZhbGlkYXRlLWFwaS1rZXknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZGUgbGEgdmFsaWRhdGlvbiBkZSBsYSBjbMOpIEFQSTpcIiwgcmVzdWx0LmVycm9yKTtcblxuICAgICAgICAvLyBTaSBjJ2VzdCB4QUkgZXQgcXVlIGxhIHZhbGlkYXRpb24gc3RhbmRhcmQgYSDDqWNob3XDqSwgbWFpcyBxdWUgbm91cyBuJ2F2b25zIHBhcyBlbmNvcmUgZXNzYXnDqSBsYSB2YWxpZGF0aW9uIGRpcmVjdGVcbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSAneGFpJyAmJiByZXN1bHQuZXJyb3I/LmluY2x1ZGVzKCdzdGF0dXMnKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFRlbnRhdGl2ZSBkZSB2YWxpZGF0aW9uIGRpcmVjdGUgeEFJIGFwcsOocyDDqWNoZWMgZGUgbCdBUEkgc3RhbmRhcmRcIik7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHZhbGlkYXRlWEFJS2V5RGlyZWN0bHkoYXBpS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yIHx8ICdFcnJldXIgbG9ycyBkZSBsYSB2YWxpZGF0aW9uIGRlIGxhIGNsw6kgQVBJJ1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEV4Y2VwdGlvbiBsb3JzIGRlIGxhIHZhbGlkYXRpb24gZGUgbGEgY2zDqSBBUEk6XCIsIGVycm9yKTtcblxuICAgICAgLy8gU2kgYydlc3QgeEFJIGV0IHF1ZSBub3VzIGF2b25zIHVuZSBlcnJldXIgZ8OpbsOpcmFsZSwgZXNzYXllciBsYSB2YWxpZGF0aW9uIGRpcmVjdGVcbiAgICAgIGlmIChwcm92aWRlciA9PT0gJ3hhaScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVGVudGF0aXZlIGRlIHZhbGlkYXRpb24gZGlyZWN0ZSB4QUkgYXByw6hzIGV4Y2VwdGlvblwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdmFsaWRhdGVYQUlLZXlEaXJlY3RseShhcGlLZXkpO1xuICAgICAgICB9IGNhdGNoIChkaXJlY3RFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gw4ljaGVjIGRlIGxhIHZhbGlkYXRpb24gZGlyZWN0ZSB4QUkgYXByw6hzIGV4Y2VwdGlvbjpcIiwgZGlyZWN0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnRXJyZXVyIGRlIGNvbm5leGlvbiBsb3JzIGRlIGxhIHZhbGlkYXRpb24gZGUgbGEgY2zDqSBBUEknXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICAvLyBGb25jdGlvbiByb2J1c3RlIHBvdXIgcmVjaGFyZ2VyIGxlcyBjb25maWd1cmF0aW9ucyBkZXB1aXMgU3VwYWJhc2UgYXZlYyB2w6lyaWZpY2F0aW9uIGV0IHJldHJ5XG4gIGNvbnN0IGZldGNoQ29uZmlncyA9IGFzeW5jIChyZXRyeUNvdW50ID0gMCk6IFByb21pc2U8QXBpQ29uZmlnW10+ID0+IHtcbiAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBzdGF0dXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgc2V0U3luY1N0YXR1cygnc3luY2luZycpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0w6kgcG91ciBjaGFyZ2VyIGxlcyBjb25maWd1cmF0aW9uc1wiKTtcbiAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiVGVudGF0aXZlIGRlIGNoYXJnZW1lbnQgc2FucyB1dGlsaXNhdGV1ciBjb25uZWN0w6lcIl0pO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBSZWNoYXJnZW1lbnQgZGVzIGNvbmZpZ3VyYXRpb25zIHBvdXIgbCd1dGlsaXNhdGV1cjpcIiwgdXNlci5pZCwgXCJ0ZW50YXRpdmU6XCIsIHJldHJ5Q291bnQgKyAxKTtcblxuICAgICAgLy8gVsOpcmlmaWVyIGQnYWJvcmQgbGEgc2Vzc2lvblxuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBTZXNzaW9uIFN1cGFiYXNlIGV4cGlyw6llIG91IGludmFsaWRlXCIpO1xuXG4gICAgICAgIC8vIFRlbnRlciBkZSByYWZyYcOuY2hpciBsYSBzZXNzaW9uXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcmVmcmVzaERhdGEsIGVycm9yOiByZWZyZXNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oKTtcbiAgICAgICAgaWYgKHJlZnJlc2hFcnJvciB8fCAhcmVmcmVzaERhdGEuc2Vzc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gSW1wb3NzaWJsZSBkZSByYWZyYcOuY2hpciBsYSBzZXNzaW9uOlwiLCByZWZyZXNoRXJyb3IpO1xuICAgICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgU2Vzc2lvbiBleHBpcsOpZTogJHtyZWZyZXNoRXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuXG4gICAgICAgICAgLy8gUmV0b3VybmVyIGxlcyBjb25maWd1cmF0aW9ucyBkdSBjYWNoZSBzaSBkaXNwb25pYmxlc1xuICAgICAgICAgIGNvbnN0IGNhY2hlZENvbmZpZ3MgPSBsb2FkQ29uZmlnc0Zyb21Mb2NhbFN0b3JhZ2UodXNlci5pZCk7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlZENvbmZpZ3MgfHwgW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBTZXNzaW9uIHJhZnJhw65jaGllIGF2ZWMgc3VjY8Ooc1wiKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVxdcOqdGUgYXZlYyB0aW1lb3V0IHBvdXIgw6l2aXRlciBsZXMgYmxvY2FnZXNcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8eyBkYXRhOiBudWxsLCBlcnJvcjogRXJyb3IgfT4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIlRpbWVvdXQgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgY29uZmlndXJhdGlvbnNcIilcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMDApOyAvLyAxMCBzZWNvbmRlcyBkZSB0aW1lb3V0XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVxdcOqdGUgU3VwYWJhc2UgYXZlYyBkZWJ1Z1xuICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gUsOpY3Vww6lyYXRpb24gZGVzIGNvbmZpZ3VyYXRpb25zIHBvdXIgbCd1dGlsaXNhdGV1cjpcIiwgdXNlci5pZCk7XG5cbiAgICAgIC8vIFbDqXJpZmllciBxdWUgdXNlcl9pZCBlc3QgYmllbiB1biBVVUlEIHZhbGlkZVxuICAgICAgaWYgKCF1c2VyLmlkIHx8ICEvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezEyfSQvaS50ZXN0KHVzZXIuaWQpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gdXNlcl9pZCBpbnZhbGlkZSBwb3VyIGxhIHLDqWN1cMOpcmF0aW9uOlwiLCB1c2VyLmlkKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgdXNlcl9pZCBpbnZhbGlkZSBwb3VyIGxhIHLDqWN1cMOpcmF0aW9uOiAke3VzZXIuaWR9YF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXF1w6p0ZSBTdXBhYmFzZSBhdmVjIGRlYnVnXG4gICAgICBjb25zdCBmZXRjaFByb21pc2UgPSBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYXBpX2NvbmZpZ3VyYXRpb25zJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBwcm92aWRlcl9pZCxcbiAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICBpc192YWxpZCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgbGFzdF92YWxpZGF0ZWRfYXQsXG4gICAgICAgICAgY3JlYXRlZF9hdCxcbiAgICAgICAgICB1c2VyX2lkLFxuICAgICAgICAgIGFwaV9wcm92aWRlcnMgKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc2x1Z1xuICAgICAgICAgIClcbiAgICAgICAgYClcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZCk7XG5cbiAgICAgIC8vIFV0aWxpc2VyIFByb21pc2UucmFjZSBwb3VyIGltcGzDqW1lbnRlciB1biB0aW1lb3V0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJhY2UoW2ZldGNoUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlc3VsdCBhcyBhbnk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IHJlY2hhcmdlbWVudCBkZXMgY29uZmlndXJhdGlvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHLDqWN1cMOpcmF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YF0pO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBzaSBsJ2VycmV1ciBlc3QgbGnDqWUgYXV4IHBlcm1pc3Npb25zIFJMU1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJzQyNTAxJyB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwZXJtaXNzaW9uJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncG9saWN5JykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBkZSBwZXJtaXNzaW9uIFJMUyBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHBlcm1pc3Npb24gUkxTIGxvcnMgZGUgbGEgcsOpY3Vww6lyYXRpb246ICR7ZXJyb3IubWVzc2FnZX1gXSk7XG5cbiAgICAgICAgICAvLyBWw6lyaWZpZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uOiBjdXJyZW50U2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBTZXNzaW9uIHV0aWxpc2F0ZXVyIGFjdHVlbGxlIHBvdXIgcsOpY3Vww6lyYXRpb246XCIsIGN1cnJlbnRTZXNzaW9uPy51c2VyPy5pZCk7XG5cbiAgICAgICAgICAvLyBWw6lyaWZpZXIgcXVlIGwnSUQgdXRpbGlzYXRldXIgZGFucyBsYSByZXF1w6p0ZSBjb3JyZXNwb25kIMOgIGwnSUQgZGUgc2Vzc2lvblxuICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbj8udXNlcj8uaWQgIT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gSW5jb2jDqXJlbmNlIGQnSUQgdXRpbGlzYXRldXIgcG91ciByw6ljdXDDqXJhdGlvbjpcIiwge1xuICAgICAgICAgICAgICBzZXNzaW9uVXNlcklkOiBjdXJyZW50U2Vzc2lvbj8udXNlcj8uaWQsXG4gICAgICAgICAgICAgIHJlcXVlc3RVc2VySWQ6IHVzZXIuaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgSW5jb2jDqXJlbmNlIGQnSUQgdXRpbGlzYXRldXIgcG91ciByw6ljdXDDqXJhdGlvbjogc2Vzc2lvbj0ke2N1cnJlbnRTZXNzaW9uPy51c2VyPy5pZH0sIHJlcXXDqnRlPSR7dXNlci5pZH1gXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0cnkgc2kgcG9zc2libGVcbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuXG4gICAgICAgICAgLy8gQXR0ZW5kcmUgYXZhbnQgZGUgcsOpZXNzYXllclxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQ29uZmlncyhyZXRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuXG4gICAgICAgIC8vIFJldG91cm5lciBsZXMgY29uZmlndXJhdGlvbnMgZHUgY2FjaGUgc2kgZGlzcG9uaWJsZXNcbiAgICAgICAgY29uc3QgY2FjaGVkQ29uZmlncyA9IGxvYWRDb25maWdzRnJvbUxvY2FsU3RvcmFnZSh1c2VyLmlkKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlZENvbmZpZ3MgfHwgW107XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0YSB8fCAhQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIERvbm7DqWVzIGludmFsaWRlcyByZcOndWVzIGRlIFN1cGFiYXNlOlwiLCBkYXRhKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBcIkZvcm1hdCBkZSBkb25uw6llcyBpbnZhbGlkZSByZcOndSBkZSBTdXBhYmFzZVwiXSk7XG5cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQ29uZmlncyhyZXRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbmZpZ3VyYXRpb25zIHJlY2hhcmfDqWVzOlwiLCBkYXRhLmxlbmd0aCk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybWVyIGxlcyBkb25uw6llcyBwb3VyIGNvcnJlc3BvbmRyZSDDoCBub3RyZSBmb3JtYXQgQXBpQ29uZmlnXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZENvbmZpZ3MgPSBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgLy8gRMOpdGVybWluZXIgbGUgc3RhdHV0IGVuIGZvbmN0aW9uIGRlIGlzX3ZhbGlkIHNpIHN0YXR1cyBuJ2V4aXN0ZSBwYXNcbiAgICAgICAgbGV0IGNvbmZpZ1N0YXR1czogJ3ZhbGlkJyB8ICdpbnZhbGlkJyB8ICd1bmtub3duJyA9ICd1bmtub3duJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbGEgcHJvcHJpw6l0w6kgc3RhdHVzIGV4aXN0ZVxuICAgICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdzdGF0dXMnKSAmJiBpdGVtLnN0YXR1cykge1xuICAgICAgICAgICAgY29uZmlnU3RhdHVzID0gaXRlbS5zdGF0dXMgYXMgJ3ZhbGlkJyB8ICdpbnZhbGlkJyB8ICd1bmtub3duJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2lzX3ZhbGlkJykpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHN1ciBpc192YWxpZCBzaSBzdGF0dXMgbidleGlzdGUgcGFzXG4gICAgICAgICAgICBjb25maWdTdGF0dXMgPSBpdGVtLmlzX3ZhbGlkID09PSB0cnVlID8gJ3ZhbGlkJyA6ICdpbnZhbGlkJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSBkw6l0ZXJtaW5hdGlvbiBkdSBzdGF0dXQ6XCIsIGUpO1xuICAgICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSB0cmFpdGVtZW50IGR1IHN0YXR1dDogJHtlPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFLDqWN1cMOpcmVyIGxlIHNsdWcgZHUgZm91cm5pc3NldXJcbiAgICAgICAgbGV0IHByb3ZpZGVyU2x1ZyA9ICd1bmtub3duJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaXRlbS5hcGlfcHJvdmlkZXJzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uYXBpX3Byb3ZpZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGFwaV9wcm92aWRlcnMgZXN0IHVuIHRhYmxlYXUgb3UgdW4gb2JqZXRcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5hcGlfcHJvdmlkZXJzKSkge1xuICAgICAgICAgICAgICAgIC8vIFNpIGMnZXN0IHVuIHRhYmxlYXUsIHByZW5kcmUgbGUgcHJlbWllciDDqWzDqW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5hcGlfcHJvdmlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyU2x1ZyA9IGl0ZW0uYXBpX3Byb3ZpZGVyc1swXS5zbHVnIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgYydlc3QgdW4gb2JqZXQsIGFjY8OpZGVyIGRpcmVjdGVtZW50IGF1IHNsdWdcbiAgICAgICAgICAgICAgICBwcm92aWRlclNsdWcgPSAoaXRlbS5hcGlfcHJvdmlkZXJzIGFzIGFueSkuc2x1ZyB8fCAndW5rbm93bic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZGUgbGEgcsOpY3Vww6lyYXRpb24gZHUgc2x1ZzpcIiwgZSk7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHLDqWN1cMOpcmF0aW9uIGR1IHNsdWc6ICR7ZT8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXJTbHVnLFxuICAgICAgICAgIHByb3ZpZGVyX2lkOiBpdGVtLnByb3ZpZGVyX2lkLFxuICAgICAgICAgIG1vZGVsOiBpdGVtLm1vZGVsIHx8ICcnLFxuICAgICAgICAgIGtleTogJ+KAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAoicsIC8vIExhIGNsw6kgQVBJIGVzdCBtYXNxdcOpZSBwb3VyIGRlcyByYWlzb25zIGRlIHPDqWN1cml0w6lcbiAgICAgICAgICBpc1ZhbGlkYXRlZDogaXRlbS5pc192YWxpZCxcbiAgICAgICAgICBzdGF0dXM6IGNvbmZpZ1N0YXR1cyxcbiAgICAgICAgICBsYXN0X3ZhbGlkYXRlZF9hdDogaXRlbS5sYXN0X3ZhbGlkYXRlZF9hdCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBpdGVtLmNyZWF0ZWRfYXRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBDb25maWd1cmF0aW9ucyB0cmFuc2Zvcm3DqWVzIGFwcsOocyByZWNoYXJnZW1lbnQ6XCIsIHRyYW5zZm9ybWVkQ29uZmlncy5sZW5ndGgpO1xuXG4gICAgICAvLyBWw6lyaWZpZXIgcXVlIGxlcyBkb25uw6llcyBzb250IGNvaMOpcmVudGVzXG4gICAgICBpZiAodHJhbnNmb3JtZWRDb25maWdzLmxlbmd0aCA9PT0gMCAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgZGUgdHJhbnNmb3JtYXRpb246IGRvbm7DqWVzIHBlcmR1ZXNcIik7XG4gICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgXCJFcnJldXIgZGUgdHJhbnNmb3JtYXRpb246IGRvbm7DqWVzIHBlcmR1ZXNcIl0pO1xuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCfDqXRhdCBsb2NhbFxuICAgICAgICBzZXRDb25maWdzKHRyYW5zZm9ybWVkQ29uZmlncyk7XG5cbiAgICAgICAgLy8gU2F1dmVnYXJkZXIgZGFucyBsZSBjYWNoZSBsb2NhbCBhdmVjIGxhIG5vdXZlbGxlIHZlcnNpb25cbiAgICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IGNvbmZpZ1ZlcnNpb24gKyAxO1xuICAgICAgICBzZXRDb25maWdWZXJzaW9uKG5ld1ZlcnNpb24pO1xuICAgICAgICBzYXZlQ29uZmlnc1RvTG9jYWxTdG9yYWdlKHVzZXIuaWQsIHRyYW5zZm9ybWVkQ29uZmlncyk7XG5cbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdpZGxlJyk7XG4gICAgICAgIHNldExhc3RTeW5jVGltZShEYXRlLm5vdygpKTtcblxuICAgICAgICAvLyBWw6lyaWZpZXIgcydpbCB5IGEgZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGUgw6Agc3luY2hyb25pc2VyXG4gICAgICAgIGlmIChwZW5kaW5nQ29uZmlncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gU3luY2hyb25pc2F0aW9uIGRlcyBjb25maWd1cmF0aW9ucyBlbiBhdHRlbnRlOlwiLCBwZW5kaW5nQ29uZmlncy5sZW5ndGgpO1xuICAgICAgICAgIC8vIENldHRlIHBhcnRpZSBzZXJhIGltcGzDqW1lbnTDqWUgZGFucyBsYSBmb25jdGlvbiBzeW5jUGVuZGluZ0NvbmZpZ3NcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXRvdXJuZXIgbGVzIGNvbmZpZ3VyYXRpb25zIHBvdXIgcG91dm9pciBsZXMgdXRpbGlzZXIgZGFucyBkJ2F1dHJlcyBmb25jdGlvbnNcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1lZENvbmZpZ3M7XG4gICAgfSBjYXRjaCAoY29uZmlnRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFeGNlcHRpb24gbG9ycyBkdSByZWNoYXJnZW1lbnQgZGVzIGNvbmZpZ3VyYXRpb25zOlwiLCBjb25maWdFcnJvcik7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFeGNlcHRpb246ICR7Y29uZmlnRXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcblxuICAgICAgLy8gUmV0cnkgc2kgcG9zc2libGVcbiAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1NZTkNfUkVUUklFUykge1xuICAgICAgICBjb25zb2xlLmxvZyhgQXBpQ29uZmlnQ29udGV4dCAtIE5vdXZlbGxlIHRlbnRhdGl2ZSAoJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfU1lOQ19SRVRSSUVTfSkgZGFucyAke1NZTkNfUkVUUllfSU5URVJWQUwvMTAwMH1zLi4uYCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgIHJldHVybiBmZXRjaENvbmZpZ3MocmV0cnlDb3VudCArIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXRvdXJuZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGR1IGNhY2hlIHNpIGRpc3BvbmlibGVzXG4gICAgICBjb25zdCBjYWNoZWRDb25maWdzID0gbG9hZENvbmZpZ3NGcm9tTG9jYWxTdG9yYWdlKHVzZXIuaWQpO1xuICAgICAgcmV0dXJuIGNhY2hlZENvbmZpZ3MgfHwgW107XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIHBvdXIgc2F1dmVnYXJkZXIgdW5lIGNvbmZpZ3VyYXRpb24gZW4gYXR0ZW50ZVxuICBjb25zdCBzYXZlUGVuZGluZ0NvbmZpZyA9ICh1c2VySWQ6IHN0cmluZywgY29uZmlnOiBPbWl0PEFwaUNvbmZpZywgXCJpZFwiPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gUsOpY3Vww6lyZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGUgZXhpc3RhbnRlc1xuICAgICAgICBsZXQgcGVuZGluZ0RhdGE6IFJlY29yZDxzdHJpbmcsIE9taXQ8QXBpQ29uZmlnLCBcImlkXCI+W10+ID0ge307XG4gICAgICAgIGNvbnN0IHN0b3JlZFBlbmRpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShQRU5ESU5HX0NPTkZJR1NfS0VZKTtcblxuICAgICAgICBpZiAoc3RvcmVkUGVuZGluZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwZW5kaW5nRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkUGVuZGluZyk7XG4gICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGR1IHBhcnNpbmcgZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGU6XCIsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFqb3V0ZXIgbGEgbm91dmVsbGUgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlXG4gICAgICAgIGlmICghcGVuZGluZ0RhdGFbdXNlcklkXSkge1xuICAgICAgICAgIHBlbmRpbmdEYXRhW3VzZXJJZF0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBlbmRpbmdEYXRhW3VzZXJJZF0ucHVzaCh7XG4gICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgIC8vIEFqb3V0ZXIgdW4gdGltZXN0YW1wIHBvdXIgcG91dm9pciB0cmllciBsZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZVxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTYXV2ZWdhcmRlciBsZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShQRU5ESU5HX0NPTkZJR1NfS0VZLCBKU09OLnN0cmluZ2lmeShwZW5kaW5nRGF0YSkpO1xuXG4gICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwnw6l0YXQgbG9jYWxcbiAgICAgICAgc2V0UGVuZGluZ0NvbmZpZ3MocGVuZGluZ0RhdGFbdXNlcklkXSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbiBlbiBhdHRlbnRlIHNhdXZlZ2FyZMOpZTpcIiwgY29uZmlnLm5hbWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUgZGUgbGEgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlOlwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFqb3V0ZXIgdW5lIG5vdXZlbGxlIGNvbmZpZ3VyYXRpb24gYXZlYyBnZXN0aW9uIHJvYnVzdGUgZGVzIGVycmV1cnMgZXQgc2F1dmVnYXJkZSBsb2NhbGVcbiAgY29uc3QgYWRkQ29uZmlnID0gYXN5bmMgKGNvbmZpZzogT21pdDxBcGlDb25maWcsIFwiaWRcIj4sIHJldHJ5Q291bnQgPSAwKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IGlzVmFsaWQ6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9PiB7XG4gICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgIHNldFN5bmNTdGF0dXMoJ3N5bmNpbmcnKTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBJbXBvc3NpYmxlIGQnYWpvdXRlciB1bmUgY29uZmlndXJhdGlvbjogdXRpbGlzYXRldXIgbm9uIGNvbm5lY3TDqVwiKTtcbiAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiVGVudGF0aXZlIGQnYWpvdXQgc2FucyB1dGlsaXNhdGV1ciBjb25uZWN0w6lcIl0pO1xuXG4gICAgICAvLyBTYXV2ZWdhcmRlciBsYSBjb25maWd1cmF0aW9uIGVuIGF0dGVudGUgcG91ciB1bmUgc3luY2hyb25pc2F0aW9uIHVsdMOpcmlldXJlXG4gICAgICBzYXZlUGVuZGluZ0NvbmZpZygndW5rbm93bicsIGNvbmZpZyk7XG5cbiAgICAgIHJldHVybiB7IGlkOiAnJywgaXNWYWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdVdGlsaXNhdGV1ciBub24gY29ubmVjdMOpIC0gQ29uZmlndXJhdGlvbiBzYXV2ZWdhcmTDqWUgbG9jYWxlbWVudCcgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQWpvdXQgZCd1bmUgbm91dmVsbGUgY29uZmlndXJhdGlvbjpcIiwgY29uZmlnLm5hbWUsIFwidGVudGF0aXZlOlwiLCByZXRyeUNvdW50ICsgMSk7XG5cbiAgICAgIC8vIFbDqXJpZmllciBkJ2Fib3JkIGxhIHNlc3Npb25cbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gU2Vzc2lvbiBTdXBhYmFzZSBleHBpcsOpZSBvdSBpbnZhbGlkZVwiKTtcblxuICAgICAgICAvLyBUZW50ZXIgZGUgcmFmcmHDrmNoaXIgbGEgc2Vzc2lvblxuICAgICAgICBjb25zdCB7IGRhdGE6IHJlZnJlc2hEYXRhLCBlcnJvcjogcmVmcmVzaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlZnJlc2hTZXNzaW9uKCk7XG4gICAgICAgIGlmIChyZWZyZXNoRXJyb3IgfHwgIXJlZnJlc2hEYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEltcG9zc2libGUgZGUgcmFmcmHDrmNoaXIgbGEgc2Vzc2lvbjpcIiwgcmVmcmVzaEVycm9yKTtcbiAgICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYFNlc3Npb24gZXhwaXLDqWU6ICR7cmVmcmVzaEVycm9yPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcblxuICAgICAgICAgIC8vIFNhdXZlZ2FyZGVyIGxhIGNvbmZpZ3VyYXRpb24gZW4gYXR0ZW50ZVxuICAgICAgICAgIHNhdmVQZW5kaW5nQ29uZmlnKHVzZXIuaWQsIGNvbmZpZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6ICcnLFxuICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnU2Vzc2lvbiBleHBpcsOpZSAtIENvbmZpZ3VyYXRpb24gc2F1dmVnYXJkw6llIGxvY2FsZW1lbnQgcG91ciBzeW5jaHJvbmlzYXRpb24gdWx0w6lyaWV1cmUnXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFNlc3Npb24gcmFmcmHDrmNoaWUgYXZlYyBzdWNjw6hzXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBSw6ljdXDDqXJlciBsJ0lEIGR1IGZvdXJuaXNzZXVyIMOgIHBhcnRpciBkdSBzbHVnXG4gICAgICBsZXQgcHJvdmlkZXJJZCA9IGNvbmZpZy5wcm92aWRlcl9pZDtcblxuICAgICAgaWYgKCFwcm92aWRlcklkICYmIGNvbmZpZy5wcm92aWRlcikge1xuICAgICAgICAvLyBTaSBwcm92aWRlcl9pZCBuJ2VzdCBwYXMgZm91cm5pIG1haXMgcXVlIHByb3ZpZGVyIChzbHVnKSBsJ2VzdCwgcsOpY3Vww6lyZXIgbCdJRFxuICAgICAgICBjb25zdCB7IGRhdGE6IHByb3ZpZGVyRGF0YSwgZXJyb3I6IHByb3ZpZGVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2FwaV9wcm92aWRlcnMnKVxuICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAuZXEoJ3NsdWcnLCBjb25maWcucHJvdmlkZXIpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChwcm92aWRlckVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkdSBmb3Vybmlzc2V1cjpcIiwgcHJvdmlkZXJFcnJvcik7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRm91cm5pc3NldXIgbm9uIHRyb3V2w6k6ICR7cHJvdmlkZXJFcnJvci5tZXNzYWdlfWBdKTtcblxuICAgICAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1NZTkNfUkVUUklFUykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRDb25maWcoY29uZmlnLCByZXRyeUNvdW50ICsgMSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcblxuICAgICAgICAgIC8vIFNhdXZlZ2FyZGVyIGxhIGNvbmZpZ3VyYXRpb24gZW4gYXR0ZW50ZVxuICAgICAgICAgIHNhdmVQZW5kaW5nQ29uZmlnKHVzZXIuaWQsIGNvbmZpZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6ICcnLFxuICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRm91cm5pc3NldXIgbm9uIHRyb3V2w6kgLSBDb25maWd1cmF0aW9uIHNhdXZlZ2FyZMOpZSBsb2NhbGVtZW50J1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgcHJvdmlkZXJJZCA9IHByb3ZpZGVyRGF0YS5pZDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBJRCBkdSBmb3Vybmlzc2V1ciByw6ljdXDDqXLDqTpcIiwgcHJvdmlkZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFwcm92aWRlcklkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gSW1wb3NzaWJsZSBkJ2Fqb3V0ZXIgdW5lIGNvbmZpZ3VyYXRpb246IElEIGR1IGZvdXJuaXNzZXVyIG1hbnF1YW50XCIpO1xuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiSUQgZHUgZm91cm5pc3NldXIgbWFucXVhbnRcIl0pO1xuICAgICAgICByZXR1cm4geyBpZDogJycsIGlzVmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnSUQgZHUgZm91cm5pc3NldXIgbWFucXVhbnQnIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkZXIgbGEgY2zDqSBBUEkgYXZhbnQgZGUgbCdham91dGVyXG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBWYWxpZGF0aW9uIGRlIGxhIGNsw6kgQVBJIGF2YW50IGFqb3V0Li4uXCIpO1xuXG4gICAgICAvLyBVdGlsaXNlciB1bmUgcHJvbWVzc2UgYXZlYyB0aW1lb3V0IHBvdXIgw6l2aXRlciBsZXMgdmFsaWRhdGlvbnMgaW5maW5pZXNcbiAgICAgIGxldCB2YWxpZGF0aW9uUmVzdWx0OiBBcGlLZXlWYWxpZGF0aW9uUmVzdWx0ID0ge1xuICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBcIlZhbGlkYXRpb24gcGFyIGTDqWZhdXRcIixcbiAgICAgICAgcHJvdmlkZXI6IHtcbiAgICAgICAgICBuYW1lOiBjb25maWcucHJvdmlkZXIsXG4gICAgICAgICAgc2x1ZzogY29uZmlnLnByb3ZpZGVyXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25Qcm9taXNlID0gdmFsaWRhdGVBcGlLZXkoY29uZmlnLnByb3ZpZGVyLCBjb25maWcua2V5KTtcbiAgICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTxBcGlLZXlWYWxpZGF0aW9uUmVzdWx0PigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVGltZW91dCBkZSB2YWxpZGF0aW9uIGF0dGVpbnQsIGNvbnNpZMOpcmFudCBsYSBjbMOpIGNvbW1lIHZhbGlkZVwiKTtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBcIlZhbGlkYXRpb24gYXV0b21hdGlxdWUgYXByw6hzIHRpbWVvdXRcIixcbiAgICAgICAgICAgICAgcHJvdmlkZXI6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjb25maWcucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgc2x1ZzogY29uZmlnLnByb3ZpZGVyXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEwMDAwKTsgLy8gMTAgc2Vjb25kZXMgZGUgdGltZW91dFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVdGlsaXNlciBsYSBwcmVtacOocmUgcHJvbWVzc2UgcXVpIHNlIHLDqXNvdXRcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbdmFsaWRhdGlvblByb21pc2UsIHRpbWVvdXRQcm9taXNlXSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHZhbGlkYXRpb24gZGUgbGEgY2zDqSBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgLy8gRW4gbW9kZSBkw6l2ZWxvcHBlbWVudCwgY29uc2lkw6lyZXIgbGEgY2zDqSBjb21tZSB2YWxpZGUgbWFsZ3LDqSBsJ2VycmV1clxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0ID0ge1xuICAgICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogXCJWYWxpZGF0aW9uIGF1dG9tYXRpcXVlIGFwcsOocyBlcnJldXJcIixcbiAgICAgICAgICBwcm92aWRlcjoge1xuICAgICAgICAgICAgbmFtZTogY29uZmlnLnByb3ZpZGVyLFxuICAgICAgICAgICAgc2x1ZzogY29uZmlnLnByb3ZpZGVyXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBEw6l0ZXJtaW5lciBsZSBzdGF0dXQgZW4gZm9uY3Rpb24gZHUgcsOpc3VsdGF0IGRlIGxhIHZhbGlkYXRpb25cbiAgICAgIGNvbnN0IHN0YXR1cyA9IHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCA/ICd2YWxpZCcgOiAnaW52YWxpZCc7XG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBTdGF0dXQgZGUgbGEgY2zDqSBBUEk6XCIsIHN0YXR1cyk7XG5cbiAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gTGEgY2zDqSBBUEkgbidlc3QgcGFzIHZhbGlkZTpcIiwgdmFsaWRhdGlvblJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgQ2zDqSBBUEkgaW52YWxpZGU6ICR7dmFsaWRhdGlvblJlc3VsdC5tZXNzYWdlfWBdKTtcbiAgICAgICAgLy8gQ29udGludWVyIG1hbGdyw6kgbCfDqWNoZWMgZGUgbGEgdmFsaWRhdGlvbiBwb3VyIHBlcm1ldHRyZSBsJ2VucmVnaXN0cmVtZW50IGRlIGNsw6lzIGludmFsaWRlc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ2zDqSBBUEkgdmFsaWTDqWUgYXZlYyBzdWNjw6hzXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBTT0xVVElPTiBSQURJQ0FMRTogU3RvY2tlciBsYSBjbMOpIEFQSSBlbiBjbGFpciBzYW5zIGNoaWZmcmVtZW50XG4gICAgICAvLyBDZWxhIHLDqXNvdXQgbGVzIHByb2Jsw6htZXMgZGUgZMOpY2hpZmZyZW1lbnQgcXVpIGNhdXNlbnQgbGVzIGVycmV1cnMgYXZlYyBsJ0FQSSB4QUlcbiAgICAgIGNvbnN0IGVuY3J5cHRlZEFwaUtleSA9IGNvbmZpZy5rZXk7IC8vIFV0aWxpc2VyIGxhIGNsw6kgZW4gY2xhaXJcblxuICAgICAgLy8gUHLDqXBhcmVyIGxlcyBkb25uw6llcyDDoCBpbnPDqXJlclxuICAgICAgY29uc3QgaW5zZXJ0RGF0YTogYW55ID0ge1xuICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiBjb25maWcubmFtZSxcbiAgICAgICAgcHJvdmlkZXJfaWQ6IHByb3ZpZGVySWQsXG4gICAgICAgIG1vZGVsOiBjb25maWcubW9kZWwsXG4gICAgICAgIGFwaV9rZXk6IGVuY3J5cHRlZEFwaUtleSxcbiAgICAgICAgaXNfdmFsaWQ6IHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCxcbiAgICAgICAgbGFzdF92YWxpZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgLy8gQWpvdXRlciBsZSBzdGF0dXQgc2V1bGVtZW50IHNpIGxhIGNvbG9ubmUgZXhpc3RlXG4gICAgICB0cnkge1xuICAgICAgICBpbnNlcnREYXRhLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJBcGlDb25maWdDb250ZXh0IC0gTGEgY29sb25uZSBzdGF0dXMgbidleGlzdGUgcGV1dC3DqnRyZSBwYXM6XCIsIGUpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgYXZlYyBsYSBjb2xvbm5lIHN0YXR1czogJHtlPy5tZXNzYWdlIHx8ICdFcnJldXIgaW5jb25udWUnfWBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVxdcOqdGUgYXZlYyB0aW1lb3V0IHBvdXIgw6l2aXRlciBsZXMgYmxvY2FnZXNcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8eyBkYXRhOiBudWxsLCBlcnJvcjogRXJyb3IgfT4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIlRpbWVvdXQgbG9ycyBkZSBsJ2luc2VydGlvbiBkZSBsYSBjb25maWd1cmF0aW9uXCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDEwMDAwKTsgLy8gMTAgc2Vjb25kZXMgZGUgdGltZW91dFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlcXXDqnRlIFN1cGFiYXNlIGF2ZWMgZGVidWdcbiAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIERvbm7DqWVzIMOgIGluc8OpcmVyOlwiLCBKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhLCBudWxsLCAyKSk7XG5cbiAgICAgIC8vIFbDqXJpZmllciBxdWUgdXNlcl9pZCBlc3QgYmllbiB1biBVVUlEIHZhbGlkZVxuICAgICAgaWYgKCFpbnNlcnREYXRhLnVzZXJfaWQgfHwgIS9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17MTJ9JC9pLnRlc3QoaW5zZXJ0RGF0YS51c2VyX2lkKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIHVzZXJfaWQgaW52YWxpZGU6XCIsIGluc2VydERhdGEudXNlcl9pZCk7XG4gICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYHVzZXJfaWQgaW52YWxpZGU6ICR7aW5zZXJ0RGF0YS51c2VyX2lkfWBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVxdcOqdGUgU3VwYWJhc2UgYXZlYyBkZWJ1Z1xuICAgICAgY29uc3QgaW5zZXJ0UHJvbWlzZSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhcGlfY29uZmlndXJhdGlvbnMnKVxuICAgICAgICAuaW5zZXJ0KGluc2VydERhdGEpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgcHJvdmlkZXJfaWQsXG4gICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgaXNfdmFsaWQsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIGxhc3RfdmFsaWRhdGVkX2F0LFxuICAgICAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICBhcGlfcHJvdmlkZXJzIChcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHNsdWdcbiAgICAgICAgICApXG4gICAgICAgIGApXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgLy8gVXRpbGlzZXIgUHJvbWlzZS5yYWNlIHBvdXIgaW1wbMOpbWVudGVyIHVuIHRpbWVvdXRcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbaW5zZXJ0UHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlc3VsdCBhcyBhbnk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGwnaW5zZXJ0aW9uIGRlIGxhIGNvbmZpZ3VyYXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGQnaW5zZXJ0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YF0pO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBzaSBsJ2VycmV1ciBlc3QgbGnDqWUgYXV4IHBlcm1pc3Npb25zIFJMU1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJzQyNTAxJyB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwZXJtaXNzaW9uJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncG9saWN5JykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBkZSBwZXJtaXNzaW9uIFJMUzpcIiwgZXJyb3IpO1xuICAgICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSBwZXJtaXNzaW9uIFJMUzogJHtlcnJvci5tZXNzYWdlfWBdKTtcblxuICAgICAgICAgIC8vIFbDqXJpZmllciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb246IGN1cnJlbnRTZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFNlc3Npb24gdXRpbGlzYXRldXIgYWN0dWVsbGU6XCIsIGN1cnJlbnRTZXNzaW9uPy51c2VyPy5pZCk7XG5cbiAgICAgICAgICAvLyBWw6lyaWZpZXIgcXVlIGwnSUQgdXRpbGlzYXRldXIgZGFucyBsYSByZXF1w6p0ZSBjb3JyZXNwb25kIMOgIGwnSUQgZGUgc2Vzc2lvblxuICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbj8udXNlcj8uaWQgIT09IGluc2VydERhdGEudXNlcl9pZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBJbmNvaMOpcmVuY2UgZCdJRCB1dGlsaXNhdGV1cjpcIiwge1xuICAgICAgICAgICAgICBzZXNzaW9uVXNlcklkOiBjdXJyZW50U2Vzc2lvbj8udXNlcj8uaWQsXG4gICAgICAgICAgICAgIHJlcXVlc3RVc2VySWQ6IGluc2VydERhdGEudXNlcl9pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBJbmNvaMOpcmVuY2UgZCdJRCB1dGlsaXNhdGV1cjogc2Vzc2lvbj0ke2N1cnJlbnRTZXNzaW9uPy51c2VyPy5pZH0sIHJlcXXDqnRlPSR7aW5zZXJ0RGF0YS51c2VyX2lkfWBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXRyeSBzaSBwb3NzaWJsZVxuICAgICAgICBpZiAocmV0cnlDb3VudCA8IE1BWF9TWU5DX1JFVFJJRVMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQXBpQ29uZmlnQ29udGV4dCAtIE5vdXZlbGxlIHRlbnRhdGl2ZSAoJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfU1lOQ19SRVRSSUVTfSkgZGFucyAke1NZTkNfUkVUUllfSU5URVJWQUwvMTAwMH1zLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgICByZXR1cm4gYWRkQ29uZmlnKGNvbmZpZywgcmV0cnlDb3VudCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcblxuICAgICAgICAvLyBTYXV2ZWdhcmRlciBsYSBjb25maWd1cmF0aW9uIGVuIGF0dGVudGVcbiAgICAgICAgc2F2ZVBlbmRpbmdDb25maWcodXNlci5pZCwgY29uZmlnKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBgRXJyZXVyIGxvcnMgZGUgbCdpbnNlcnRpb24gLSBDb25maWd1cmF0aW9uIHNhdXZlZ2FyZMOpZSBsb2NhbGVtZW50OiAke2Vycm9yLm1lc3NhZ2V9YFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBEb25uw6llcyBpbnZhbGlkZXMgcmXDp3VlcyBkZSBTdXBhYmFzZSBhcHLDqHMgaW5zZXJ0aW9uXCIpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiRG9ubsOpZXMgaW52YWxpZGVzIHJlw6d1ZXMgYXByw6hzIGluc2VydGlvblwiXSk7XG5cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgICAgcmV0dXJuIGFkZENvbmZpZyhjb25maWcsIHJldHJ5Q291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG5cbiAgICAgICAgLy8gU2F1dmVnYXJkZXIgbGEgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlXG4gICAgICAgIHNhdmVQZW5kaW5nQ29uZmlnKHVzZXIuaWQsIGNvbmZpZyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ0VycmV1ciBsb3JzIGRlIGxcXCdpbnNlcnRpb24gLSBDb25maWd1cmF0aW9uIHNhdXZlZ2FyZMOpZSBsb2NhbGVtZW50J1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBDb25maWd1cmF0aW9uIGFqb3V0w6llIGF2ZWMgc3VjY8OocywgSUQ6XCIsIGRhdGEuaWQpO1xuXG4gICAgICAvLyBBdSBsaWV1IGRlIHJlY2hhcmdlciB0b3V0ZXMgbGVzIGNvbmZpZ3VyYXRpb25zLCBham91dGVyIGRpcmVjdGVtZW50IGxhIG5vdXZlbGxlIGNvbmZpZ3VyYXRpb24gw6AgbCfDqXRhdCBsb2NhbFxuICAgICAgLy8gUsOpY3Vww6lyZXIgbGUgc2x1ZyBkdSBmb3Vybmlzc2V1clxuICAgICAgbGV0IHByb3ZpZGVyU2x1ZyA9ICd1bmtub3duJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkYXRhLmFwaV9wcm92aWRlcnMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuYXBpX3Byb3ZpZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIFbDqXJpZmllciBzaSBhcGlfcHJvdmlkZXJzIGVzdCB1biB0YWJsZWF1IG91IHVuIG9iamV0XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmFwaV9wcm92aWRlcnMpKSB7XG4gICAgICAgICAgICAgIC8vIFNpIGMnZXN0IHVuIHRhYmxlYXUsIHByZW5kcmUgbGUgcHJlbWllciDDqWzDqW1lbnRcbiAgICAgICAgICAgICAgaWYgKGRhdGEuYXBpX3Byb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJTbHVnID0gZGF0YS5hcGlfcHJvdmlkZXJzWzBdLnNsdWcgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBTaSBjJ2VzdCB1biBvYmpldCwgYWNjw6lkZXIgZGlyZWN0ZW1lbnQgYXUgc2x1Z1xuICAgICAgICAgICAgICBwcm92aWRlclNsdWcgPSAoZGF0YS5hcGlfcHJvdmlkZXJzIGFzIGFueSkuc2x1ZyB8fCAndW5rbm93bic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkdSBzbHVnOlwiLCBlKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHLDqWN1cMOpcmF0aW9uIGR1IHNsdWc6ICR7ZT8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0NvbmZpZzogQXBpQ29uZmlnID0ge1xuICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBwcm92aWRlcjogcHJvdmlkZXJTbHVnLFxuICAgICAgICBwcm92aWRlcl9pZDogZGF0YS5wcm92aWRlcl9pZCxcbiAgICAgICAgbW9kZWw6IGRhdGEubW9kZWwgfHwgJycsXG4gICAgICAgIGtleTogJ+KAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAouKAoicsIC8vIExhIGNsw6kgQVBJIGVzdCBtYXNxdcOpZSBwb3VyIGRlcyByYWlzb25zIGRlIHPDqWN1cml0w6lcbiAgICAgICAgaXNWYWxpZGF0ZWQ6IGRhdGEuaXNfdmFsaWQsXG4gICAgICAgIHN0YXR1czogKGRhdGEuc3RhdHVzIGFzICd2YWxpZCcgfCAnaW52YWxpZCcgfCAndW5rbm93bicpIHx8IChkYXRhLmlzX3ZhbGlkID8gJ3ZhbGlkJyA6ICdpbnZhbGlkJyksXG4gICAgICAgIGxhc3RfdmFsaWRhdGVkX2F0OiBkYXRhLmxhc3RfdmFsaWRhdGVkX2F0LFxuICAgICAgICBjcmVhdGVkX2F0OiBkYXRhLmNyZWF0ZWRfYXRcbiAgICAgIH07XG5cbiAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwnw6l0YXQgbG9jYWwgYXZlYyBsYSBub3V2ZWxsZSBjb25maWd1cmF0aW9uXG4gICAgICBzZXRDb25maWdzKHByZXZDb25maWdzID0+IFsuLi5wcmV2Q29uZmlncywgbmV3Q29uZmlnXSk7XG5cbiAgICAgIC8vIFNhdXZlZ2FyZGVyIGRhbnMgbGUgY2FjaGUgbG9jYWwgYXZlYyBsYSBub3V2ZWxsZSB2ZXJzaW9uXG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gY29uZmlnVmVyc2lvbiArIDE7XG4gICAgICBzZXRDb25maWdWZXJzaW9uKG5ld1ZlcnNpb24pO1xuICAgICAgc2F2ZUNvbmZpZ3NUb0xvY2FsU3RvcmFnZSh1c2VyLmlkLCBbLi4uY29uZmlncywgbmV3Q29uZmlnXSk7XG5cbiAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxlIHN0YXR1dCBkZSBzeW5jaHJvbmlzYXRpb25cbiAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgIHNldExhc3RTeW5jVGltZShEYXRlLm5vdygpKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGlzVmFsaWQ6IHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCxcbiAgICAgICAgbWVzc2FnZTogdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkXG4gICAgICAgICAgPyAnQ29uZmlndXJhdGlvbiBham91dMOpZSBhdmVjIHN1Y2PDqHMnXG4gICAgICAgICAgOiAnQ29uZmlndXJhdGlvbiBham91dMOpZSBtYWlzIGxhIGNsw6kgQVBJIHNlbWJsZSBpbnZhbGlkZSdcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFeGNlcHRpb24gbG9ycyBkZSBsJ2Fqb3V0IGRlIGxhIGNvbmZpZ3VyYXRpb246XCIsIGVycm9yKTtcbiAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEV4Y2VwdGlvbjogJHtlcnJvcj8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuXG4gICAgICAvLyBSZXRyeSBzaSBwb3NzaWJsZVxuICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBcGlDb25maWdDb250ZXh0IC0gTm91dmVsbGUgdGVudGF0aXZlICgke3JldHJ5Q291bnQgKyAxfS8ke01BWF9TWU5DX1JFVFJJRVN9KSBkYW5zICR7U1lOQ19SRVRSWV9JTlRFUlZBTC8xMDAwfXMuLi5gKTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgcmV0dXJuIGFkZENvbmZpZyhjb25maWcsIHJldHJ5Q291bnQgKyAxKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2F1dmVnYXJkZXIgbGEgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlXG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBzYXZlUGVuZGluZ0NvbmZpZyh1c2VyLmlkLCBjb25maWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2F2ZVBlbmRpbmdDb25maWcoJ3Vua25vd24nLCBjb25maWcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogJycsXG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBgRXJyZXVyIGxvcnMgZGUgbCdham91dCAtIENvbmZpZ3VyYXRpb24gc2F1dmVnYXJkw6llIGxvY2FsZW1lbnQ6ICR7ZXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YFxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTWV0dHJlIMOgIGpvdXIgdW5lIGNvbmZpZ3VyYXRpb24gZXhpc3RhbnRlIGF2ZWMgZ2VzdGlvbiByb2J1c3RlIGRlcyBlcnJldXJzIGV0IHBlcnNpc3RhbmNlIGxvY2FsZVxuICBjb25zdCB1cGRhdGVDb25maWcgPSBhc3luYyAoaWQ6IHN0cmluZywgY29uZmlnOiBQYXJ0aWFsPE9taXQ8QXBpQ29uZmlnLCBcImlkXCI+PiwgcmV0cnlDb3VudCA9IDApOiBQcm9taXNlPHsgaXNWYWxpZDogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+ID0+IHtcbiAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBzdGF0dXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgc2V0U3luY1N0YXR1cygnc3luY2luZycpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEltcG9zc2libGUgZGUgbWV0dHJlIMOgIGpvdXIgbGEgY29uZmlndXJhdGlvbjogdXRpbGlzYXRldXIgbm9uIGNvbm5lY3TDqVwiKTtcbiAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiVGVudGF0aXZlIGRlIG1pc2Ugw6Agam91ciBzYW5zIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqVwiXSk7XG4gICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ1V0aWxpc2F0ZXVyIG5vbiBjb25uZWN0w6knIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIE1pc2Ugw6Agam91ciBkZSBsYSBjb25maWd1cmF0aW9uOlwiLCBpZCwgXCJ0ZW50YXRpdmU6XCIsIHJldHJ5Q291bnQgKyAxKTtcblxuICAgICAgLy8gVsOpcmlmaWVyIGQnYWJvcmQgbGEgc2Vzc2lvblxuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBTZXNzaW9uIFN1cGFiYXNlIGV4cGlyw6llIG91IGludmFsaWRlXCIpO1xuXG4gICAgICAgIC8vIFRlbnRlciBkZSByYWZyYcOuY2hpciBsYSBzZXNzaW9uXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcmVmcmVzaERhdGEsIGVycm9yOiByZWZyZXNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVmcmVzaFNlc3Npb24oKTtcbiAgICAgICAgaWYgKHJlZnJlc2hFcnJvciB8fCAhcmVmcmVzaERhdGEuc2Vzc2lvbikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gSW1wb3NzaWJsZSBkZSByYWZyYcOuY2hpciBsYSBzZXNzaW9uOlwiLCByZWZyZXNoRXJyb3IpO1xuICAgICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgU2Vzc2lvbiBleHBpcsOpZTogJHtyZWZyZXNoRXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiAnU2Vzc2lvbiBleHBpcsOpZSwgdmV1aWxsZXogdm91cyByZWNvbm5lY3RlcicgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFNlc3Npb24gcmFmcmHDrmNoaWUgYXZlYyBzdWNjw6hzXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBSw6ljdXDDqXJlciBsYSBjb25maWd1cmF0aW9uIGV4aXN0YW50ZSBwb3VyIG9idGVuaXIgbGUgcHJvdmlkZXJcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ29uZmlnID0gZ2V0Q29uZmlnQnlJZChpZCk7XG4gICAgICBpZiAoIWV4aXN0aW5nQ29uZmlnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbiBub24gdHJvdXbDqWUgbG9jYWxlbWVudDpcIiwgaWQpO1xuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBDb25maWd1cmF0aW9uIG5vbiB0cm91dsOpZSBsb2NhbGVtZW50OiAke2lkfWBdKTtcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdDb25maWd1cmF0aW9uIG5vbiB0cm91dsOpZScgfTtcbiAgICAgIH1cblxuICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsYSBjb25maWd1cmF0aW9uIGV4aXN0ZSBkYW5zIFN1cGFiYXNlIGV0IGFwcGFydGllbnQgw6AgbCd1dGlsaXNhdGV1clxuICAgICAgY29uc3QgeyBkYXRhOiBjb25maWdEYXRhLCBlcnJvcjogY29uZmlnRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhcGlfY29uZmlndXJhdGlvbnMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChjb25maWdFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHbDqXJpZmljYXRpb24gZGUgbGEgY29uZmlndXJhdGlvbjpcIiwgY29uZmlnRXJyb3IpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgdsOpcmlmaWNhdGlvbjogJHtjb25maWdFcnJvci5tZXNzYWdlfWBdKTtcblxuICAgICAgICAvLyBSZXRyeSBzaSBwb3NzaWJsZVxuICAgICAgICBpZiAocmV0cnlDb3VudCA8IE1BWF9TWU5DX1JFVFJJRVMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQXBpQ29uZmlnQ29udGV4dCAtIE5vdXZlbGxlIHRlbnRhdGl2ZSAoJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfU1lOQ19SRVRSSUVTfSkgZGFucyAke1NZTkNfUkVUUllfSU5URVJWQUwvMTAwMH1zLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlQ29uZmlnKGlkLCBjb25maWcsIHJldHJ5Q291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBtZXNzYWdlOiBjb25maWdFcnJvci5tZXNzYWdlIH07XG4gICAgICB9XG5cbiAgICAgIGlmICghY29uZmlnRGF0YSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbmZpZ3VyYXRpb24gbm9uIHRyb3V2w6llIGRhbnMgU3VwYWJhc2U6XCIsIGlkKTtcbiAgICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgQ29uZmlndXJhdGlvbiBub24gdHJvdXbDqWUgZGFucyBTdXBhYmFzZTogJHtpZH1gXSk7XG5cbiAgICAgICAgLy8gU3VwcHJpbWVyIGxhIGNvbmZpZ3VyYXRpb24gZGUgbCfDqXRhdCBsb2NhbCBzaSBlbGxlIG4nZXhpc3RlIHBsdXMgZGFucyBTdXBhYmFzZVxuICAgICAgICBzZXRDb25maWdzKHByZXZDb25maWdzID0+IHByZXZDb25maWdzLmZpbHRlcihjID0+IGMuaWQgIT09IGlkKSk7XG5cbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgY2FjaGUgbG9jYWxcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkQ29uZmlncyA9IGNvbmZpZ3MuZmlsdGVyKGMgPT4gYy5pZCAhPT0gaWQpO1xuICAgICAgICAgIHNhdmVDb25maWdzVG9Mb2NhbFN0b3JhZ2UodXNlci5pZCwgdXBkYXRlZENvbmZpZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdDb25maWd1cmF0aW9uIG5vbiB0cm91dsOpZSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMnIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFByw6lwYXJlciBsZXMgZG9ubsOpZXMgw6AgbWV0dHJlIMOgIGpvdXJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcbiAgICAgICAgbGFzdF92YWxpZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgbm9tIHNpIGZvdXJuaVxuICAgICAgaWYgKGNvbmZpZy5uYW1lKSB7XG4gICAgICAgIHVwZGF0ZURhdGEubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgICAgfVxuXG4gICAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBtb2TDqGxlIHNpIGZvdXJuaVxuICAgICAgaWYgKGNvbmZpZy5tb2RlbCkge1xuICAgICAgICB1cGRhdGVEYXRhLm1vZGVsID0gY29uZmlnLm1vZGVsO1xuICAgICAgfVxuXG4gICAgICAvLyBTaSB1bmUgbm91dmVsbGUgY2zDqSBBUEkgZXN0IGZvdXJuaWUgZXQgZGlmZsOpcmVudGUgZGUgbGEgdmFsZXVyIG1hc3F1w6llLCBsYSB2YWxpZGVyIHB1aXMgbGEgY2hpZmZyZXJcbiAgICAgIGlmIChjb25maWcua2V5ICYmIGNvbmZpZy5rZXkgIT09ICfigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKInKSB7XG4gICAgICAgIC8vIFZhbGlkZXIgbGEgY2zDqSBBUEkgYXZhbnQgZGUgbGEgbWV0dHJlIMOgIGpvdXJcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVmFsaWRhdGlvbiBkZSBsYSBjbMOpIEFQSSBhdmFudCBtaXNlIMOgIGpvdXIuLi5cIik7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUFwaUtleShcbiAgICAgICAgICBjb25maWcucHJvdmlkZXIgfHwgZXhpc3RpbmdDb25maWcucHJvdmlkZXIsXG4gICAgICAgICAgY29uZmlnLmtleVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIETDqXRlcm1pbmVyIGxlIHN0YXR1dCBlbiBmb25jdGlvbiBkdSByw6lzdWx0YXQgZGUgbGEgdmFsaWRhdGlvblxuICAgICAgICBjb25zdCBzdGF0dXMgPSB2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQgPyAndmFsaWQnIDogJ2ludmFsaWQnO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBTdGF0dXQgZGUgbGEgbm91dmVsbGUgY2zDqSBBUEk6XCIsIHN0YXR1cyk7XG5cbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgaXNfdmFsaWQgcXVpIGVzdCB0b3Vqb3VycyBwcsOpc2VudFxuICAgICAgICB1cGRhdGVEYXRhLmlzX3ZhbGlkID0gdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkO1xuXG4gICAgICAgIC8vIEFqb3V0ZXIgbGUgc3RhdHV0IHNldWxlbWVudCBzaSBsYSBjb2xvbm5lIGV4aXN0ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHVwZGF0ZURhdGEuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJBcGlDb25maWdDb250ZXh0IC0gTGEgY29sb25uZSBzdGF0dXMgbidleGlzdGUgcGV1dC3DqnRyZSBwYXM6XCIsIGUpO1xuICAgICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBhdmVjIGxhIGNvbG9ubmUgc3RhdHVzOiAke2U/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIExhIGNsw6kgQVBJIG4nZXN0IHBhcyB2YWxpZGU6XCIsIHZhbGlkYXRpb25SZXN1bHQubWVzc2FnZSk7XG4gICAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgQ2zDqSBBUEkgaW52YWxpZGU6ICR7dmFsaWRhdGlvblJlc3VsdC5tZXNzYWdlfWBdKTtcbiAgICAgICAgICAvLyBDb250aW51ZXIgbWFsZ3LDqSBsJ8OpY2hlYyBkZSBsYSB2YWxpZGF0aW9uIHBvdXIgcGVybWV0dHJlIGwnZW5yZWdpc3RyZW1lbnQgZGUgY2zDqXMgaW52YWxpZGVzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ2zDqSBBUEkgdmFsaWTDqWUgYXZlYyBzdWNjw6hzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU09MVVRJT04gUkFESUNBTEU6IFN0b2NrZXIgbGEgY2zDqSBBUEkgZW4gY2xhaXIgc2FucyBjaGlmZnJlbWVudFxuICAgICAgICB1cGRhdGVEYXRhLmFwaV9rZXkgPSBjb25maWcua2V5OyAvLyBVdGlsaXNlciBsYSBjbMOpIGVuIGNsYWlyXG4gICAgICB9XG5cbiAgICAgIC8vIFNpIGF1Y3VuZSBkb25uw6llIMOgIG1ldHRyZSDDoCBqb3VyLCByZXRvdXJuZXIgdW4gc3VjY8Ooc1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZURhdGEpLmxlbmd0aCA9PT0gMSAmJiB1cGRhdGVEYXRhLmxhc3RfdmFsaWRhdGVkX2F0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIEF1Y3VuZSBkb25uw6llIHNpZ25pZmljYXRpdmUgw6AgbWV0dHJlIMOgIGpvdXJcIik7XG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgbWVzc2FnZTogJ0F1Y3VuZSBtb2RpZmljYXRpb24gZWZmZWN0dcOpZScgfTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVxdcOqdGUgYXZlYyB0aW1lb3V0IHBvdXIgw6l2aXRlciBsZXMgYmxvY2FnZXNcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8eyBkYXRhOiBudWxsLCBlcnJvcjogRXJyb3IgfT4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIlRpbWVvdXQgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZGUgbGEgY29uZmlndXJhdGlvblwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDAwMCk7IC8vIDEwIHNlY29uZGVzIGRlIHRpbWVvdXRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXF1w6p0ZSBTdXBhYmFzZVxuICAgICAgY29uc3QgdXBkYXRlUHJvbWlzZSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhcGlfY29uZmlndXJhdGlvbnMnKVxuICAgICAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBwcm92aWRlcl9pZCxcbiAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICBpc192YWxpZCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgbGFzdF92YWxpZGF0ZWRfYXQsXG4gICAgICAgICAgY3JlYXRlZF9hdCxcbiAgICAgICAgICBhcGlfcHJvdmlkZXJzIChcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHNsdWdcbiAgICAgICAgICApXG4gICAgICAgIGApXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgLy8gVXRpbGlzZXIgUHJvbWlzZS5yYWNlIHBvdXIgaW1wbMOpbWVudGVyIHVuIHRpbWVvdXRcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbdXBkYXRlUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlc3VsdCBhcyBhbnk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkZSBsYSBjb25maWd1cmF0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSBtaXNlIMOgIGpvdXI6ICR7ZXJyb3IubWVzc2FnZX1gXSk7XG5cbiAgICAgICAgLy8gUmV0cnkgc2kgcG9zc2libGVcbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUNvbmZpZyhpZCwgY29uZmlnLCByZXRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBEb25uw6llcyBpbnZhbGlkZXMgcmXDp3VlcyBkZSBTdXBhYmFzZSBhcHLDqHMgbWlzZSDDoCBqb3VyXCIpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIFwiRG9ubsOpZXMgaW52YWxpZGVzIHJlw6d1ZXMgYXByw6hzIG1pc2Ugw6Agam91clwiXSk7XG5cbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEFwaUNvbmZpZ0NvbnRleHQgLSBOb3V2ZWxsZSB0ZW50YXRpdmUgKCR7cmV0cnlDb3VudCArIDF9LyR7TUFYX1NZTkNfUkVUUklFU30pIGRhbnMgJHtTWU5DX1JFVFJZX0lOVEVSVkFMLzEwMDB9cy4uLmApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUNvbmZpZyhpZCwgY29uZmlnLCByZXRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkZSBsYSBjb25maWd1cmF0aW9uJyB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBDb25maWd1cmF0aW9uIG1pc2Ugw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG5cbiAgICAgIC8vIFLDqWN1cMOpcmVyIGxlIHNsdWcgZHUgZm91cm5pc3NldXJcbiAgICAgIGxldCBwcm92aWRlclNsdWcgPSBleGlzdGluZ0NvbmZpZy5wcm92aWRlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkYXRhLmFwaV9wcm92aWRlcnMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuYXBpX3Byb3ZpZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIFbDqXJpZmllciBzaSBhcGlfcHJvdmlkZXJzIGVzdCB1biB0YWJsZWF1IG91IHVuIG9iamV0XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmFwaV9wcm92aWRlcnMpKSB7XG4gICAgICAgICAgICAgIC8vIFNpIGMnZXN0IHVuIHRhYmxlYXUsIHByZW5kcmUgbGUgcHJlbWllciDDqWzDqW1lbnRcbiAgICAgICAgICAgICAgaWYgKGRhdGEuYXBpX3Byb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJTbHVnID0gZGF0YS5hcGlfcHJvdmlkZXJzWzBdLnNsdWcgfHwgZXhpc3RpbmdDb25maWcucHJvdmlkZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFNpIGMnZXN0IHVuIG9iamV0LCBhY2PDqWRlciBkaXJlY3RlbWVudCBhdSBzbHVnXG4gICAgICAgICAgICAgIHByb3ZpZGVyU2x1ZyA9IChkYXRhLmFwaV9wcm92aWRlcnMgYXMgYW55KS5zbHVnIHx8IGV4aXN0aW5nQ29uZmlnLnByb3ZpZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcGlDb25maWdDb250ZXh0IC0gRXJyZXVyIGxvcnMgZGUgbGEgcsOpY3Vww6lyYXRpb24gZHUgc2x1ZzpcIiwgZSk7XG4gICAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSByw6ljdXDDqXJhdGlvbiBkdSBzbHVnOiAke2U/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcsOpZXIgbGEgY29uZmlndXJhdGlvbiBtaXNlIMOgIGpvdXJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb25maWc6IEFwaUNvbmZpZyA9IHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyU2x1ZyxcbiAgICAgICAgcHJvdmlkZXJfaWQ6IGRhdGEucHJvdmlkZXJfaWQsXG4gICAgICAgIG1vZGVsOiBkYXRhLm1vZGVsIHx8ICcnLFxuICAgICAgICBrZXk6ICfigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKLigKInLCAvLyBMYSBjbMOpIEFQSSBlc3QgbWFzcXXDqWUgcG91ciBkZXMgcmFpc29ucyBkZSBzw6ljdXJpdMOpXG4gICAgICAgIGlzVmFsaWRhdGVkOiBkYXRhLmlzX3ZhbGlkLFxuICAgICAgICBzdGF0dXM6IChkYXRhLnN0YXR1cyBhcyAndmFsaWQnIHwgJ2ludmFsaWQnIHwgJ3Vua25vd24nKSB8fCAoZGF0YS5pc192YWxpZCA/ICd2YWxpZCcgOiAnaW52YWxpZCcpLFxuICAgICAgICBsYXN0X3ZhbGlkYXRlZF9hdDogZGF0YS5sYXN0X3ZhbGlkYXRlZF9hdCxcbiAgICAgICAgY3JlYXRlZF9hdDogZGF0YS5jcmVhdGVkX2F0XG4gICAgICB9O1xuXG4gICAgICAvLyBNZXR0cmUgw6Agam91ciBsJ8OpdGF0IGxvY2FsXG4gICAgICBjb25zdCB1cGRhdGVkQ29uZmlncyA9IGNvbmZpZ3MubWFwKGMgPT4gYy5pZCA9PT0gaWQgPyB1cGRhdGVkQ29uZmlnIDogYyk7XG4gICAgICBzZXRDb25maWdzKHVwZGF0ZWRDb25maWdzKTtcblxuICAgICAgLy8gU2F1dmVnYXJkZXIgZGFucyBsZSBjYWNoZSBsb2NhbCBhdmVjIGxhIG5vdXZlbGxlIHZlcnNpb25cbiAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSBjb25maWdWZXJzaW9uICsgMTtcbiAgICAgIHNldENvbmZpZ1ZlcnNpb24obmV3VmVyc2lvbik7XG4gICAgICBzYXZlQ29uZmlnc1RvTG9jYWxTdG9yYWdlKHVzZXIuaWQsIHVwZGF0ZWRDb25maWdzKTtcblxuICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgc2V0U3luY1N0YXR1cygnaWRsZScpO1xuICAgICAgc2V0TGFzdFN5bmNUaW1lKERhdGUubm93KCkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBjb25maWcua2V5ICYmICF1cGRhdGVEYXRhLmlzX3ZhbGlkXG4gICAgICAgICAgPyAnQ29uZmlndXJhdGlvbiBtaXNlIMOgIGpvdXIgbWFpcyBsYSBjbMOpIEFQSSBzZW1ibGUgaW52YWxpZGUnXG4gICAgICAgICAgOiAnQ29uZmlndXJhdGlvbiBtaXNlIMOgIGpvdXIgYXZlYyBzdWNjw6hzJ1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEV4Y2VwdGlvbiBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkZSBsYSBjb25maWd1cmF0aW9uOlwiLCBlcnJvcik7XG4gICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFeGNlcHRpb246ICR7ZXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcblxuICAgICAgLy8gUmV0cnkgc2kgcG9zc2libGVcbiAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1NZTkNfUkVUUklFUykge1xuICAgICAgICBjb25zb2xlLmxvZyhgQXBpQ29uZmlnQ29udGV4dCAtIE5vdXZlbGxlIHRlbnRhdGl2ZSAoJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfU1lOQ19SRVRSSUVTfSkgZGFucyAke1NZTkNfUkVUUllfSU5URVJWQUwvMTAwMH1zLi4uYCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBTWU5DX1JFVFJZX0lOVEVSVkFMKSk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDb25maWcoaWQsIGNvbmZpZywgcmV0cnlDb3VudCArIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkZSBsYSBjb25maWd1cmF0aW9uJ1xuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU3VwcHJpbWVyIHVuZSBjb25maWd1cmF0aW9uIGF2ZWMgZ2VzdGlvbiByb2J1c3RlIGRlcyBlcnJldXJzIGV0IHBlcnNpc3RhbmNlIGxvY2FsZVxuICBjb25zdCBkZWxldGVDb25maWcgPSBhc3luYyAoaWQ6IHN0cmluZywgcmV0cnlDb3VudCA9IDApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBzdGF0dXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgc2V0U3luY1N0YXR1cygnc3luY2luZycpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEltcG9zc2libGUgZGUgc3VwcHJpbWVyIGxhIGNvbmZpZ3VyYXRpb246IHV0aWxpc2F0ZXVyIG5vbiBjb25uZWN0w6lcIik7XG4gICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBcIlRlbnRhdGl2ZSBkZSBzdXBwcmVzc2lvbiBzYW5zIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqVwiXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIFN1cHByZXNzaW9uIGRlIGxhIGNvbmZpZ3VyYXRpb246XCIsIGlkLCBcInRlbnRhdGl2ZTpcIiwgcmV0cnlDb3VudCArIDEpO1xuXG4gICAgICAvLyBWw6lyaWZpZXIgZCdhYm9yZCBsYSBzZXNzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIFNlc3Npb24gU3VwYWJhc2UgZXhwaXLDqWUgb3UgaW52YWxpZGVcIik7XG5cbiAgICAgICAgLy8gVGVudGVyIGRlIHJhZnJhw65jaGlyIGxhIHNlc3Npb25cbiAgICAgICAgY29uc3QgeyBkYXRhOiByZWZyZXNoRGF0YSwgZXJyb3I6IHJlZnJlc2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZWZyZXNoU2Vzc2lvbigpO1xuICAgICAgICBpZiAocmVmcmVzaEVycm9yIHx8ICFyZWZyZXNoRGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBJbXBvc3NpYmxlIGRlIHJhZnJhw65jaGlyIGxhIHNlc3Npb246XCIsIHJlZnJlc2hFcnJvcik7XG4gICAgICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBTZXNzaW9uIGV4cGlyw6llOiAke3JlZnJlc2hFcnJvcj8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gU2Vzc2lvbiByYWZyYcOuY2hpZSBhdmVjIHN1Y2PDqHNcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFbDqXJpZmllciBxdWUgbGEgY29uZmlndXJhdGlvbiBleGlzdGUgZXQgYXBwYXJ0aWVudCDDoCBsJ3V0aWxpc2F0ZXVyXG4gICAgICBjb25zdCB7IGRhdGE6IGNvbmZpZ0RhdGEsIGVycm9yOiBjb25maWdFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FwaV9jb25maWd1cmF0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChjb25maWdFcnJvciAmJiBjb25maWdFcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB7IC8vIFBHUlNUMTE2ID0gbm90IGZvdW5kLCB3aGljaCBpcyBmaW5lIGZvciBkZWxldGlvblxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHbDqXJpZmljYXRpb24gZGUgbGEgY29uZmlndXJhdGlvbjpcIiwgY29uZmlnRXJyb3IpO1xuICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgdsOpcmlmaWNhdGlvbjogJHtjb25maWdFcnJvci5tZXNzYWdlfWBdKTtcblxuICAgICAgICAvLyBSZXRyeSBzaSBwb3NzaWJsZVxuICAgICAgICBpZiAocmV0cnlDb3VudCA8IE1BWF9TWU5DX1JFVFJJRVMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQXBpQ29uZmlnQ29udGV4dCAtIE5vdXZlbGxlIHRlbnRhdGl2ZSAoJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfU1lOQ19SRVRSSUVTfSkgZGFucyAke1NZTkNfUkVUUllfSU5URVJWQUwvMTAwMH1zLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgICByZXR1cm4gZGVsZXRlQ29uZmlnKGlkLCByZXRyeUNvdW50ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNpIGxhIGNvbmZpZ3VyYXRpb24gbidleGlzdGUgcGFzIGRhbnMgU3VwYWJhc2UsIGxhIHN1cHByaW1lciBkZSBsJ8OpdGF0IGxvY2FsIGV0IGR1IGNhY2hlXG4gICAgICBpZiAoIWNvbmZpZ0RhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbiBub24gdHJvdXbDqWUgZGFucyBTdXBhYmFzZSwgc3VwcHJlc3Npb24gbG9jYWxlIHVuaXF1ZW1lbnQ6XCIsIGlkKTtcblxuICAgICAgICAvLyBTdXBwcmltZXIgbGEgY29uZmlndXJhdGlvbiBkZSBsJ8OpdGF0IGxvY2FsXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDb25maWdzID0gY29uZmlncy5maWx0ZXIoY29uZmlnID0+IGNvbmZpZy5pZCAhPT0gaWQpO1xuICAgICAgICBzZXRDb25maWdzKHVwZGF0ZWRDb25maWdzKTtcblxuICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBjYWNoZSBsb2NhbFxuICAgICAgICBjb25zdCBuZXdWZXJzaW9uID0gY29uZmlnVmVyc2lvbiArIDE7XG4gICAgICAgIHNldENvbmZpZ1ZlcnNpb24obmV3VmVyc2lvbik7XG4gICAgICAgIHNhdmVDb25maWdzVG9Mb2NhbFN0b3JhZ2UodXNlci5pZCwgdXBkYXRlZENvbmZpZ3MpO1xuXG4gICAgICAgIC8vIFbDqXJpZmllciBzJ2lsIGV4aXN0ZSBkJ2F1dHJlcyBjb25maWd1cmF0aW9ucyBhdmVjIGxlIG3Dqm1lIElEIGRhbnMgZCdhdXRyZXMgdGFibGVzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVsOpcmlmaWVyIGRhbnMgbGEgdGFibGUgYXBpX2tleXMgKGFuY2llbm5lIHRhYmxlKVxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogb2xkS2V5RGF0YSwgZXJyb3I6IG9sZEtleUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2FwaV9rZXlzJylcbiAgICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgICAgLmVxKCdpZCcsIGlkKTtcblxuICAgICAgICAgIGlmIChvbGRLZXlFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHN1cHByZXNzaW9uIGRhbnMgbGEgdGFibGUgYXBpX2tleXM6XCIsIG9sZEtleUVycm9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9sZEtleURhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBpQ29uZmlnQ29udGV4dCAtIENvbmZpZ3VyYXRpb24gc3VwcHJpbcOpZSBkZSBsYSB0YWJsZSBhcGlfa2V5c1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGNsZWFudXBFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBuZXR0b3lhZ2UgZGVzIGFuY2llbm5lcyB0YWJsZXM6XCIsIGNsZWFudXBFcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTeW5jU3RhdHVzKCdpZGxlJyk7XG4gICAgICAgIHNldExhc3RTeW5jVGltZShEYXRlLm5vdygpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXF1w6p0ZSBhdmVjIHRpbWVvdXQgcG91ciDDqXZpdGVyIGxlcyBibG9jYWdlc1xuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTx7IGVycm9yOiBFcnJvciB9PigocmVzb2x2ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoXCJUaW1lb3V0IGxvcnMgZGUgbGEgc3VwcHJlc3Npb24gZGUgbGEgY29uZmlndXJhdGlvblwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDAwMCk7IC8vIDEwIHNlY29uZGVzIGRlIHRpbWVvdXRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXF1w6p0ZSBTdXBhYmFzZVxuICAgICAgY29uc3QgZGVsZXRlUHJvbWlzZSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhcGlfY29uZmlndXJhdGlvbnMnKVxuICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcblxuICAgICAgLy8gVXRpbGlzZXIgUHJvbWlzZS5yYWNlIHBvdXIgaW1wbMOpbWVudGVyIHVuIHRpbWVvdXRcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbZGVsZXRlUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IHJlc3VsdCBhcyBhbnk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEVycmV1ciBsb3JzIGRlIGxhIHN1cHByZXNzaW9uIGRlIGxhIGNvbmZpZ3VyYXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHN1cHByZXNzaW9uOiAke2Vycm9yLm1lc3NhZ2V9YF0pO1xuXG4gICAgICAgIC8vIFJldHJ5IHNpIHBvc3NpYmxlXG4gICAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1NZTkNfUkVUUklFUykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBBcGlDb25maWdDb250ZXh0IC0gTm91dmVsbGUgdGVudGF0aXZlICgke3JldHJ5Q291bnQgKyAxfS8ke01BWF9TWU5DX1JFVFJJRVN9KSBkYW5zICR7U1lOQ19SRVRSWV9JTlRFUlZBTC8xMDAwfXMuLi5gKTtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgU1lOQ19SRVRSWV9JTlRFUlZBTCkpO1xuICAgICAgICAgIHJldHVybiBkZWxldGVDb25maWcoaWQsIHJldHJ5Q291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbiBzdXBwcmltw6llIGF2ZWMgc3VjY8Ooc1wiKTtcblxuICAgICAgLy8gU3VwcHJpbWVyIGxhIGNvbmZpZ3VyYXRpb24gZGUgbCfDqXRhdCBsb2NhbFxuICAgICAgY29uc3QgdXBkYXRlZENvbmZpZ3MgPSBjb25maWdzLmZpbHRlcihjb25maWcgPT4gY29uZmlnLmlkICE9PSBpZCk7XG4gICAgICBzZXRDb25maWdzKHVwZGF0ZWRDb25maWdzKTtcblxuICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgY2FjaGUgbG9jYWwgYXZlYyBsYSBub3V2ZWxsZSB2ZXJzaW9uXG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gY29uZmlnVmVyc2lvbiArIDE7XG4gICAgICBzZXRDb25maWdWZXJzaW9uKG5ld1ZlcnNpb24pO1xuICAgICAgc2F2ZUNvbmZpZ3NUb0xvY2FsU3RvcmFnZSh1c2VyLmlkLCB1cGRhdGVkQ29uZmlncyk7XG5cbiAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxlIHN0YXR1dCBkZSBzeW5jaHJvbmlzYXRpb25cbiAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgIHNldExhc3RTeW5jVGltZShEYXRlLm5vdygpKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIEV4Y2VwdGlvbiBsb3JzIGRlIGxhIHN1cHByZXNzaW9uIGRlIGxhIGNvbmZpZ3VyYXRpb246XCIsIGVycm9yKTtcbiAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEV4Y2VwdGlvbjogJHtlcnJvcj8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuXG4gICAgICAvLyBSZXRyeSBzaSBwb3NzaWJsZVxuICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfU1lOQ19SRVRSSUVTKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBcGlDb25maWdDb250ZXh0IC0gTm91dmVsbGUgdGVudGF0aXZlICgke3JldHJ5Q291bnQgKyAxfS8ke01BWF9TWU5DX1JFVFJJRVN9KSBkYW5zICR7U1lOQ19SRVRSWV9JTlRFUlZBTC8xMDAwfXMuLi5gKTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIFNZTkNfUkVUUllfSU5URVJWQUwpKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNvbmZpZyhpZCwgcmV0cnlDb3VudCArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBPYnRlbmlyIHVuZSBjb25maWd1cmF0aW9uIHBhciBzb24gSURcbiAgY29uc3QgZ2V0Q29uZmlnQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGNvbmZpZ3MuZmluZChjb25maWcgPT4gY29uZmlnLmlkID09PSBpZCk7XG4gIH07XG5cbiAgLy8gT2J0ZW5pciB0b3V0ZXMgbGVzIGNvbmZpZ3VyYXRpb25zXG4gIGNvbnN0IGdldEFsbENvbmZpZ3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNvbmZpZ3M7XG4gIH07XG5cbiAgLy8gRm9uY3Rpb24gcG91ciBzeW5jaHJvbmlzZXIgbGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGVcbiAgY29uc3Qgc3luY1BlbmRpbmdDb25maWdzID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICghdXNlciB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgc3RhdHV0IGRlIHN5bmNocm9uaXNhdGlvblxuICAgIHNldFN5bmNTdGF0dXMoJ3N5bmNpbmcnKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBSw6ljdXDDqXJlciBsZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZVxuICAgICAgY29uc3Qgc3RvcmVkUGVuZGluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFBFTkRJTkdfQ09ORklHU19LRVkpO1xuICAgICAgaWYgKCFzdG9yZWRQZW5kaW5nKSB7XG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGVuZGluZ0RhdGE6IFJlY29yZDxzdHJpbmcsIE9taXQ8QXBpQ29uZmlnLCBcImlkXCI+W10+ID0ge307XG4gICAgICB0cnkge1xuICAgICAgICBwZW5kaW5nRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkUGVuZGluZyk7XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkdSBwYXJzaW5nIGRlcyBjb25maWd1cmF0aW9ucyBlbiBhdHRlbnRlOlwiLCBlKTtcbiAgICAgICAgc2V0U3luY0Vycm9ycyhwcmV2ID0+IFsuLi5wcmV2LCBgRXJyZXVyIGRlIHBhcnNpbmcgZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGU6ICR7ZT8ubWVzc2FnZSB8fCAnRXJyZXVyIGluY29ubnVlJ31gXSk7XG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVsOpcmlmaWVyIHMnaWwgeSBhIGRlcyBjb25maWd1cmF0aW9ucyBlbiBhdHRlbnRlIHBvdXIgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcbiAgICAgIGlmICghcGVuZGluZ0RhdGFbdXNlci5pZF0gfHwgcGVuZGluZ0RhdGFbdXNlci5pZF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNldFN5bmNTdGF0dXMoJ2lkbGUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIkFwaUNvbmZpZ0NvbnRleHQgLSBTeW5jaHJvbmlzYXRpb24gZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGU6XCIsIHBlbmRpbmdEYXRhW3VzZXIuaWRdLmxlbmd0aCk7XG5cbiAgICAgIC8vIFN5bmNocm9uaXNlciBjaGFxdWUgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlXG4gICAgICBjb25zdCByZXN1bHRzOiBBcnJheTx7IGlkOiBzdHJpbmc7IGlzVmFsaWQ6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwZW5kaW5nQ29uZmlnIG9mIHBlbmRpbmdEYXRhW3VzZXIuaWRdKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gVGVudGF0aXZlIGRlIHN5bmNocm9uaXNhdGlvbiBkZSBsYSBjb25maWd1cmF0aW9uIGVuIGF0dGVudGU6XCIsIHBlbmRpbmdDb25maWcubmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRkQ29uZmlnKHBlbmRpbmdDb25maWcpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuXG4gICAgICAgICAgaWYgKHJlc3VsdC5pZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbiBlbiBhdHRlbnRlIHN5bmNocm9uaXPDqWUgYXZlYyBzdWNjw6hzOlwiLCBwZW5kaW5nQ29uZmlnLm5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXBpQ29uZmlnQ29udGV4dCAtIMOJY2hlYyBkZSBsYSBzeW5jaHJvbmlzYXRpb24gZGUgbGEgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlOlwiLCBwZW5kaW5nQ29uZmlnLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSBzeW5jaHJvbmlzYXRpb24gZGUgbGEgY29uZmlndXJhdGlvbiBlbiBhdHRlbnRlOlwiLCBlKTtcbiAgICAgICAgICBzZXRTeW5jRXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGBFcnJldXIgZGUgc3luY2hyb25pc2F0aW9uOiAke2U/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFN1cHByaW1lciBsZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZSBxdWkgb250IMOpdMOpIHN5bmNocm9uaXPDqWVzIGF2ZWMgc3VjY8Ooc1xuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bElkcyA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5pZCkubWFwKHIgPT4gci5pZCk7XG4gICAgICBpZiAoc3VjY2Vzc2Z1bElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxlcyBjb25maWd1cmF0aW9ucyBlbiBhdHRlbnRlXG4gICAgICAgIHBlbmRpbmdEYXRhW3VzZXIuaWRdID0gcGVuZGluZ0RhdGFbdXNlci5pZF0uZmlsdGVyKHBjID0+IHtcbiAgICAgICAgICAvLyBHYXJkZXIgdW5pcXVlbWVudCBsZXMgY29uZmlndXJhdGlvbnMgcXVpIG4nb250IHBhcyDDqXTDqSBzeW5jaHJvbmlzw6llcyBhdmVjIHN1Y2PDqHNcbiAgICAgICAgICAvLyBPbiBjb21wYXJlIHBhciBub20gY2FyIGxlcyBjb25maWd1cmF0aW9ucyBlbiBhdHRlbnRlIG4nb250IHBhcyBkJ0lEXG4gICAgICAgICAgcmV0dXJuICFyZXN1bHRzLnNvbWUociA9PiByLmlkICYmIHIubWVzc2FnZS5pbmNsdWRlcygnc3VjY8OocycpICYmIHBjLm5hbWUgPT09IHBjLm5hbWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTYXV2ZWdhcmRlciBsZXMgY29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZSBtaXNlcyDDoCBqb3VyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFBFTkRJTkdfQ09ORklHU19LRVksIEpTT04uc3RyaW5naWZ5KHBlbmRpbmdEYXRhKSk7XG5cbiAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCfDqXRhdCBsb2NhbFxuICAgICAgICBzZXRQZW5kaW5nQ29uZmlncyhwZW5kaW5nRGF0YVt1c2VyLmlkXSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJBcGlDb25maWdDb250ZXh0IC0gQ29uZmlndXJhdGlvbnMgZW4gYXR0ZW50ZSBtaXNlcyDDoCBqb3VyOlwiLCBwZW5kaW5nRGF0YVt1c2VyLmlkXS5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBzdGF0dXQgZGUgc3luY2hyb25pc2F0aW9uXG4gICAgICBzZXRTeW5jU3RhdHVzKCdpZGxlJyk7XG4gICAgICBzZXRMYXN0U3luY1RpbWUoRGF0ZS5ub3coKSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFwaUNvbmZpZ0NvbnRleHQgLSBFcnJldXIgbG9ycyBkZSBsYSBzeW5jaHJvbmlzYXRpb24gZGVzIGNvbmZpZ3VyYXRpb25zIGVuIGF0dGVudGU6XCIsIGVycm9yKTtcbiAgICAgIHNldFN5bmNFcnJvcnMocHJldiA9PiBbLi4ucHJldiwgYEVycmV1ciBkZSBzeW5jaHJvbmlzYXRpb246ICR7ZXJyb3I/Lm1lc3NhZ2UgfHwgJ0VycmV1ciBpbmNvbm51ZSd9YF0pO1xuICAgICAgc2V0U3luY1N0YXR1cygnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QXBpQ29uZmlnQ29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgY29uZmlncyxcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBzeW5jU3RhdHVzLFxuICAgICAgICBsYXN0U3luY1RpbWUsXG4gICAgICAgIHN5bmNFcnJvcnMsXG4gICAgICAgIHBlbmRpbmdDb25maWdzLFxuICAgICAgICBhZGRDb25maWcsXG4gICAgICAgIHVwZGF0ZUNvbmZpZyxcbiAgICAgICAgZGVsZXRlQ29uZmlnLFxuICAgICAgICBnZXRDb25maWdCeUlkLFxuICAgICAgICBnZXRBbGxDb25maWdzLFxuICAgICAgICB2YWxpZGF0ZUFwaUtleSxcbiAgICAgICAgc3luY1BlbmRpbmdDb25maWdzLFxuICAgICAgICBjbGVhckxvY2FsU3RvcmFnZUZvclVzZXJcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvQXBpQ29uZmlnQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gSG9vayBwZXJzb25uYWxpc8OpIHBvdXIgdXRpbGlzZXIgbGUgY29udGV4dGVcbmV4cG9ydCBmdW5jdGlvbiB1c2VBcGlDb25maWcoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFwaUNvbmZpZ0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXBpQ29uZmlnIGRvaXQgw6p0cmUgdXRpbGlzw6kgw6AgbCdpbnTDqXJpZXVyIGQndW4gQXBpQ29uZmlnUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiY3JlYXRlQ2xpZW50IiwiQXBpQ29uZmlnQ29udGV4dCIsInVuZGVmaW5lZCIsIkxPQ0FMX1NUT1JBR0VfS0VZIiwiVVNFUl9DT05GSUdTX0tFWSIsIlBFTkRJTkdfQ09ORklHU19LRVkiLCJTWU5DX1NUQVRVU19LRVkiLCJDT05GSUdfVkVSU0lPTl9LRVkiLCJDQUNIRV9WQUxJRElUWV9EVVJBVElPTiIsIk1BWF9TWU5DX1JFVFJJRVMiLCJTWU5DX1JFVFJZX0lOVEVSVkFMIiwiQXBpQ29uZmlnUHJvdmlkZXIiLCJjaGlsZHJlbiIsInN1cGFiYXNlIiwidXNlciIsInNldFVzZXIiLCJjb25maWdzIiwic2V0Q29uZmlncyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInN5bmNTdGF0dXMiLCJzZXRTeW5jU3RhdHVzIiwibGFzdFN5bmNUaW1lIiwic2V0TGFzdFN5bmNUaW1lIiwic3luY0Vycm9ycyIsInNldFN5bmNFcnJvcnMiLCJjb25maWdWZXJzaW9uIiwic2V0Q29uZmlnVmVyc2lvbiIsInBlbmRpbmdDb25maWdzIiwic2V0UGVuZGluZ0NvbmZpZ3MiLCJjbGVhckxvY2FsU3RvcmFnZUZvclVzZXIiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiX2NsZWFyQWxsTG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiZXhpc3RpbmdEYXRhIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFsbFVzZXJDb25maWdzIiwiSlNPTiIsInBhcnNlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImUiLCJlcnJvciIsInBlbmRpbmdEYXRhIiwiYWxsUGVuZGluZ0NvbmZpZ3MiLCJzYXZlQ29uZmlnc1RvTG9jYWxTdG9yYWdlIiwiY29uZmlnc1RvU2F2ZSIsIm5ld1ZlcnNpb24iLCJwcmV2IiwibWVzc2FnZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ2ZXJzaW9uIiwibGFzdFN5bmMiLCJzdGF0dXMiLCJsZW5ndGgiLCJsb2FkQ29uZmlnc0Zyb21Mb2NhbFN0b3JhZ2UiLCJzdG9yZWREYXRhIiwicGFyc2VkRGF0YSIsIndhcm4iLCJwYXJzZWRBbGxDb25maWdzIiwidXNlckNvbmZpZ3MiLCJjYWNoZUFnZSIsInBhcnNlZFBlbmRpbmdEYXRhIiwiTWF0aCIsImZsb29yIiwiZmV0Y2hVc2VyQW5kQ29uZmlncyIsImRhdGEiLCJjdXJyZW50VXNlciIsInVzZXJFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwic2Vzc2lvbkRhdGEiLCJjYWNoZWRDb25maWdzIiwiaWQiLCJmZXRjaENvbmZpZ3MiLCJ0aGVuIiwiZmV0Y2hlZENvbmZpZ3MiLCJjYXRjaCIsInN1YnNjcmlwdGlvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJzZXNzaW9uIiwidW5zdWJzY3JpYmUiLCJ2YWxpZGF0ZVhBSUtleURpcmVjdGx5IiwiYXBpS2V5IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImpzb24iLCJtb2RlbHMiLCJtYXAiLCJtb2RlbCIsImhhc0ltYWdlTW9kZWwiLCJpbmNsdWRlcyIsImlzVmFsaWQiLCJwcm92aWRlciIsIm5hbWUiLCJzbHVnIiwiZXJyb3JEYXRhIiwiZXJyIiwidmFsaWRhdGVBcGlLZXkiLCJkaXJlY3RSZXN1bHQiLCJkaXJlY3RFcnJvciIsImJvZHkiLCJyZXN1bHQiLCJyZXRyeUNvdW50IiwiZ2V0U2Vzc2lvbiIsInJlZnJlc2hEYXRhIiwicmVmcmVzaEVycm9yIiwicmVmcmVzaFNlc3Npb24iLCJ0aW1lb3V0UHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIkVycm9yIiwidGVzdCIsImZldGNoUHJvbWlzZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInJhY2UiLCJjb2RlIiwiY3VycmVudFNlc3Npb24iLCJzZXNzaW9uVXNlcklkIiwicmVxdWVzdFVzZXJJZCIsIkFycmF5IiwiaXNBcnJheSIsInRyYW5zZm9ybWVkQ29uZmlncyIsIml0ZW0iLCJjb25maWdTdGF0dXMiLCJoYXNPd25Qcm9wZXJ0eSIsImlzX3ZhbGlkIiwicHJvdmlkZXJTbHVnIiwiYXBpX3Byb3ZpZGVycyIsInByb3ZpZGVyX2lkIiwia2V5IiwiaXNWYWxpZGF0ZWQiLCJsYXN0X3ZhbGlkYXRlZF9hdCIsImNyZWF0ZWRfYXQiLCJjb25maWdFcnJvciIsInNhdmVQZW5kaW5nQ29uZmlnIiwiY29uZmlnIiwic3RvcmVkUGVuZGluZyIsInB1c2giLCJ0b0lTT1N0cmluZyIsImFkZENvbmZpZyIsInByb3ZpZGVySWQiLCJwcm92aWRlckRhdGEiLCJwcm92aWRlckVycm9yIiwic2luZ2xlIiwidmFsaWRhdGlvblJlc3VsdCIsInZhbGlkYXRpb25Qcm9taXNlIiwiZW5jcnlwdGVkQXBpS2V5IiwiaW5zZXJ0RGF0YSIsInVzZXJfaWQiLCJhcGlfa2V5IiwiaW5zZXJ0UHJvbWlzZSIsImluc2VydCIsIm5ld0NvbmZpZyIsInByZXZDb25maWdzIiwidXBkYXRlQ29uZmlnIiwiZXhpc3RpbmdDb25maWciLCJnZXRDb25maWdCeUlkIiwiY29uZmlnRGF0YSIsImZpbHRlciIsImMiLCJ1cGRhdGVkQ29uZmlncyIsInVwZGF0ZURhdGEiLCJPYmplY3QiLCJrZXlzIiwidXBkYXRlUHJvbWlzZSIsInVwZGF0ZSIsInVwZGF0ZWRDb25maWciLCJkZWxldGVDb25maWciLCJvbGRLZXlEYXRhIiwib2xkS2V5RXJyb3IiLCJkZWxldGUiLCJjbGVhbnVwRXJyb3IiLCJkZWxldGVQcm9taXNlIiwiZmluZCIsImdldEFsbENvbmZpZ3MiLCJzeW5jUGVuZGluZ0NvbmZpZ3MiLCJyZXN1bHRzIiwicGVuZGluZ0NvbmZpZyIsInN1Y2Nlc3NmdWxJZHMiLCJyIiwicGMiLCJzb21lIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImRpdiIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsInVzZUFwaUNvbmZpZyIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./contexts/ApiConfigContext.tsx\n");

/***/ }),

/***/ "(ssr)/./contexts/AuthContext.tsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_supabase_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/supabase/client */ \"(ssr)/./utils/supabase/client.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_debug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utils/debug */ \"(ssr)/./utils/debug.ts\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \n\n\n\n\n// Création du contexte\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Provider du contexte\nfunction AuthProvider({ children }) {\n    const supabase = (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fonction pour récupérer les données utilisateur\n    const fetchUserData = async (userId)=>{\n        console.log(\"AuthContext - Fetching user data for user:\", userId);\n        (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Fetching user data\", {\n            userId\n        });\n        // Valeurs par défaut pour les données utilisateur\n        let userData = {\n            messagesCount: 0,\n            messagesLimit: 50,\n            isPremium: false,\n            createdImages: 0,\n            hasApiKey: false\n        };\n        try {\n            // Créer une promesse qui se résout avec les données utilisateur\n            const fetchDataPromise = async ()=>{\n                try {\n                    // Utiliser Promise.allSettled pour exécuter toutes les requêtes en parallèle\n                    // et continuer même si certaines échouent\n                    const [quotaResult, subscriptionResult, imagesResult, apiKeyResult] = await Promise.allSettled([\n                        // Récupérer les quotas\n                        supabase.from(\"user_quotas\").select(\"monthly_generations_used, monthly_generations_limit\").eq(\"user_id\", userId).single(),\n                        // Récupérer l'abonnement\n                        supabase.from(\"user_subscriptions\").select(\"status\").eq(\"user_id\", userId).eq(\"status\", \"active\").single(),\n                        // Compter les images\n                        supabase.from(\"generated_images\").select(\"id\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"user_id\", userId),\n                        // Vérifier les clés API\n                        supabase.from(\"api_configurations\").select(\"id\", {\n                            count: \"exact\",\n                            head: true\n                        }).eq(\"user_id\", userId)\n                    ]);\n                    // Traiter les résultats des quotas\n                    if (quotaResult.status === \"fulfilled\") {\n                        const { data: quotaData, error: quotaError } = quotaResult.value;\n                        if (quotaData) {\n                            userData.messagesCount = quotaData.monthly_generations_used || 0;\n                            userData.messagesLimit = quotaData.monthly_generations_limit || 50;\n                            console.log(\"AuthContext - User quota data:\", quotaData);\n                        } else if (quotaError && quotaError.code !== \"PGRST116\") {\n                            console.error(\"Erreur lors de la r\\xe9cup\\xe9ration des quotas:\", quotaError);\n                        }\n                    } else {\n                        console.error(\"\\xc9chec de la r\\xe9cup\\xe9ration des quotas:\", quotaResult.reason);\n                    }\n                    // Traiter les résultats de l'abonnement\n                    if (subscriptionResult.status === \"fulfilled\") {\n                        const { data: subscriptionData } = subscriptionResult.value;\n                        if (subscriptionData) {\n                            userData.isPremium = true;\n                            console.log(\"AuthContext - User has active subscription\");\n                        }\n                    } else {\n                        console.error(\"\\xc9chec de la r\\xe9cup\\xe9ration de l'abonnement:\", subscriptionResult.reason);\n                    }\n                    // Traiter les résultats du comptage des images\n                    if (imagesResult.status === \"fulfilled\") {\n                        const { count: imagesCount } = imagesResult.value;\n                        if (imagesCount !== null) {\n                            userData.createdImages = imagesCount;\n                            console.log(\"AuthContext - User has\", imagesCount, \"created images\");\n                        }\n                    } else {\n                        console.error(\"\\xc9chec du comptage des images:\", imagesResult.reason);\n                    }\n                    // Traiter les résultats de la vérification des clés API\n                    if (apiKeyResult.status === \"fulfilled\") {\n                        const { count: apiKeyCount } = apiKeyResult.value;\n                        if (apiKeyCount !== null) {\n                            userData.hasApiKey = apiKeyCount > 0;\n                            console.log(\"AuthContext - User has\", apiKeyCount, \"API keys\");\n                        }\n                    } else {\n                        console.error(\"\\xc9chec de la v\\xe9rification des cl\\xe9s API:\", apiKeyResult.reason);\n                    }\n                    return userData;\n                } catch (error) {\n                    console.error(\"Erreur lors de la r\\xe9cup\\xe9ration des donn\\xe9es:\", error);\n                    return userData; // Retourner les données par défaut en cas d'erreur\n                }\n            };\n            // Créer une promesse de timeout\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    console.warn(\"AuthContext - Timeout lors de la r\\xe9cup\\xe9ration des donn\\xe9es utilisateur\");\n                    (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Timeout lors de la r\\xe9cup\\xe9ration des donn\\xe9es utilisateur\");\n                    resolve(userData); // Résoudre avec les données par défaut\n                }, 15000); // Timeout de 15 secondes (augmenté de 8 à 15 secondes)\n            });\n            // Utiliser Promise.race pour prendre le résultat le plus rapide\n            const result = await Promise.race([\n                fetchDataPromise(),\n                timeoutPromise\n            ]);\n            console.log(\"AuthContext - Final user data:\", result);\n            setUserData(result);\n        } catch (err) {\n            console.error(\"Erreur globale lors de la r\\xe9cup\\xe9ration des donn\\xe9es utilisateur:\", err);\n            // En cas d'erreur, définir des valeurs par défaut\n            setUserData(userData);\n        }\n    };\n    // Fonction pour rafraîchir les données utilisateur\n    const refreshUserData = async ()=>{\n        if (user) {\n            await fetchUserData(user.id);\n        }\n    };\n    // Fonction de connexion\n    const signIn = async (email, password)=>{\n        try {\n            setIsLoading(true);\n            const { data, error } = await supabase.auth.signInWithPassword({\n                email,\n                password\n            });\n            if (error) throw error;\n            setUser(data.user);\n            setSession(data.session);\n            if (data.user) {\n                await fetchUserData(data.user.id);\n            }\n            router.push(\"/generate\");\n            router.refresh();\n        } catch (err) {\n            setError(err instanceof Error ? err : new Error(\"Erreur de connexion\"));\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Fonction d'inscription\n    const signUp = async (email, password)=>{\n        try {\n            setIsLoading(true);\n            const { data, error } = await supabase.auth.signUp({\n                email,\n                password,\n                options: {\n                    emailRedirectTo: `${window.location.origin}/api/auth/callback`\n                }\n            });\n            if (error) throw error;\n            // Si l'email n'a pas besoin d'être confirmé\n            if (data.user && data.user.email_confirmed_at) {\n                setUser(data.user);\n                setSession(data.session);\n                if (data.user) {\n                    await fetchUserData(data.user.id);\n                }\n                router.push(\"/generate\");\n                router.refresh();\n            } else {\n                // Rediriger vers la page de confirmation d'email\n                router.push(`/email-confirmation?email=${encodeURIComponent(email)}`);\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err : new Error(\"Erreur d'inscription\"));\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Fonction de déconnexion\n    const signOut = async ()=>{\n        try {\n            console.log(\"AuthContext - Signing out...\");\n            setIsLoading(true);\n            // Effacer d'abord les états locaux pour éviter des problèmes de synchronisation\n            setUser(null);\n            setSession(null);\n            setUserData(null);\n            // Supprimer la clé hasBeenAuthenticated du localStorage\n            if (false) {}\n            // Puis déconnecter l'utilisateur de Supabase\n            const { error } = await supabase.auth.signOut();\n            if (error) throw error;\n            console.log(\"AuthContext - Sign out successful, redirecting to home page\");\n            // Rediriger vers la page d'accueil avec un délai pour éviter les problèmes de navigation\n            setTimeout(()=>{\n                router.push(\"/\");\n                router.refresh();\n            }, 100);\n        } catch (err) {\n            console.error(\"AuthContext - Error during sign out:\", err);\n            setError(err instanceof Error ? err : new Error(\"Erreur de d\\xe9connexion\"));\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Vérifier la session au chargement\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let sessionTimeoutId;\n        const checkSession = async ()=>{\n            (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Checking session\");\n            setIsLoading(true);\n            // Surveiller les changements d'état\n            (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.monitorStateChanges)(\"AuthContext\", {\n                isLoading: true\n            });\n            // Créer une promesse qui se résout avec la session\n            const sessionPromise = async ()=>{\n                try {\n                    const { data, error } = await supabase.auth.getSession();\n                    if (error) {\n                        console.error(\"Erreur lors de la v\\xe9rification de la session:\", error);\n                        return {\n                            session: null,\n                            error\n                        };\n                    }\n                    return {\n                        session: data.session,\n                        error: null\n                    };\n                } catch (err) {\n                    console.error(\"Exception lors de la v\\xe9rification de la session:\", err);\n                    return {\n                        session: null,\n                        error: err\n                    };\n                }\n            };\n            // Créer une promesse de timeout\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Timeout lors de la v\\xe9rification de la session\");\n                    resolve({\n                        session: null,\n                        error: new Error(\"Timeout lors de la v\\xe9rification de la session\")\n                    });\n                }, 20000); // Timeout de 20 secondes (augmenté de 10 à 20 secondes)\n            });\n            try {\n                // Utiliser Promise.race pour prendre le résultat le plus rapide\n                const result = await Promise.race([\n                    sessionPromise(),\n                    timeoutPromise\n                ]);\n                const { session, error } = result;\n                if (error) {\n                    console.warn(\"AuthContext - Erreur ou timeout lors de la v\\xe9rification de la session:\", error);\n                    setError(error instanceof Error ? error : new Error(\"Erreur de session\"));\n                    setUser(null);\n                    setSession(null);\n                    setUserData(null);\n                } else {\n                    console.log(\"AuthContext - Session check result:\", {\n                        hasSession: !!session\n                    });\n                    setSession(session);\n                    if (session?.user) {\n                        setUser(session.user);\n                        // Utiliser fetchUserData qui a déjà sa propre gestion de timeout\n                        await fetchUserData(session.user.id);\n                    } else {\n                        console.log(\"AuthContext - No user in session\");\n                        setUser(null);\n                        setUserData(null);\n                    }\n                }\n            } catch (err) {\n                console.error(\"Erreur globale lors de la v\\xe9rification de la session:\", err);\n                setError(err instanceof Error ? err : new Error(\"Erreur de session\"));\n                // En cas d'erreur, définir l'utilisateur comme non authentifié\n                setUser(null);\n                setSession(null);\n                setUserData(null);\n            } finally{\n                console.log(\"AuthContext - Session check completed, setting isLoading to false\");\n                setIsLoading(false);\n                // Surveiller les changements d'état après la fin\n                (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.monitorStateChanges)(\"AuthContext\", {\n                    isLoading: false\n                });\n            }\n        };\n        checkSession();\n        // Écouter les changements d'authentification\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session)=>{\n            (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Auth state changed\", {\n                event,\n                hasSession: !!session\n            });\n            // Éviter de mettre isLoading à true pour certains événements qui ne nécessitent pas de chargement\n            const minorEvents = [\n                \"PASSWORD_RECOVERY\",\n                \"TOKEN_REFRESHED\",\n                \"USER_UPDATED\"\n            ];\n            if (!minorEvents.includes(event)) {\n                setIsLoading(true);\n                // Surveiller les changements d'état\n                (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.monitorStateChanges)(\"AuthContext\", {\n                    isLoading: true,\n                    event\n                });\n            }\n            // Créer une promesse qui traite le changement d'état\n            const processPromise = async ()=>{\n                try {\n                    // Mettre à jour l'état de session immédiatement\n                    setSession(session);\n                    setUser(session?.user || null);\n                    if (session?.user) {\n                        // Utiliser fetchUserData qui a déjà sa propre gestion de timeout\n                        await fetchUserData(session.user.id);\n                    } else {\n                        console.log(\"AuthContext - User signed out or no user in session\");\n                        setUserData(null);\n                    }\n                    return {\n                        success: true\n                    };\n                } catch (error) {\n                    console.error(\"Erreur lors du traitement du changement d'\\xe9tat:\", error);\n                    // En cas d'erreur, définir l'utilisateur selon l'état de la session\n                    setUser(session?.user || null);\n                    setSession(session);\n                    if (!session?.user) {\n                        setUserData(null);\n                    }\n                    return {\n                        success: false,\n                        error\n                    };\n                }\n            };\n            // Créer une promesse de timeout\n            const timeoutPromise = new Promise((resolve)=>{\n                setTimeout(()=>{\n                    (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.logLoadingEvent)(\"AuthContext\", \"Timeout lors du traitement du changement d'\\xe9tat\");\n                    resolve({\n                        success: false,\n                        error: new Error(\"Timeout lors du traitement du changement d'\\xe9tat\")\n                    });\n                }, 20000); // Timeout de 20 secondes (augmenté de 10 à 20 secondes)\n            });\n            try {\n                // Utiliser Promise.race pour prendre le résultat le plus rapide\n                await Promise.race([\n                    processPromise(),\n                    timeoutPromise\n                ]);\n            } catch (err) {\n                console.error(\"Erreur globale lors du changement d'\\xe9tat d'authentification:\", err);\n                setError(err instanceof Error ? err : new Error(\"Erreur de session\"));\n            } finally{\n                // Ne pas mettre isLoading à false pour les événements mineurs\n                if (!minorEvents.includes(event)) {\n                    console.log(\"AuthContext - Auth state change handled, setting isLoading to false\");\n                    setIsLoading(false);\n                    // Surveiller les changements d'état après la fin\n                    (0,_utils_debug__WEBPACK_IMPORTED_MODULE_4__.monitorStateChanges)(\"AuthContext\", {\n                        isLoading: false,\n                        event\n                    });\n                }\n            }\n        });\n        return ()=>{\n            subscription.unsubscribe();\n            if (sessionTimeoutId) clearTimeout(sessionTimeoutId);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            session,\n            userData,\n            isLoading,\n            error,\n            signIn,\n            signUp,\n            signOut,\n            refreshUserData\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            suppressHydrationWarning: true,\n            children: children\n        }, void 0, false, {\n            fileName: \"/workspace/hiiiiiiiii/contexts/AuthContext.tsx\",\n            lineNumber: 446,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/contexts/AuthContext.tsx\",\n        lineNumber: 433,\n        columnNumber: 5\n    }, this);\n}\n// Hook personnalisé pour utiliser le contexte\nfunction useAuth() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth doit \\xeatre utilis\\xe9 \\xe0 l'int\\xe9rieur d'un AuthProvider\");\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFeUY7QUFDbEM7QUFFWDtBQUN5QjtBQXdCckUsdUJBQXVCO0FBQ3ZCLE1BQU1TLDRCQUFjUixvREFBYUEsQ0FBOEJTO0FBRS9ELHVCQUF1QjtBQUNoQixTQUFTQyxhQUFhLEVBQUVDLFFBQVEsRUFBMkI7SUFDaEUsTUFBTUMsV0FBV1Isb0VBQVlBO0lBQzdCLE1BQU1TLFNBQVNSLDBEQUFTQTtJQUN4QixNQUFNLENBQUNTLE1BQU1DLFFBQVEsR0FBR2IsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDYyxTQUFTQyxXQUFXLEdBQUdmLCtDQUFRQSxDQUFpQjtJQUN2RCxNQUFNLENBQUNnQixVQUFVQyxZQUFZLEdBQUdqQiwrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDa0IsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDb0IsT0FBT0MsU0FBUyxHQUFHckIsK0NBQVFBLENBQWU7SUFFakQsa0RBQWtEO0lBQ2xELE1BQU1zQixnQkFBZ0IsT0FBT0M7UUFDM0JDLFFBQVFDLEdBQUcsQ0FBQyw4Q0FBOENGO1FBQzFEbkIsNkRBQWVBLENBQUMsZUFBZSxzQkFBc0I7WUFBRW1CO1FBQU87UUFFOUQsa0RBQWtEO1FBQ2xELElBQUlQLFdBQVc7WUFDYlUsZUFBZTtZQUNmQyxlQUFlO1lBQ2ZDLFdBQVc7WUFDWEMsZUFBZTtZQUNmQyxXQUFXO1FBQ2I7UUFFQSxJQUFJO1lBQ0YsZ0VBQWdFO1lBQ2hFLE1BQU1DLG1CQUFtQjtnQkFDdkIsSUFBSTtvQkFDRiw2RUFBNkU7b0JBQzdFLDBDQUEwQztvQkFDMUMsTUFBTSxDQUFDQyxhQUFhQyxvQkFBb0JDLGNBQWNDLGFBQWEsR0FBRyxNQUFNQyxRQUFRQyxVQUFVLENBQUM7d0JBQzdGLHVCQUF1Qjt3QkFDdkIzQixTQUNHNEIsSUFBSSxDQUFDLGVBQ0xDLE1BQU0sQ0FBQyx1REFDUEMsRUFBRSxDQUFDLFdBQVdqQixRQUNka0IsTUFBTTt3QkFFVCx5QkFBeUI7d0JBQ3pCL0IsU0FDRzRCLElBQUksQ0FBQyxzQkFDTEMsTUFBTSxDQUFDLFVBQ1BDLEVBQUUsQ0FBQyxXQUFXakIsUUFDZGlCLEVBQUUsQ0FBQyxVQUFVLFVBQ2JDLE1BQU07d0JBRVQscUJBQXFCO3dCQUNyQi9CLFNBQ0c0QixJQUFJLENBQUMsb0JBQ0xDLE1BQU0sQ0FBQyxNQUFNOzRCQUFFRyxPQUFPOzRCQUFTQyxNQUFNO3dCQUFLLEdBQzFDSCxFQUFFLENBQUMsV0FBV2pCO3dCQUVqQix3QkFBd0I7d0JBQ3hCYixTQUNHNEIsSUFBSSxDQUFDLHNCQUNMQyxNQUFNLENBQUMsTUFBTTs0QkFBRUcsT0FBTzs0QkFBU0MsTUFBTTt3QkFBSyxHQUMxQ0gsRUFBRSxDQUFDLFdBQVdqQjtxQkFDbEI7b0JBRUQsbUNBQW1DO29CQUNuQyxJQUFJUyxZQUFZWSxNQUFNLEtBQUssYUFBYTt3QkFDdEMsTUFBTSxFQUFFQyxNQUFNQyxTQUFTLEVBQUUxQixPQUFPMkIsVUFBVSxFQUFFLEdBQUdmLFlBQVlnQixLQUFLO3dCQUNoRSxJQUFJRixXQUFXOzRCQUNiOUIsU0FBU1UsYUFBYSxHQUFHb0IsVUFBVUcsd0JBQXdCLElBQUk7NEJBQy9EakMsU0FBU1csYUFBYSxHQUFHbUIsVUFBVUkseUJBQXlCLElBQUk7NEJBQ2hFMUIsUUFBUUMsR0FBRyxDQUFDLGtDQUFrQ3FCO3dCQUNoRCxPQUFPLElBQUlDLGNBQWNBLFdBQVdJLElBQUksS0FBSyxZQUFZOzRCQUN2RDNCLFFBQVFKLEtBQUssQ0FBQyxvREFBOEMyQjt3QkFDOUQ7b0JBQ0YsT0FBTzt3QkFDTHZCLFFBQVFKLEtBQUssQ0FBQyxpREFBd0NZLFlBQVlvQixNQUFNO29CQUMxRTtvQkFFQSx3Q0FBd0M7b0JBQ3hDLElBQUluQixtQkFBbUJXLE1BQU0sS0FBSyxhQUFhO3dCQUM3QyxNQUFNLEVBQUVDLE1BQU1RLGdCQUFnQixFQUFFLEdBQUdwQixtQkFBbUJlLEtBQUs7d0JBQzNELElBQUlLLGtCQUFrQjs0QkFDcEJyQyxTQUFTWSxTQUFTLEdBQUc7NEJBQ3JCSixRQUFRQyxHQUFHLENBQUM7d0JBQ2Q7b0JBQ0YsT0FBTzt3QkFDTEQsUUFBUUosS0FBSyxDQUFDLHNEQUE4Q2EsbUJBQW1CbUIsTUFBTTtvQkFDdkY7b0JBRUEsK0NBQStDO29CQUMvQyxJQUFJbEIsYUFBYVUsTUFBTSxLQUFLLGFBQWE7d0JBQ3ZDLE1BQU0sRUFBRUYsT0FBT1ksV0FBVyxFQUFFLEdBQUdwQixhQUFhYyxLQUFLO3dCQUNqRCxJQUFJTSxnQkFBZ0IsTUFBTTs0QkFDeEJ0QyxTQUFTYSxhQUFhLEdBQUd5Qjs0QkFDekI5QixRQUFRQyxHQUFHLENBQUMsMEJBQTBCNkIsYUFBYTt3QkFDckQ7b0JBQ0YsT0FBTzt3QkFDTDlCLFFBQVFKLEtBQUssQ0FBQyxvQ0FBaUNjLGFBQWFrQixNQUFNO29CQUNwRTtvQkFFQSx3REFBd0Q7b0JBQ3hELElBQUlqQixhQUFhUyxNQUFNLEtBQUssYUFBYTt3QkFDdkMsTUFBTSxFQUFFRixPQUFPYSxXQUFXLEVBQUUsR0FBR3BCLGFBQWFhLEtBQUs7d0JBQ2pELElBQUlPLGdCQUFnQixNQUFNOzRCQUN4QnZDLFNBQVNjLFNBQVMsR0FBR3lCLGNBQWM7NEJBQ25DL0IsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQjhCLGFBQWE7d0JBQ3JEO29CQUNGLE9BQU87d0JBQ0wvQixRQUFRSixLQUFLLENBQUMsbURBQTBDZSxhQUFhaUIsTUFBTTtvQkFDN0U7b0JBRUEsT0FBT3BDO2dCQUNULEVBQUUsT0FBT0ksT0FBTztvQkFDZEksUUFBUUosS0FBSyxDQUFDLHdEQUErQ0E7b0JBQzdELE9BQU9KLFVBQVUsbURBQW1EO2dCQUN0RTtZQUNGO1lBRUEsZ0NBQWdDO1lBQ2hDLE1BQU13QyxpQkFBaUIsSUFBSXBCLFFBQXlCcUIsQ0FBQUE7Z0JBQ2xEQyxXQUFXO29CQUNUbEMsUUFBUW1DLElBQUksQ0FBQztvQkFDYnZELDZEQUFlQSxDQUFDLGVBQWU7b0JBQy9CcUQsUUFBUXpDLFdBQVcsdUNBQXVDO2dCQUM1RCxHQUFHLFFBQVEsdURBQXVEO1lBQ3BFO1lBRUEsZ0VBQWdFO1lBQ2hFLE1BQU00QyxTQUFTLE1BQU14QixRQUFReUIsSUFBSSxDQUFDO2dCQUFDOUI7Z0JBQW9CeUI7YUFBZTtZQUV0RWhDLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBa0NtQztZQUM5QzNDLFlBQVkyQztRQUNkLEVBQUUsT0FBT0UsS0FBSztZQUNadEMsUUFBUUosS0FBSyxDQUFDLDRFQUFtRTBDO1lBQ2pGLGtEQUFrRDtZQUNsRDdDLFlBQVlEO1FBQ2Q7SUFDRjtJQUVBLG1EQUFtRDtJQUNuRCxNQUFNK0Msa0JBQWtCO1FBQ3RCLElBQUluRCxNQUFNO1lBQ1IsTUFBTVUsY0FBY1YsS0FBS29ELEVBQUU7UUFDN0I7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixNQUFNQyxTQUFTLE9BQU9DLE9BQWVDO1FBQ25DLElBQUk7WUFDRmhELGFBQWE7WUFDYixNQUFNLEVBQUUwQixJQUFJLEVBQUV6QixLQUFLLEVBQUUsR0FBRyxNQUFNVixTQUFTMEQsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQztnQkFDN0RIO2dCQUNBQztZQUNGO1lBRUEsSUFBSS9DLE9BQU8sTUFBTUE7WUFFakJQLFFBQVFnQyxLQUFLakMsSUFBSTtZQUNqQkcsV0FBVzhCLEtBQUsvQixPQUFPO1lBRXZCLElBQUkrQixLQUFLakMsSUFBSSxFQUFFO2dCQUNiLE1BQU1VLGNBQWN1QixLQUFLakMsSUFBSSxDQUFDb0QsRUFBRTtZQUNsQztZQUVBckQsT0FBTzJELElBQUksQ0FBQztZQUNaM0QsT0FBTzRELE9BQU87UUFDaEIsRUFBRSxPQUFPVCxLQUFLO1lBQ1p6QyxTQUFTeUMsZUFBZVUsUUFBUVYsTUFBTSxJQUFJVSxNQUFNO1lBQ2hELE1BQU1WO1FBQ1IsU0FBVTtZQUNSM0MsYUFBYTtRQUNmO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekIsTUFBTXNELFNBQVMsT0FBT1AsT0FBZUM7UUFDbkMsSUFBSTtZQUNGaEQsYUFBYTtZQUNiLE1BQU0sRUFBRTBCLElBQUksRUFBRXpCLEtBQUssRUFBRSxHQUFHLE1BQU1WLFNBQVMwRCxJQUFJLENBQUNLLE1BQU0sQ0FBQztnQkFDakRQO2dCQUNBQztnQkFDQU8sU0FBUztvQkFDUEMsaUJBQWlCLENBQUMsRUFBRUMsT0FBT0MsUUFBUSxDQUFDQyxNQUFNLENBQUMsa0JBQWtCLENBQUM7Z0JBQ2hFO1lBQ0Y7WUFFQSxJQUFJMUQsT0FBTyxNQUFNQTtZQUVqQiw0Q0FBNEM7WUFDNUMsSUFBSXlCLEtBQUtqQyxJQUFJLElBQUlpQyxLQUFLakMsSUFBSSxDQUFDbUUsa0JBQWtCLEVBQUU7Z0JBQzdDbEUsUUFBUWdDLEtBQUtqQyxJQUFJO2dCQUNqQkcsV0FBVzhCLEtBQUsvQixPQUFPO2dCQUV2QixJQUFJK0IsS0FBS2pDLElBQUksRUFBRTtvQkFDYixNQUFNVSxjQUFjdUIsS0FBS2pDLElBQUksQ0FBQ29ELEVBQUU7Z0JBQ2xDO2dCQUVBckQsT0FBTzJELElBQUksQ0FBQztnQkFDWjNELE9BQU80RCxPQUFPO1lBQ2hCLE9BQU87Z0JBQ0wsaURBQWlEO2dCQUNqRDVELE9BQU8yRCxJQUFJLENBQUMsQ0FBQywwQkFBMEIsRUFBRVUsbUJBQW1CZCxPQUFPLENBQUM7WUFDdEU7UUFDRixFQUFFLE9BQU9KLEtBQUs7WUFDWnpDLFNBQVN5QyxlQUFlVSxRQUFRVixNQUFNLElBQUlVLE1BQU07WUFDaEQsTUFBTVY7UUFDUixTQUFVO1lBQ1IzQyxhQUFhO1FBQ2Y7SUFDRjtJQUVBLDBCQUEwQjtJQUMxQixNQUFNOEQsVUFBVTtRQUNkLElBQUk7WUFDRnpELFFBQVFDLEdBQUcsQ0FBQztZQUNaTixhQUFhO1lBRWIsZ0ZBQWdGO1lBQ2hGTixRQUFRO1lBQ1JFLFdBQVc7WUFDWEUsWUFBWTtZQUVaLHdEQUF3RDtZQUN4RCxJQUFJLEtBQWtCLEVBQWEsRUFFbEM7WUFFRCw2Q0FBNkM7WUFDN0MsTUFBTSxFQUFFRyxLQUFLLEVBQUUsR0FBRyxNQUFNVixTQUFTMEQsSUFBSSxDQUFDYSxPQUFPO1lBRTdDLElBQUk3RCxPQUFPLE1BQU1BO1lBRWpCSSxRQUFRQyxHQUFHLENBQUM7WUFFWix5RkFBeUY7WUFDekZpQyxXQUFXO2dCQUNUL0MsT0FBTzJELElBQUksQ0FBQztnQkFDWjNELE9BQU80RCxPQUFPO1lBQ2hCLEdBQUc7UUFDTCxFQUFFLE9BQU9ULEtBQUs7WUFDWnRDLFFBQVFKLEtBQUssQ0FBQyx3Q0FBd0MwQztZQUN0RHpDLFNBQVN5QyxlQUFlVSxRQUFRVixNQUFNLElBQUlVLE1BQU07WUFDaEQsTUFBTVY7UUFDUixTQUFVO1lBQ1IzQyxhQUFhO1FBQ2Y7SUFDRjtJQUVBLG9DQUFvQztJQUNwQ2xCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSW1GO1FBRUosTUFBTUMsZUFBZTtZQUNuQmpGLDZEQUFlQSxDQUFDLGVBQWU7WUFDL0JlLGFBQWE7WUFFYixvQ0FBb0M7WUFDcENkLGlFQUFtQkEsQ0FBQyxlQUFlO2dCQUFFYSxXQUFXO1lBQUs7WUFFckQsbURBQW1EO1lBQ25ELE1BQU1vRSxpQkFBaUI7Z0JBQ3JCLElBQUk7b0JBQ0YsTUFBTSxFQUFFekMsSUFBSSxFQUFFekIsS0FBSyxFQUFFLEdBQUcsTUFBTVYsU0FBUzBELElBQUksQ0FBQ21CLFVBQVU7b0JBRXRELElBQUluRSxPQUFPO3dCQUNUSSxRQUFRSixLQUFLLENBQUMsb0RBQWlEQTt3QkFDL0QsT0FBTzs0QkFBRU4sU0FBUzs0QkFBTU07d0JBQU07b0JBQ2hDO29CQUVBLE9BQU87d0JBQUVOLFNBQVMrQixLQUFLL0IsT0FBTzt3QkFBRU0sT0FBTztvQkFBSztnQkFDOUMsRUFBRSxPQUFPMEMsS0FBSztvQkFDWnRDLFFBQVFKLEtBQUssQ0FBQyx1REFBb0QwQztvQkFDbEUsT0FBTzt3QkFBRWhELFNBQVM7d0JBQU1NLE9BQU8wQztvQkFBSTtnQkFDckM7WUFDRjtZQUVBLGdDQUFnQztZQUNoQyxNQUFNTixpQkFBaUIsSUFBSXBCLFFBQVFxQixDQUFBQTtnQkFDakNDLFdBQVc7b0JBQ1R0RCw2REFBZUEsQ0FBQyxlQUFlO29CQUMvQnFELFFBQVE7d0JBQUUzQyxTQUFTO3dCQUFNTSxPQUFPLElBQUlvRCxNQUFNO29CQUFpRDtnQkFDN0YsR0FBRyxRQUFRLHdEQUF3RDtZQUNyRTtZQUVBLElBQUk7Z0JBQ0YsZ0VBQWdFO2dCQUNoRSxNQUFNWixTQUFTLE1BQU14QixRQUFReUIsSUFBSSxDQUFDO29CQUFDeUI7b0JBQWtCOUI7aUJBQWU7Z0JBQ3BFLE1BQU0sRUFBRTFDLE9BQU8sRUFBRU0sS0FBSyxFQUFFLEdBQUd3QztnQkFFM0IsSUFBSXhDLE9BQU87b0JBQ1RJLFFBQVFtQyxJQUFJLENBQUMsNkVBQTBFdkM7b0JBQ3ZGQyxTQUFTRCxpQkFBaUJvRCxRQUFRcEQsUUFBUSxJQUFJb0QsTUFBTTtvQkFDcEQzRCxRQUFRO29CQUNSRSxXQUFXO29CQUNYRSxZQUFZO2dCQUNkLE9BQU87b0JBQ0xPLFFBQVFDLEdBQUcsQ0FBQyx1Q0FBdUM7d0JBQUUrRCxZQUFZLENBQUMsQ0FBQzFFO29CQUFRO29CQUMzRUMsV0FBV0Q7b0JBRVgsSUFBSUEsU0FBU0YsTUFBTTt3QkFDakJDLFFBQVFDLFFBQVFGLElBQUk7d0JBQ3BCLGlFQUFpRTt3QkFDakUsTUFBTVUsY0FBY1IsUUFBUUYsSUFBSSxDQUFDb0QsRUFBRTtvQkFDckMsT0FBTzt3QkFDTHhDLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWlosUUFBUTt3QkFDUkksWUFBWTtvQkFDZDtnQkFDRjtZQUNGLEVBQUUsT0FBTzZDLEtBQUs7Z0JBQ1p0QyxRQUFRSixLQUFLLENBQUMsNERBQXlEMEM7Z0JBQ3ZFekMsU0FBU3lDLGVBQWVVLFFBQVFWLE1BQU0sSUFBSVUsTUFBTTtnQkFFaEQsK0RBQStEO2dCQUMvRDNELFFBQVE7Z0JBQ1JFLFdBQVc7Z0JBQ1hFLFlBQVk7WUFDZCxTQUFVO2dCQUNSTyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pOLGFBQWE7Z0JBRWIsaURBQWlEO2dCQUNqRGQsaUVBQW1CQSxDQUFDLGVBQWU7b0JBQUVhLFdBQVc7Z0JBQU07WUFDeEQ7UUFDRjtRQUVBbUU7UUFFQSw2Q0FBNkM7UUFDN0MsTUFBTSxFQUFFeEMsTUFBTSxFQUFFNEMsWUFBWSxFQUFFLEVBQUUsR0FBRy9FLFNBQVMwRCxJQUFJLENBQUNzQixpQkFBaUIsQ0FDaEUsT0FBT0MsT0FBTzdFO1lBQ1pWLDZEQUFlQSxDQUFDLGVBQWUsc0JBQXNCO2dCQUFFdUY7Z0JBQU9ILFlBQVksQ0FBQyxDQUFDMUU7WUFBUTtZQUVwRixrR0FBa0c7WUFDbEcsTUFBTThFLGNBQWM7Z0JBQUM7Z0JBQXFCO2dCQUFtQjthQUFlO1lBQzVFLElBQUksQ0FBQ0EsWUFBWUMsUUFBUSxDQUFDRixRQUFRO2dCQUNoQ3hFLGFBQWE7Z0JBQ2Isb0NBQW9DO2dCQUNwQ2QsaUVBQW1CQSxDQUFDLGVBQWU7b0JBQUVhLFdBQVc7b0JBQU15RTtnQkFBTTtZQUM5RDtZQUVBLHFEQUFxRDtZQUNyRCxNQUFNRyxpQkFBaUI7Z0JBQ3JCLElBQUk7b0JBQ0YsZ0RBQWdEO29CQUNoRC9FLFdBQVdEO29CQUNYRCxRQUFRQyxTQUFTRixRQUFRO29CQUV6QixJQUFJRSxTQUFTRixNQUFNO3dCQUNqQixpRUFBaUU7d0JBQ2pFLE1BQU1VLGNBQWNSLFFBQVFGLElBQUksQ0FBQ29ELEVBQUU7b0JBQ3JDLE9BQU87d0JBQ0x4QyxRQUFRQyxHQUFHLENBQUM7d0JBQ1pSLFlBQVk7b0JBQ2Q7b0JBRUEsT0FBTzt3QkFBRThFLFNBQVM7b0JBQUs7Z0JBQ3pCLEVBQUUsT0FBTzNFLE9BQU87b0JBQ2RJLFFBQVFKLEtBQUssQ0FBQyxzREFBb0RBO29CQUVsRSxvRUFBb0U7b0JBQ3BFUCxRQUFRQyxTQUFTRixRQUFRO29CQUN6QkcsV0FBV0Q7b0JBQ1gsSUFBSSxDQUFDQSxTQUFTRixNQUFNO3dCQUNsQkssWUFBWTtvQkFDZDtvQkFFQSxPQUFPO3dCQUFFOEUsU0FBUzt3QkFBTzNFO29CQUFNO2dCQUNqQztZQUNGO1lBRUEsZ0NBQWdDO1lBQ2hDLE1BQU1vQyxpQkFBaUIsSUFBSXBCLFFBQVFxQixDQUFBQTtnQkFDakNDLFdBQVc7b0JBQ1R0RCw2REFBZUEsQ0FBQyxlQUFlO29CQUMvQnFELFFBQVE7d0JBQUVzQyxTQUFTO3dCQUFPM0UsT0FBTyxJQUFJb0QsTUFBTTtvQkFBb0Q7Z0JBQ2pHLEdBQUcsUUFBUSx3REFBd0Q7WUFDckU7WUFFQSxJQUFJO2dCQUNGLGdFQUFnRTtnQkFDaEUsTUFBTXBDLFFBQVF5QixJQUFJLENBQUM7b0JBQUNpQztvQkFBa0J0QztpQkFBZTtZQUN2RCxFQUFFLE9BQU9NLEtBQUs7Z0JBQ1p0QyxRQUFRSixLQUFLLENBQUMsbUVBQWtFMEM7Z0JBQ2hGekMsU0FBU3lDLGVBQWVVLFFBQVFWLE1BQU0sSUFBSVUsTUFBTTtZQUNsRCxTQUFVO2dCQUNSLDhEQUE4RDtnQkFDOUQsSUFBSSxDQUFDb0IsWUFBWUMsUUFBUSxDQUFDRixRQUFRO29CQUNoQ25FLFFBQVFDLEdBQUcsQ0FBQztvQkFDWk4sYUFBYTtvQkFDYixpREFBaUQ7b0JBQ2pEZCxpRUFBbUJBLENBQUMsZUFBZTt3QkFBRWEsV0FBVzt3QkFBT3lFO29CQUFNO2dCQUMvRDtZQUNGO1FBQ0Y7UUFHRixPQUFPO1lBQ0xGLGFBQWFPLFdBQVc7WUFDeEIsSUFBSVosa0JBQWtCYSxhQUFhYjtRQUNyQztJQUNGLEdBQUcsRUFBRTtJQUVMLHFCQUNFLDhEQUFDOUUsWUFBWTRGLFFBQVE7UUFDbkJsRCxPQUFPO1lBQ0xwQztZQUNBRTtZQUNBRTtZQUNBRTtZQUNBRTtZQUNBNkM7WUFDQVE7WUFDQVE7WUFDQWxCO1FBQ0Y7a0JBRUEsNEVBQUNvQztZQUFJQyx3QkFBd0I7c0JBQzFCM0Y7Ozs7Ozs7Ozs7O0FBSVQ7QUFFQSw4Q0FBOEM7QUFDdkMsU0FBUzRGO0lBQ2QsTUFBTUMsVUFBVXZHLGlEQUFVQSxDQUFDTztJQUMzQixJQUFJZ0csWUFBWS9GLFdBQVc7UUFDekIsTUFBTSxJQUFJaUUsTUFBTTtJQUNsQjtJQUNBLE9BQU84QjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/NmQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCc7XG5pbXBvcnQgeyBVc2VyLCBTZXNzaW9uIH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBsb2dMb2FkaW5nRXZlbnQsIG1vbml0b3JTdGF0ZUNoYW5nZXMgfSBmcm9tICdAL3V0aWxzL2RlYnVnJztcblxuLy8gVHlwZSBwb3VyIGxlcyBkb25uw6llcyB1dGlsaXNhdGV1clxuZXhwb3J0IHR5cGUgVXNlckRhdGEgPSB7XG4gIG1lc3NhZ2VzQ291bnQ6IG51bWJlcjtcbiAgbWVzc2FnZXNMaW1pdDogbnVtYmVyO1xuICBpc1ByZW1pdW06IGJvb2xlYW47XG4gIGNyZWF0ZWRJbWFnZXM6IG51bWJlcjtcbiAgaGFzQXBpS2V5OiBib29sZWFuO1xufTtcblxuLy8gSW50ZXJmYWNlIHBvdXIgbGUgY29udGV4dGVcbmludGVyZmFjZSBBdXRoQ29udGV4dFR5cGUge1xuICB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgc2Vzc2lvbjogU2Vzc2lvbiB8IG51bGw7XG4gIHVzZXJEYXRhOiBVc2VyRGF0YSB8IG51bGw7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IEVycm9yIHwgbnVsbDtcbiAgc2lnbkluOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2lnblVwOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2lnbk91dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVmcmVzaFVzZXJEYXRhOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG4vLyBDcsOpYXRpb24gZHUgY29udGV4dGVcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIFByb3ZpZGVyIGR1IGNvbnRleHRlXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nlc3Npb24sIHNldFNlc3Npb25dID0gdXNlU3RhdGU8U2Vzc2lvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXNlckRhdGEsIHNldFVzZXJEYXRhXSA9IHVzZVN0YXRlPFVzZXJEYXRhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxFcnJvciB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEZvbmN0aW9uIHBvdXIgcsOpY3Vww6lyZXIgbGVzIGRvbm7DqWVzIHV0aWxpc2F0ZXVyXG4gIGNvbnN0IGZldGNoVXNlckRhdGEgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBGZXRjaGluZyB1c2VyIGRhdGEgZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICBsb2dMb2FkaW5nRXZlbnQoJ0F1dGhDb250ZXh0JywgJ0ZldGNoaW5nIHVzZXIgZGF0YScsIHsgdXNlcklkIH0pO1xuXG4gICAgLy8gVmFsZXVycyBwYXIgZMOpZmF1dCBwb3VyIGxlcyBkb25uw6llcyB1dGlsaXNhdGV1clxuICAgIGxldCB1c2VyRGF0YSA9IHtcbiAgICAgIG1lc3NhZ2VzQ291bnQ6IDAsXG4gICAgICBtZXNzYWdlc0xpbWl0OiA1MCxcbiAgICAgIGlzUHJlbWl1bTogZmFsc2UsXG4gICAgICBjcmVhdGVkSW1hZ2VzOiAwLFxuICAgICAgaGFzQXBpS2V5OiBmYWxzZVxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ3LDqWVyIHVuZSBwcm9tZXNzZSBxdWkgc2UgcsOpc291dCBhdmVjIGxlcyBkb25uw6llcyB1dGlsaXNhdGV1clxuICAgICAgY29uc3QgZmV0Y2hEYXRhUHJvbWlzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBVdGlsaXNlciBQcm9taXNlLmFsbFNldHRsZWQgcG91ciBleMOpY3V0ZXIgdG91dGVzIGxlcyByZXF1w6p0ZXMgZW4gcGFyYWxsw6hsZVxuICAgICAgICAgIC8vIGV0IGNvbnRpbnVlciBtw6ptZSBzaSBjZXJ0YWluZXMgw6ljaG91ZW50XG4gICAgICAgICAgY29uc3QgW3F1b3RhUmVzdWx0LCBzdWJzY3JpcHRpb25SZXN1bHQsIGltYWdlc1Jlc3VsdCwgYXBpS2V5UmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICAgICAgICAvLyBSw6ljdXDDqXJlciBsZXMgcXVvdGFzXG4gICAgICAgICAgICBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgndXNlcl9xdW90YXMnKVxuICAgICAgICAgICAgICAuc2VsZWN0KCdtb250aGx5X2dlbmVyYXRpb25zX3VzZWQsIG1vbnRobHlfZ2VuZXJhdGlvbnNfbGltaXQnKVxuICAgICAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgICAgICAgIC5zaW5nbGUoKSxcblxuICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCdhYm9ubmVtZW50XG4gICAgICAgICAgICBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgndXNlcl9zdWJzY3JpcHRpb25zJylcbiAgICAgICAgICAgICAgLnNlbGVjdCgnc3RhdHVzJylcbiAgICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAgICAgICAuZXEoJ3N0YXR1cycsICdhY3RpdmUnKVxuICAgICAgICAgICAgICAuc2luZ2xlKCksXG5cbiAgICAgICAgICAgIC8vIENvbXB0ZXIgbGVzIGltYWdlc1xuICAgICAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2dlbmVyYXRlZF9pbWFnZXMnKVxuICAgICAgICAgICAgICAuc2VsZWN0KCdpZCcsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKSxcblxuICAgICAgICAgICAgLy8gVsOpcmlmaWVyIGxlcyBjbMOpcyBBUElcbiAgICAgICAgICAgIHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdhcGlfY29uZmlndXJhdGlvbnMnKVxuICAgICAgICAgICAgICAuc2VsZWN0KCdpZCcsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgLy8gVHJhaXRlciBsZXMgcsOpc3VsdGF0cyBkZXMgcXVvdGFzXG4gICAgICAgICAgaWYgKHF1b3RhUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcXVvdGFEYXRhLCBlcnJvcjogcXVvdGFFcnJvciB9ID0gcXVvdGFSZXN1bHQudmFsdWU7XG4gICAgICAgICAgICBpZiAocXVvdGFEYXRhKSB7XG4gICAgICAgICAgICAgIHVzZXJEYXRhLm1lc3NhZ2VzQ291bnQgPSBxdW90YURhdGEubW9udGhseV9nZW5lcmF0aW9uc191c2VkIHx8IDA7XG4gICAgICAgICAgICAgIHVzZXJEYXRhLm1lc3NhZ2VzTGltaXQgPSBxdW90YURhdGEubW9udGhseV9nZW5lcmF0aW9uc19saW1pdCB8fCA1MDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0IC0gVXNlciBxdW90YSBkYXRhOicsIHF1b3RhRGF0YSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHF1b3RhRXJyb3IgJiYgcXVvdGFFcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyBxdW90YXM6JywgcXVvdGFFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ8OJY2hlYyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgcXVvdGFzOicsIHF1b3RhUmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVHJhaXRlciBsZXMgcsOpc3VsdGF0cyBkZSBsJ2Fib25uZW1lbnRcbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc3Vic2NyaXB0aW9uRGF0YSB9ID0gc3Vic2NyaXB0aW9uUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgdXNlckRhdGEuaXNQcmVtaXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0IC0gVXNlciBoYXMgYWN0aXZlIHN1YnNjcmlwdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfDiWNoZWMgZGUgbGEgcsOpY3Vww6lyYXRpb24gZGUgbFxcJ2Fib25uZW1lbnQ6Jywgc3Vic2NyaXB0aW9uUmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVHJhaXRlciBsZXMgcsOpc3VsdGF0cyBkdSBjb21wdGFnZSBkZXMgaW1hZ2VzXG4gICAgICAgICAgaWYgKGltYWdlc1Jlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvdW50OiBpbWFnZXNDb3VudCB9ID0gaW1hZ2VzUmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKGltYWdlc0NvdW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHVzZXJEYXRhLmNyZWF0ZWRJbWFnZXMgPSBpbWFnZXNDb3VudDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0IC0gVXNlciBoYXMnLCBpbWFnZXNDb3VudCwgJ2NyZWF0ZWQgaW1hZ2VzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ8OJY2hlYyBkdSBjb21wdGFnZSBkZXMgaW1hZ2VzOicsIGltYWdlc1Jlc3VsdC5yZWFzb24pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRyYWl0ZXIgbGVzIHLDqXN1bHRhdHMgZGUgbGEgdsOpcmlmaWNhdGlvbiBkZXMgY2zDqXMgQVBJXG4gICAgICAgICAgaWYgKGFwaUtleVJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvdW50OiBhcGlLZXlDb3VudCB9ID0gYXBpS2V5UmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKGFwaUtleUNvdW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHVzZXJEYXRhLmhhc0FwaUtleSA9IGFwaUtleUNvdW50ID4gMDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0IC0gVXNlciBoYXMnLCBhcGlLZXlDb3VudCwgJ0FQSSBrZXlzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ8OJY2hlYyBkZSBsYSB2w6lyaWZpY2F0aW9uIGRlcyBjbMOpcyBBUEk6JywgYXBpS2V5UmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llczonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHVzZXJEYXRhOyAvLyBSZXRvdXJuZXIgbGVzIGRvbm7DqWVzIHBhciBkw6lmYXV0IGVuIGNhcyBkJ2VycmV1clxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBDcsOpZXIgdW5lIHByb21lc3NlIGRlIHRpbWVvdXRcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8dHlwZW9mIHVzZXJEYXRhPihyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdBdXRoQ29udGV4dCAtIFRpbWVvdXQgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgZG9ubsOpZXMgdXRpbGlzYXRldXInKTtcbiAgICAgICAgICBsb2dMb2FkaW5nRXZlbnQoJ0F1dGhDb250ZXh0JywgJ1RpbWVvdXQgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgZG9ubsOpZXMgdXRpbGlzYXRldXInKTtcbiAgICAgICAgICByZXNvbHZlKHVzZXJEYXRhKTsgLy8gUsOpc291ZHJlIGF2ZWMgbGVzIGRvbm7DqWVzIHBhciBkw6lmYXV0XG4gICAgICAgIH0sIDE1MDAwKTsgLy8gVGltZW91dCBkZSAxNSBzZWNvbmRlcyAoYXVnbWVudMOpIGRlIDggw6AgMTUgc2Vjb25kZXMpXG4gICAgICB9KTtcblxuICAgICAgLy8gVXRpbGlzZXIgUHJvbWlzZS5yYWNlIHBvdXIgcHJlbmRyZSBsZSByw6lzdWx0YXQgbGUgcGx1cyByYXBpZGVcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbZmV0Y2hEYXRhUHJvbWlzZSgpLCB0aW1lb3V0UHJvbWlzZV0pO1xuXG4gICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBGaW5hbCB1c2VyIGRhdGE6JywgcmVzdWx0KTtcbiAgICAgIHNldFVzZXJEYXRhKHJlc3VsdCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgZ2xvYmFsZSBsb3JzIGRlIGxhIHLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llcyB1dGlsaXNhdGV1cjonLCBlcnIpO1xuICAgICAgLy8gRW4gY2FzIGQnZXJyZXVyLCBkw6lmaW5pciBkZXMgdmFsZXVycyBwYXIgZMOpZmF1dFxuICAgICAgc2V0VXNlckRhdGEodXNlckRhdGEpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGb25jdGlvbiBwb3VyIHJhZnJhw65jaGlyIGxlcyBkb25uw6llcyB1dGlsaXNhdGV1clxuICBjb25zdCByZWZyZXNoVXNlckRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGF3YWl0IGZldGNoVXNlckRhdGEodXNlci5pZCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIGRlIGNvbm5leGlvblxuICBjb25zdCBzaWduSW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICAgIHNldFVzZXIoZGF0YS51c2VyKTtcbiAgICAgIHNldFNlc3Npb24oZGF0YS5zZXNzaW9uKTtcblxuICAgICAgaWYgKGRhdGEudXNlcikge1xuICAgICAgICBhd2FpdCBmZXRjaFVzZXJEYXRhKGRhdGEudXNlci5pZCk7XG4gICAgICB9XG5cbiAgICAgIHJvdXRlci5wdXNoKCcvZ2VuZXJhdGUnKTtcbiAgICAgIHJvdXRlci5yZWZyZXNoKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcignRXJyZXVyIGRlIGNvbm5leGlvbicpKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRm9uY3Rpb24gZCdpbnNjcmlwdGlvblxuICBjb25zdCBzaWduVXAgPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGVtYWlsUmVkaXJlY3RUbzogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXBpL2F1dGgvY2FsbGJhY2tgXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBTaSBsJ2VtYWlsIG4nYSBwYXMgYmVzb2luIGQnw6p0cmUgY29uZmlybcOpXG4gICAgICBpZiAoZGF0YS51c2VyICYmIGRhdGEudXNlci5lbWFpbF9jb25maXJtZWRfYXQpIHtcbiAgICAgICAgc2V0VXNlcihkYXRhLnVzZXIpO1xuICAgICAgICBzZXRTZXNzaW9uKGRhdGEuc2Vzc2lvbik7XG5cbiAgICAgICAgaWYgKGRhdGEudXNlcikge1xuICAgICAgICAgIGF3YWl0IGZldGNoVXNlckRhdGEoZGF0YS51c2VyLmlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdXRlci5wdXNoKCcvZ2VuZXJhdGUnKTtcbiAgICAgICAgcm91dGVyLnJlZnJlc2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZGUgY29uZmlybWF0aW9uIGQnZW1haWxcbiAgICAgICAgcm91dGVyLnB1c2goYC9lbWFpbC1jb25maXJtYXRpb24/ZW1haWw9JHtlbmNvZGVVUklDb21wb25lbnQoZW1haWwpfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoJ0VycmV1ciBkXFwnaW5zY3JpcHRpb24nKSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZvbmN0aW9uIGRlIGTDqWNvbm5leGlvblxuICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBTaWduaW5nIG91dC4uLicpO1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgICAvLyBFZmZhY2VyIGQnYWJvcmQgbGVzIMOpdGF0cyBsb2NhdXggcG91ciDDqXZpdGVyIGRlcyBwcm9ibMOobWVzIGRlIHN5bmNocm9uaXNhdGlvblxuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldFNlc3Npb24obnVsbCk7XG4gICAgICBzZXRVc2VyRGF0YShudWxsKTtcblxuICAgICAgLy8gU3VwcHJpbWVyIGxhIGNsw6kgaGFzQmVlbkF1dGhlbnRpY2F0ZWQgZHUgbG9jYWxTdG9yYWdlXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2hhc0JlZW5BdXRoZW50aWNhdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFB1aXMgZMOpY29ubmVjdGVyIGwndXRpbGlzYXRldXIgZGUgU3VwYWJhc2VcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBTaWduIG91dCBzdWNjZXNzZnVsLCByZWRpcmVjdGluZyB0byBob21lIHBhZ2UnKTtcblxuICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWwgYXZlYyB1biBkw6lsYWkgcG91ciDDqXZpdGVyIGxlcyBwcm9ibMOobWVzIGRlIG5hdmlnYXRpb25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICByb3V0ZXIucmVmcmVzaCgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhDb250ZXh0IC0gRXJyb3IgZHVyaW5nIHNpZ24gb3V0OicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcignRXJyZXVyIGRlIGTDqWNvbm5leGlvbicpKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVsOpcmlmaWVyIGxhIHNlc3Npb24gYXUgY2hhcmdlbWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBzZXNzaW9uVGltZW91dElkOiBOb2RlSlMuVGltZW91dDtcblxuICAgIGNvbnN0IGNoZWNrU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxvZ0xvYWRpbmdFdmVudCgnQXV0aENvbnRleHQnLCAnQ2hlY2tpbmcgc2Vzc2lvbicpO1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuXG4gICAgICAvLyBTdXJ2ZWlsbGVyIGxlcyBjaGFuZ2VtZW50cyBkJ8OpdGF0XG4gICAgICBtb25pdG9yU3RhdGVDaGFuZ2VzKCdBdXRoQ29udGV4dCcsIHsgaXNMb2FkaW5nOiB0cnVlIH0pO1xuXG4gICAgICAvLyBDcsOpZXIgdW5lIHByb21lc3NlIHF1aSBzZSByw6lzb3V0IGF2ZWMgbGEgc2Vzc2lvblxuICAgICAgY29uc3Qgc2Vzc2lvblByb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG5cbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIHbDqXJpZmljYXRpb24gZGUgbGEgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7IHNlc3Npb246IGRhdGEuc2Vzc2lvbiwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIGxvcnMgZGUgbGEgdsOpcmlmaWNhdGlvbiBkZSBsYSBzZXNzaW9uOicsIGVycik7XG4gICAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbjogbnVsbCwgZXJyb3I6IGVyciB9O1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBDcsOpZXIgdW5lIHByb21lc3NlIGRlIHRpbWVvdXRcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGxvZ0xvYWRpbmdFdmVudCgnQXV0aENvbnRleHQnLCAnVGltZW91dCBsb3JzIGRlIGxhIHbDqXJpZmljYXRpb24gZGUgbGEgc2Vzc2lvbicpO1xuICAgICAgICAgIHJlc29sdmUoeyBzZXNzaW9uOiBudWxsLCBlcnJvcjogbmV3IEVycm9yKCdUaW1lb3V0IGxvcnMgZGUgbGEgdsOpcmlmaWNhdGlvbiBkZSBsYSBzZXNzaW9uJykgfSk7XG4gICAgICAgIH0sIDIwMDAwKTsgLy8gVGltZW91dCBkZSAyMCBzZWNvbmRlcyAoYXVnbWVudMOpIGRlIDEwIMOgIDIwIHNlY29uZGVzKVxuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFV0aWxpc2VyIFByb21pc2UucmFjZSBwb3VyIHByZW5kcmUgbGUgcsOpc3VsdGF0IGxlIHBsdXMgcmFwaWRlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbc2Vzc2lvblByb21pc2UoKSwgdGltZW91dFByb21pc2VdKSBhcyBhbnk7XG4gICAgICAgIGNvbnN0IHsgc2Vzc2lvbiwgZXJyb3IgfSA9IHJlc3VsdDtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0F1dGhDb250ZXh0IC0gRXJyZXVyIG91IHRpbWVvdXQgbG9ycyBkZSBsYSB2w6lyaWZpY2F0aW9uIGRlIGxhIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICAgIHNldEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignRXJyZXVyIGRlIHNlc3Npb24nKSk7XG4gICAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgICBzZXRTZXNzaW9uKG51bGwpO1xuICAgICAgICAgIHNldFVzZXJEYXRhKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoQ29udGV4dCAtIFNlc3Npb24gY2hlY2sgcmVzdWx0OicsIHsgaGFzU2Vzc2lvbjogISFzZXNzaW9uIH0pO1xuICAgICAgICAgIHNldFNlc3Npb24oc2Vzc2lvbik7XG5cbiAgICAgICAgICBpZiAoc2Vzc2lvbj8udXNlcikge1xuICAgICAgICAgICAgc2V0VXNlcihzZXNzaW9uLnVzZXIpO1xuICAgICAgICAgICAgLy8gVXRpbGlzZXIgZmV0Y2hVc2VyRGF0YSBxdWkgYSBkw6lqw6Agc2EgcHJvcHJlIGdlc3Rpb24gZGUgdGltZW91dFxuICAgICAgICAgICAgYXdhaXQgZmV0Y2hVc2VyRGF0YShzZXNzaW9uLnVzZXIuaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBObyB1c2VyIGluIHNlc3Npb24nKTtcbiAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgICAgICBzZXRVc2VyRGF0YShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgZ2xvYmFsZSBsb3JzIGRlIGxhIHbDqXJpZmljYXRpb24gZGUgbGEgc2Vzc2lvbjonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcignRXJyZXVyIGRlIHNlc3Npb24nKSk7XG5cbiAgICAgICAgLy8gRW4gY2FzIGQnZXJyZXVyLCBkw6lmaW5pciBsJ3V0aWxpc2F0ZXVyIGNvbW1lIG5vbiBhdXRoZW50aWZpw6lcbiAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgc2V0U2Vzc2lvbihudWxsKTtcbiAgICAgICAgc2V0VXNlckRhdGEobnVsbCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBTZXNzaW9uIGNoZWNrIGNvbXBsZXRlZCwgc2V0dGluZyBpc0xvYWRpbmcgdG8gZmFsc2UnKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICAvLyBTdXJ2ZWlsbGVyIGxlcyBjaGFuZ2VtZW50cyBkJ8OpdGF0IGFwcsOocyBsYSBmaW5cbiAgICAgICAgbW9uaXRvclN0YXRlQ2hhbmdlcygnQXV0aENvbnRleHQnLCB7IGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrU2Vzc2lvbigpO1xuXG4gICAgLy8gw4ljb3V0ZXIgbGVzIGNoYW5nZW1lbnRzIGQnYXV0aGVudGlmaWNhdGlvblxuICAgIGNvbnN0IHsgZGF0YTogeyBzdWJzY3JpcHRpb24gfSB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShcbiAgICAgIGFzeW5jIChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgICBsb2dMb2FkaW5nRXZlbnQoJ0F1dGhDb250ZXh0JywgJ0F1dGggc3RhdGUgY2hhbmdlZCcsIHsgZXZlbnQsIGhhc1Nlc3Npb246ICEhc2Vzc2lvbiB9KTtcblxuICAgICAgICAvLyDDiXZpdGVyIGRlIG1ldHRyZSBpc0xvYWRpbmcgw6AgdHJ1ZSBwb3VyIGNlcnRhaW5zIMOpdsOpbmVtZW50cyBxdWkgbmUgbsOpY2Vzc2l0ZW50IHBhcyBkZSBjaGFyZ2VtZW50XG4gICAgICAgIGNvbnN0IG1pbm9yRXZlbnRzID0gWydQQVNTV09SRF9SRUNPVkVSWScsICdUT0tFTl9SRUZSRVNIRUQnLCAnVVNFUl9VUERBVEVEJ107XG4gICAgICAgIGlmICghbWlub3JFdmVudHMuaW5jbHVkZXMoZXZlbnQpKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgIC8vIFN1cnZlaWxsZXIgbGVzIGNoYW5nZW1lbnRzIGQnw6l0YXRcbiAgICAgICAgICBtb25pdG9yU3RhdGVDaGFuZ2VzKCdBdXRoQ29udGV4dCcsIHsgaXNMb2FkaW5nOiB0cnVlLCBldmVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyw6llciB1bmUgcHJvbWVzc2UgcXVpIHRyYWl0ZSBsZSBjaGFuZ2VtZW50IGQnw6l0YXRcbiAgICAgICAgY29uc3QgcHJvY2Vzc1Byb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwnw6l0YXQgZGUgc2Vzc2lvbiBpbW3DqWRpYXRlbWVudFxuICAgICAgICAgICAgc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgIHNldFVzZXIoc2Vzc2lvbj8udXNlciB8fCBudWxsKTtcblxuICAgICAgICAgICAgaWYgKHNlc3Npb24/LnVzZXIpIHtcbiAgICAgICAgICAgICAgLy8gVXRpbGlzZXIgZmV0Y2hVc2VyRGF0YSBxdWkgYSBkw6lqw6Agc2EgcHJvcHJlIGdlc3Rpb24gZGUgdGltZW91dFxuICAgICAgICAgICAgICBhd2FpdCBmZXRjaFVzZXJEYXRhKHNlc3Npb24udXNlci5pZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXV0aENvbnRleHQgLSBVc2VyIHNpZ25lZCBvdXQgb3Igbm8gdXNlciBpbiBzZXNzaW9uJyk7XG4gICAgICAgICAgICAgIHNldFVzZXJEYXRhKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGR1IHRyYWl0ZW1lbnQgZHUgY2hhbmdlbWVudCBkXFwnw6l0YXQ6JywgZXJyb3IpO1xuXG4gICAgICAgICAgICAvLyBFbiBjYXMgZCdlcnJldXIsIGTDqWZpbmlyIGwndXRpbGlzYXRldXIgc2Vsb24gbCfDqXRhdCBkZSBsYSBzZXNzaW9uXG4gICAgICAgICAgICBzZXRVc2VyKHNlc3Npb24/LnVzZXIgfHwgbnVsbCk7XG4gICAgICAgICAgICBzZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgICAgIHNldFVzZXJEYXRhKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ3LDqWVyIHVuZSBwcm9tZXNzZSBkZSB0aW1lb3V0XG4gICAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsb2dMb2FkaW5nRXZlbnQoJ0F1dGhDb250ZXh0JywgJ1RpbWVvdXQgbG9ycyBkdSB0cmFpdGVtZW50IGR1IGNoYW5nZW1lbnQgZFxcJ8OpdGF0Jyk7XG4gICAgICAgICAgICByZXNvbHZlKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBuZXcgRXJyb3IoJ1RpbWVvdXQgbG9ycyBkdSB0cmFpdGVtZW50IGR1IGNoYW5nZW1lbnQgZFxcJ8OpdGF0JykgfSk7XG4gICAgICAgICAgfSwgMjAwMDApOyAvLyBUaW1lb3V0IGRlIDIwIHNlY29uZGVzIChhdWdtZW50w6kgZGUgMTAgw6AgMjAgc2Vjb25kZXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVXRpbGlzZXIgUHJvbWlzZS5yYWNlIHBvdXIgcHJlbmRyZSBsZSByw6lzdWx0YXQgbGUgcGx1cyByYXBpZGVcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoW3Byb2Nlc3NQcm9taXNlKCksIHRpbWVvdXRQcm9taXNlXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBnbG9iYWxlIGxvcnMgZHUgY2hhbmdlbWVudCBkXFwnw6l0YXQgZFxcJ2F1dGhlbnRpZmljYXRpb246JywgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcignRXJyZXVyIGRlIHNlc3Npb24nKSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgLy8gTmUgcGFzIG1ldHRyZSBpc0xvYWRpbmcgw6AgZmFsc2UgcG91ciBsZXMgw6l2w6luZW1lbnRzIG1pbmV1cnNcbiAgICAgICAgICBpZiAoIW1pbm9yRXZlbnRzLmluY2x1ZGVzKGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0IC0gQXV0aCBzdGF0ZSBjaGFuZ2UgaGFuZGxlZCwgc2V0dGluZyBpc0xvYWRpbmcgdG8gZmFsc2UnKTtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAvLyBTdXJ2ZWlsbGVyIGxlcyBjaGFuZ2VtZW50cyBkJ8OpdGF0IGFwcsOocyBsYSBmaW5cbiAgICAgICAgICAgIG1vbml0b3JTdGF0ZUNoYW5nZXMoJ0F1dGhDb250ZXh0JywgeyBpc0xvYWRpbmc6IGZhbHNlLCBldmVudCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgaWYgKHNlc3Npb25UaW1lb3V0SWQpIGNsZWFyVGltZW91dChzZXNzaW9uVGltZW91dElkKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHVzZXIsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIHVzZXJEYXRhLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBzaWduSW4sXG4gICAgICAgIHNpZ25VcCxcbiAgICAgICAgc2lnbk91dCxcbiAgICAgICAgcmVmcmVzaFVzZXJEYXRhXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG4vLyBIb29rIHBlcnNvbm5hbGlzw6kgcG91ciB1dGlsaXNlciBsZSBjb250ZXh0ZVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBkb2l0IMOqdHJlIHV0aWxpc8OpIMOgIGxcXCdpbnTDqXJpZXVyIGRcXCd1biBBdXRoUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJjcmVhdGVDbGllbnQiLCJ1c2VSb3V0ZXIiLCJsb2dMb2FkaW5nRXZlbnQiLCJtb25pdG9yU3RhdGVDaGFuZ2VzIiwiQXV0aENvbnRleHQiLCJ1bmRlZmluZWQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInN1cGFiYXNlIiwicm91dGVyIiwidXNlciIsInNldFVzZXIiLCJzZXNzaW9uIiwic2V0U2Vzc2lvbiIsInVzZXJEYXRhIiwic2V0VXNlckRhdGEiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmV0Y2hVc2VyRGF0YSIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlc0NvdW50IiwibWVzc2FnZXNMaW1pdCIsImlzUHJlbWl1bSIsImNyZWF0ZWRJbWFnZXMiLCJoYXNBcGlLZXkiLCJmZXRjaERhdGFQcm9taXNlIiwicXVvdGFSZXN1bHQiLCJzdWJzY3JpcHRpb25SZXN1bHQiLCJpbWFnZXNSZXN1bHQiLCJhcGlLZXlSZXN1bHQiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvdW50IiwiaGVhZCIsInN0YXR1cyIsImRhdGEiLCJxdW90YURhdGEiLCJxdW90YUVycm9yIiwidmFsdWUiLCJtb250aGx5X2dlbmVyYXRpb25zX3VzZWQiLCJtb250aGx5X2dlbmVyYXRpb25zX2xpbWl0IiwiY29kZSIsInJlYXNvbiIsInN1YnNjcmlwdGlvbkRhdGEiLCJpbWFnZXNDb3VudCIsImFwaUtleUNvdW50IiwidGltZW91dFByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIndhcm4iLCJyZXN1bHQiLCJyYWNlIiwiZXJyIiwicmVmcmVzaFVzZXJEYXRhIiwiaWQiLCJzaWduSW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiYXV0aCIsInNpZ25JbldpdGhQYXNzd29yZCIsInB1c2giLCJyZWZyZXNoIiwiRXJyb3IiLCJzaWduVXAiLCJvcHRpb25zIiwiZW1haWxSZWRpcmVjdFRvIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJlbWFpbF9jb25maXJtZWRfYXQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzaWduT3V0IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNlc3Npb25UaW1lb3V0SWQiLCJjaGVja1Nlc3Npb24iLCJzZXNzaW9uUHJvbWlzZSIsImdldFNlc3Npb24iLCJoYXNTZXNzaW9uIiwic3Vic2NyaXB0aW9uIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJldmVudCIsIm1pbm9yRXZlbnRzIiwiaW5jbHVkZXMiLCJwcm9jZXNzUHJvbWlzZSIsInN1Y2Nlc3MiLCJ1bnN1YnNjcmliZSIsImNsZWFyVGltZW91dCIsIlByb3ZpZGVyIiwiZGl2Iiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwidXNlQXV0aCIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/tailwind-merge/dist/lib/tw-merge.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbHN4LCB0eXBlIENsYXNzVmFsdWUgfSBmcm9tIFwiY2xzeFwiXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./utils/debug.ts":
/*!************************!*\
  !*** ./utils/debug.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearDebugHistory: () => (/* binding */ clearDebugHistory),\n/* harmony export */   detectLoadingLoop: () => (/* binding */ detectLoadingLoop),\n/* harmony export */   getDebugHistory: () => (/* binding */ getDebugHistory),\n/* harmony export */   logLoadingEvent: () => (/* binding */ logLoadingEvent),\n/* harmony export */   monitorStateChanges: () => (/* binding */ monitorStateChanges)\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ logLoadingEvent,clearDebugHistory,getDebugHistory,detectLoadingLoop,monitorStateChanges auto */ /**\n * Utilitaires de débogage pour identifier les problèmes de chargement et les boucles infinies\n */ // Fonction pour enregistrer les événements de chargement avec un timestamp\nfunction logLoadingEvent(component, event, data) {\n    const timestamp = new Date().toISOString();\n    const message = `[${timestamp}] ${component} - ${event}`;\n    if (data) {\n        console.log(message, data);\n    } else {\n        console.log(message);\n    }\n    // Ajouter l'événement à l'historique de débogage dans localStorage\n    try {\n        const debugHistory = JSON.parse(localStorage.getItem(\"debug_history\") || \"[]\");\n        debugHistory.push({\n            timestamp,\n            component,\n            event,\n            data\n        });\n        // Limiter l'historique à 100 entrées pour éviter de surcharger localStorage\n        if (debugHistory.length > 100) {\n            debugHistory.shift();\n        }\n        localStorage.setItem(\"debug_history\", JSON.stringify(debugHistory));\n    } catch (error) {\n        console.error(\"Erreur lors de l'enregistrement de l'historique de d\\xe9bogage:\", error);\n    }\n}\n// Fonction pour effacer l'historique de débogage\nfunction clearDebugHistory() {\n    try {\n        localStorage.removeItem(\"debug_history\");\n        console.log(\"Historique de d\\xe9bogage effac\\xe9\");\n    } catch (error) {\n        console.error(\"Erreur lors de l'effacement de l'historique de d\\xe9bogage:\", error);\n    }\n}\n// Fonction pour récupérer l'historique de débogage\nfunction getDebugHistory() {\n    try {\n        return JSON.parse(localStorage.getItem(\"debug_history\") || \"[]\");\n    } catch (error) {\n        console.error(\"Erreur lors de la r\\xe9cup\\xe9ration de l'historique de d\\xe9bogage:\", error);\n        return [];\n    }\n}\n// Fonction pour détecter les boucles potentielles\nfunction detectLoadingLoop() {\n    try {\n        const history = getDebugHistory();\n        const loadingEvents = history.filter((entry)=>entry.event.includes(\"loading\") || entry.event.includes(\"Loading\"));\n        // Si plus de 10 événements de chargement en moins de 5 secondes, c'est probablement une boucle\n        if (loadingEvents.length > 10) {\n            const lastEvents = loadingEvents.slice(-10);\n            const firstTimestamp = new Date(lastEvents[0].timestamp).getTime();\n            const lastTimestamp = new Date(lastEvents[lastEvents.length - 1].timestamp).getTime();\n            if (lastTimestamp - firstTimestamp < 5000) {\n                console.error(\"ALERTE: Boucle de chargement potentielle d\\xe9tect\\xe9e!\");\n                return true;\n            }\n        }\n        return false;\n    } catch (error) {\n        console.error(\"Erreur lors de la d\\xe9tection de boucle:\", error);\n        return false;\n    }\n}\n// Hook pour surveiller les changements d'état et détecter les boucles potentielles\nfunction monitorStateChanges(componentName, stateObject) {\n    // Enregistrer l'état actuel\n    logLoadingEvent(componentName, \"State update\", stateObject);\n    // Vérifier s'il y a une boucle potentielle\n    if (detectLoadingLoop()) {\n        // Afficher un avertissement dans la console\n        console.warn(\"Boucle potentielle d\\xe9tect\\xe9e dans\", componentName);\n        console.table(getDebugHistory().slice(-20));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi91dGlscy9kZWJ1Zy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs2SUFFQTs7Q0FFQyxHQUVELDJFQUEyRTtBQUNwRSxTQUFTQSxnQkFBZ0JDLFNBQWlCLEVBQUVDLEtBQWEsRUFBRUMsSUFBVTtJQUMxRSxNQUFNQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7SUFDeEMsTUFBTUMsVUFBVSxDQUFDLENBQUMsRUFBRUgsVUFBVSxFQUFFLEVBQUVILFVBQVUsR0FBRyxFQUFFQyxNQUFNLENBQUM7SUFFeEQsSUFBSUMsTUFBTTtRQUNSSyxRQUFRQyxHQUFHLENBQUNGLFNBQVNKO0lBQ3ZCLE9BQU87UUFDTEssUUFBUUMsR0FBRyxDQUFDRjtJQUNkO0lBRUEsbUVBQW1FO0lBQ25FLElBQUk7UUFDRixNQUFNRyxlQUFlQyxLQUFLQyxLQUFLLENBQUNDLGFBQWFDLE9BQU8sQ0FBQyxvQkFBb0I7UUFDekVKLGFBQWFLLElBQUksQ0FBQztZQUFFWDtZQUFXSDtZQUFXQztZQUFPQztRQUFLO1FBRXRELDRFQUE0RTtRQUM1RSxJQUFJTyxhQUFhTSxNQUFNLEdBQUcsS0FBSztZQUM3Qk4sYUFBYU8sS0FBSztRQUNwQjtRQUVBSixhQUFhSyxPQUFPLENBQUMsaUJBQWlCUCxLQUFLUSxTQUFTLENBQUNUO0lBQ3ZELEVBQUUsT0FBT1UsT0FBTztRQUNkWixRQUFRWSxLQUFLLENBQUMsbUVBQWtFQTtJQUNsRjtBQUNGO0FBRUEsaURBQWlEO0FBQzFDLFNBQVNDO0lBQ2QsSUFBSTtRQUNGUixhQUFhUyxVQUFVLENBQUM7UUFDeEJkLFFBQVFDLEdBQUcsQ0FBQztJQUNkLEVBQUUsT0FBT1csT0FBTztRQUNkWixRQUFRWSxLQUFLLENBQUMsK0RBQThEQTtJQUM5RTtBQUNGO0FBRUEsbURBQW1EO0FBQzVDLFNBQVNHO0lBQ2QsSUFBSTtRQUNGLE9BQU9aLEtBQUtDLEtBQUssQ0FBQ0MsYUFBYUMsT0FBTyxDQUFDLG9CQUFvQjtJQUM3RCxFQUFFLE9BQU9NLE9BQU87UUFDZFosUUFBUVksS0FBSyxDQUFDLHdFQUFnRUE7UUFDOUUsT0FBTyxFQUFFO0lBQ1g7QUFDRjtBQUVBLGtEQUFrRDtBQUMzQyxTQUFTSTtJQUNkLElBQUk7UUFDRixNQUFNQyxVQUFVRjtRQUNoQixNQUFNRyxnQkFBZ0JELFFBQVFFLE1BQU0sQ0FBQ0MsQ0FBQUEsUUFBU0EsTUFBTTFCLEtBQUssQ0FBQzJCLFFBQVEsQ0FBQyxjQUFjRCxNQUFNMUIsS0FBSyxDQUFDMkIsUUFBUSxDQUFDO1FBRXRHLCtGQUErRjtRQUMvRixJQUFJSCxjQUFjVixNQUFNLEdBQUcsSUFBSTtZQUM3QixNQUFNYyxhQUFhSixjQUFjSyxLQUFLLENBQUMsQ0FBQztZQUN4QyxNQUFNQyxpQkFBaUIsSUFBSTNCLEtBQUt5QixVQUFVLENBQUMsRUFBRSxDQUFDMUIsU0FBUyxFQUFFNkIsT0FBTztZQUNoRSxNQUFNQyxnQkFBZ0IsSUFBSTdCLEtBQUt5QixVQUFVLENBQUNBLFdBQVdkLE1BQU0sR0FBRyxFQUFFLENBQUNaLFNBQVMsRUFBRTZCLE9BQU87WUFFbkYsSUFBSUMsZ0JBQWdCRixpQkFBaUIsTUFBTTtnQkFDekN4QixRQUFRWSxLQUFLLENBQUM7Z0JBQ2QsT0FBTztZQUNUO1FBQ0Y7UUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPQSxPQUFPO1FBQ2RaLFFBQVFZLEtBQUssQ0FBQyw2Q0FBMENBO1FBQ3hELE9BQU87SUFDVDtBQUNGO0FBRUEsbUZBQW1GO0FBQzVFLFNBQVNlLG9CQUFvQkMsYUFBcUIsRUFBRUMsV0FBZ0M7SUFDekYsNEJBQTRCO0lBQzVCckMsZ0JBQWdCb0MsZUFBZSxnQkFBZ0JDO0lBRS9DLDJDQUEyQztJQUMzQyxJQUFJYixxQkFBcUI7UUFDdkIsNENBQTRDO1FBQzVDaEIsUUFBUThCLElBQUksQ0FBQywwQ0FBb0NGO1FBQ2pENUIsUUFBUStCLEtBQUssQ0FBQ2hCLGtCQUFrQlEsS0FBSyxDQUFDLENBQUM7SUFDekM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpLWFpLy4vdXRpbHMvZGVidWcudHM/OWQ0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbi8qKlxuICogVXRpbGl0YWlyZXMgZGUgZMOpYm9nYWdlIHBvdXIgaWRlbnRpZmllciBsZXMgcHJvYmzDqG1lcyBkZSBjaGFyZ2VtZW50IGV0IGxlcyBib3VjbGVzIGluZmluaWVzXG4gKi9cblxuLy8gRm9uY3Rpb24gcG91ciBlbnJlZ2lzdHJlciBsZXMgw6l2w6luZW1lbnRzIGRlIGNoYXJnZW1lbnQgYXZlYyB1biB0aW1lc3RhbXBcbmV4cG9ydCBmdW5jdGlvbiBsb2dMb2FkaW5nRXZlbnQoY29tcG9uZW50OiBzdHJpbmcsIGV2ZW50OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zdCBtZXNzYWdlID0gYFske3RpbWVzdGFtcH1dICR7Y29tcG9uZW50fSAtICR7ZXZlbnR9YDtcbiAgXG4gIGlmIChkYXRhKSB7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZSwgZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gIH1cbiAgXG4gIC8vIEFqb3V0ZXIgbCfDqXbDqW5lbWVudCDDoCBsJ2hpc3RvcmlxdWUgZGUgZMOpYm9nYWdlIGRhbnMgbG9jYWxTdG9yYWdlXG4gIHRyeSB7XG4gICAgY29uc3QgZGVidWdIaXN0b3J5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGVidWdfaGlzdG9yeScpIHx8ICdbXScpO1xuICAgIGRlYnVnSGlzdG9yeS5wdXNoKHsgdGltZXN0YW1wLCBjb21wb25lbnQsIGV2ZW50LCBkYXRhIH0pO1xuICAgIFxuICAgIC8vIExpbWl0ZXIgbCdoaXN0b3JpcXVlIMOgIDEwMCBlbnRyw6llcyBwb3VyIMOpdml0ZXIgZGUgc3VyY2hhcmdlciBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoZGVidWdIaXN0b3J5Lmxlbmd0aCA+IDEwMCkge1xuICAgICAgZGVidWdIaXN0b3J5LnNoaWZ0KCk7XG4gICAgfVxuICAgIFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZWJ1Z19oaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkoZGVidWdIaXN0b3J5KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyZXVyIGxvcnMgZGUgbFxcJ2VucmVnaXN0cmVtZW50IGRlIGxcXCdoaXN0b3JpcXVlIGRlIGTDqWJvZ2FnZTonLCBlcnJvcik7XG4gIH1cbn1cblxuLy8gRm9uY3Rpb24gcG91ciBlZmZhY2VyIGwnaGlzdG9yaXF1ZSBkZSBkw6lib2dhZ2VcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckRlYnVnSGlzdG9yeSgpIHtcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWdfaGlzdG9yeScpO1xuICAgIGNvbnNvbGUubG9nKCdIaXN0b3JpcXVlIGRlIGTDqWJvZ2FnZSBlZmZhY8OpJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyZXVyIGxvcnMgZGUgbFxcJ2VmZmFjZW1lbnQgZGUgbFxcJ2hpc3RvcmlxdWUgZGUgZMOpYm9nYWdlOicsIGVycm9yKTtcbiAgfVxufVxuXG4vLyBGb25jdGlvbiBwb3VyIHLDqWN1cMOpcmVyIGwnaGlzdG9yaXF1ZSBkZSBkw6lib2dhZ2VcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWJ1Z0hpc3RvcnkoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlYnVnX2hpc3RvcnknKSB8fCAnW10nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZSBsXFwnaGlzdG9yaXF1ZSBkZSBkw6lib2dhZ2U6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vLyBGb25jdGlvbiBwb3VyIGTDqXRlY3RlciBsZXMgYm91Y2xlcyBwb3RlbnRpZWxsZXNcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RMb2FkaW5nTG9vcCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBoaXN0b3J5ID0gZ2V0RGVidWdIaXN0b3J5KCk7XG4gICAgY29uc3QgbG9hZGluZ0V2ZW50cyA9IGhpc3RvcnkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmV2ZW50LmluY2x1ZGVzKCdsb2FkaW5nJykgfHwgZW50cnkuZXZlbnQuaW5jbHVkZXMoJ0xvYWRpbmcnKSk7XG4gICAgXG4gICAgLy8gU2kgcGx1cyBkZSAxMCDDqXbDqW5lbWVudHMgZGUgY2hhcmdlbWVudCBlbiBtb2lucyBkZSA1IHNlY29uZGVzLCBjJ2VzdCBwcm9iYWJsZW1lbnQgdW5lIGJvdWNsZVxuICAgIGlmIChsb2FkaW5nRXZlbnRzLmxlbmd0aCA+IDEwKSB7XG4gICAgICBjb25zdCBsYXN0RXZlbnRzID0gbG9hZGluZ0V2ZW50cy5zbGljZSgtMTApO1xuICAgICAgY29uc3QgZmlyc3RUaW1lc3RhbXAgPSBuZXcgRGF0ZShsYXN0RXZlbnRzWzBdLnRpbWVzdGFtcCkuZ2V0VGltZSgpO1xuICAgICAgY29uc3QgbGFzdFRpbWVzdGFtcCA9IG5ldyBEYXRlKGxhc3RFdmVudHNbbGFzdEV2ZW50cy5sZW5ndGggLSAxXS50aW1lc3RhbXApLmdldFRpbWUoKTtcbiAgICAgIFxuICAgICAgaWYgKGxhc3RUaW1lc3RhbXAgLSBmaXJzdFRpbWVzdGFtcCA8IDUwMDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQUxFUlRFOiBCb3VjbGUgZGUgY2hhcmdlbWVudCBwb3RlbnRpZWxsZSBkw6l0ZWN0w6llIScpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIGTDqXRlY3Rpb24gZGUgYm91Y2xlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gSG9vayBwb3VyIHN1cnZlaWxsZXIgbGVzIGNoYW5nZW1lbnRzIGQnw6l0YXQgZXQgZMOpdGVjdGVyIGxlcyBib3VjbGVzIHBvdGVudGllbGxlc1xuZXhwb3J0IGZ1bmN0aW9uIG1vbml0b3JTdGF0ZUNoYW5nZXMoY29tcG9uZW50TmFtZTogc3RyaW5nLCBzdGF0ZU9iamVjdDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAvLyBFbnJlZ2lzdHJlciBsJ8OpdGF0IGFjdHVlbFxuICBsb2dMb2FkaW5nRXZlbnQoY29tcG9uZW50TmFtZSwgJ1N0YXRlIHVwZGF0ZScsIHN0YXRlT2JqZWN0KTtcbiAgXG4gIC8vIFbDqXJpZmllciBzJ2lsIHkgYSB1bmUgYm91Y2xlIHBvdGVudGllbGxlXG4gIGlmIChkZXRlY3RMb2FkaW5nTG9vcCgpKSB7XG4gICAgLy8gQWZmaWNoZXIgdW4gYXZlcnRpc3NlbWVudCBkYW5zIGxhIGNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oJ0JvdWNsZSBwb3RlbnRpZWxsZSBkw6l0ZWN0w6llIGRhbnMnLCBjb21wb25lbnROYW1lKTtcbiAgICBjb25zb2xlLnRhYmxlKGdldERlYnVnSGlzdG9yeSgpLnNsaWNlKC0yMCkpO1xuICB9XG59XG4iXSwibmFtZXMiOlsibG9nTG9hZGluZ0V2ZW50IiwiY29tcG9uZW50IiwiZXZlbnQiLCJkYXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJkZWJ1Z0hpc3RvcnkiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicHVzaCIsImxlbmd0aCIsInNoaWZ0Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImVycm9yIiwiY2xlYXJEZWJ1Z0hpc3RvcnkiLCJyZW1vdmVJdGVtIiwiZ2V0RGVidWdIaXN0b3J5IiwiZGV0ZWN0TG9hZGluZ0xvb3AiLCJoaXN0b3J5IiwibG9hZGluZ0V2ZW50cyIsImZpbHRlciIsImVudHJ5IiwiaW5jbHVkZXMiLCJsYXN0RXZlbnRzIiwic2xpY2UiLCJmaXJzdFRpbWVzdGFtcCIsImdldFRpbWUiLCJsYXN0VGltZXN0YW1wIiwibW9uaXRvclN0YXRlQ2hhbmdlcyIsImNvbXBvbmVudE5hbWUiLCJzdGF0ZU9iamVjdCIsIndhcm4iLCJ0YWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./utils/debug.ts\n");

/***/ }),

/***/ "(ssr)/./utils/supabase/client.ts":
/*!**********************************!*\
  !*** ./utils/supabase/client.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(ssr)/./node_modules/@supabase/ssr/dist/main/index.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ createClient auto */ \nfunction createClient() {\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(\"https://lqpqfmwfvtxofeaucwqw.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxcHFmbXdmdnR4b2ZlYXVjd3F3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMjYwMjAsImV4cCI6MjA2MjcwMjAyMH0.8aBfTKuXcAK5QQCqbU0KLmo3PdmNQzC7UqBzL4JW2ns\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi91dGlscy9zdXBhYmFzZS9jbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O2tFQUVvRDtBQUU3QyxTQUFTQztJQUNkLE9BQU9ELGtFQUFtQkEsQ0FDeEJFLDBDQUFvQyxFQUNwQ0Esa05BQXlDO0FBRTdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi91dGlscy9zdXBhYmFzZS9jbGllbnQudHM/OGM2NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgcmV0dXJuIGNyZWF0ZUJyb3dzZXJDbGllbnQoXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSFcbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VyQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./utils/supabase/client.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"7b30ae7831d7\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8uL2FwcC9nbG9iYWxzLmNzcz8wMzJiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiN2IzMGFlNzgzMWQ3XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/(auth)/layout.tsx":
/*!*******************************!*\
  !*** ./app/(auth)/layout.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AuthLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction AuthLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col items-center justify-center bg-bambi-background p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-md\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-8 text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-3xl font-bold text-bambi-accent\",\n                        children: \"Bambi AI\"\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/app/(auth)/layout.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/workspace/hiiiiiiiii/app/(auth)/layout.tsx\",\n                    lineNumber: 9,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/workspace/hiiiiiiiii/app/(auth)/layout.tsx\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/app/(auth)/layout.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvKGF1dGgpL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLFdBQVcsRUFDakNDLFFBQVEsRUFHVDtJQUNDLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVO2tDQUF1Qzs7Ozs7Ozs7Ozs7Z0JBRXZERjs7Ozs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8uL2FwcC8oYXV0aCkvbGF5b3V0LnRzeD83ZDljIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1dGhMYXlvdXQoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1iYW1iaS1iYWNrZ3JvdW5kIHAtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctbWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1iYW1iaS1hY2NlbnRcIj5CYW1iaSBBSTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQXV0aExheW91dCIsImNoaWxkcmVuIiwiZGl2IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/(auth)/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/(auth)/login/page.tsx":
/*!***********************************!*\
  !*** ./app/(auth)/login/page.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_auth_LoginForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/auth/LoginForm */ \"(rsc)/./components/auth/LoginForm.tsx\");\n\n\nfunction LoginPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_auth_LoginForm__WEBPACK_IMPORTED_MODULE_1__.LoginForm, {}, void 0, false, {\n        fileName: \"/workspace/hiiiiiiiii/app/(auth)/login/page.tsx\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvKGF1dGgpL2xvZ2luL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBRXpDLFNBQVNDO0lBQ3RCLHFCQUFPLDhEQUFDRCxpRUFBU0E7Ozs7O0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFtYmktYWkvLi9hcHAvKGF1dGgpL2xvZ2luL3BhZ2UudHN4PzFiOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSBcIkAvY29tcG9uZW50cy9hdXRoL0xvZ2luRm9ybVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMb2dpblBhZ2UoKSB7XG4gIHJldHVybiA8TG9naW5Gb3JtIC8+O1xufVxuIl0sIm5hbWVzIjpbIkxvZ2luRm9ybSIsIkxvZ2luUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/(auth)/login/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_providers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers */ \"(rsc)/./components/providers.tsx\");\n/* harmony import */ var _components_debug_DebugPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/debug/DebugPanel */ \"(rsc)/./components/debug/DebugPanel.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Bambi AI - Generate Images with Your Own API Keys\",\n    description: \"Bambi AI is a secure, flexible platform for generating high-quality AI images using your own API keys (BYOK). Compatible with OpenAI, Stability AI, Google, and more.\",\n    keywords: \"AI image generation, BYOK, OpenAI, DALL-E, Stable Diffusion, API keys, secure image generation\"\n};\n// Script minimal pour éviter les erreurs d'hydratation\nconst fixHydrationScript = `\n  (function() {\n    try {\n      // Empêcher les modifications automatiques du DOM par le navigateur\n      document.documentElement.setAttribute('data-no-auto-format', 'true');\n    } catch (e) {\n      console.error('Hydration script error:', e);\n    }\n  })();\n`;\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        className: `dark ${(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4___default().className)}`,\n        translate: \"no\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"head\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"format-detection\",\n                        content: \"telephone=no, date=no, email=no, address=no\"\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        dangerouslySetInnerHTML: {\n                            __html: fixHydrationScript\n                        }\n                    }, void 0, false, {\n                        fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                lineNumber: 34,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4___default().className),\n                suppressHydrationWarning: true,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_providers__WEBPACK_IMPORTED_MODULE_2__.Providers, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            suppressHydrationWarning: true,\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                            lineNumber: 45,\n                            columnNumber: 11\n                        }, this),\n                         true && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            suppressHydrationWarning: true,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_debug_DebugPanel__WEBPACK_IMPORTED_MODULE_3__.DebugPanel, {}, void 0, false, {\n                                fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                                lineNumber: 51,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                            lineNumber: 50,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/workspace/hiiiiiiiii/app/layout.tsx\",\n        lineNumber: 33,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBTU1BO0FBSmdCO0FBQzRCO0FBQ1E7QUFJbkQsTUFBTUcsV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtJQUNiQyxVQUFVO0FBQ1osRUFBQztBQUVELHVEQUF1RDtBQUN2RCxNQUFNQyxxQkFBcUIsQ0FBQzs7Ozs7Ozs7O0FBUzVCLENBQUM7QUFFYyxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1Q7SUFDQyxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyxXQUFXLENBQUMsS0FBSyxFQUFFWiwySkFBZSxDQUFDLENBQUM7UUFBRWEsV0FBVTtRQUFLQyx3QkFBd0I7OzBCQUMzRiw4REFBQ0M7O2tDQUVDLDhEQUFDQzt3QkFDQ0MsTUFBSzt3QkFDTEMsU0FBUTs7Ozs7O2tDQUdWLDhEQUFDQzt3QkFBT0MseUJBQXlCOzRCQUFFQyxRQUFRZDt3QkFBbUI7Ozs7Ozs7Ozs7OzswQkFFaEUsOERBQUNlO2dCQUFLVixXQUFXWiwySkFBZTtnQkFBRWMsd0JBQXdCOzBCQUN4RCw0RUFBQ2IsNERBQVNBOztzQ0FDUiw4REFBQ3NCOzRCQUFJVCx3QkFBd0I7c0NBQzFCTDs7Ozs7O3dCQTdDYixLQWdEb0Msa0JBQ3hCLDhEQUFDYzs0QkFBSVQsd0JBQXdCO3NDQUMzQiw0RUFBQ1osb0VBQVVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaS1haS8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnXG5pbXBvcnQgeyBJbnRlciB9IGZyb20gJ25leHQvZm9udC9nb29nbGUnXG5pbXBvcnQgJy4vZ2xvYmFscy5jc3MnXG5pbXBvcnQgeyBQcm92aWRlcnMgfSBmcm9tICdAL2NvbXBvbmVudHMvcHJvdmlkZXJzJ1xuaW1wb3J0IHsgRGVidWdQYW5lbCB9IGZyb20gJ0AvY29tcG9uZW50cy9kZWJ1Zy9EZWJ1Z1BhbmVsJ1xuXG5jb25zdCBpbnRlciA9IEludGVyKHsgc3Vic2V0czogWydsYXRpbiddIH0pXG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAnQmFtYmkgQUkgLSBHZW5lcmF0ZSBJbWFnZXMgd2l0aCBZb3VyIE93biBBUEkgS2V5cycsXG4gIGRlc2NyaXB0aW9uOiAnQmFtYmkgQUkgaXMgYSBzZWN1cmUsIGZsZXhpYmxlIHBsYXRmb3JtIGZvciBnZW5lcmF0aW5nIGhpZ2gtcXVhbGl0eSBBSSBpbWFnZXMgdXNpbmcgeW91ciBvd24gQVBJIGtleXMgKEJZT0spLiBDb21wYXRpYmxlIHdpdGggT3BlbkFJLCBTdGFiaWxpdHkgQUksIEdvb2dsZSwgYW5kIG1vcmUuJyxcbiAga2V5d29yZHM6ICdBSSBpbWFnZSBnZW5lcmF0aW9uLCBCWU9LLCBPcGVuQUksIERBTEwtRSwgU3RhYmxlIERpZmZ1c2lvbiwgQVBJIGtleXMsIHNlY3VyZSBpbWFnZSBnZW5lcmF0aW9uJyxcbn1cblxuLy8gU2NyaXB0IG1pbmltYWwgcG91ciDDqXZpdGVyIGxlcyBlcnJldXJzIGQnaHlkcmF0YXRpb25cbmNvbnN0IGZpeEh5ZHJhdGlvblNjcmlwdCA9IGBcbiAgKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBFbXDDqmNoZXIgbGVzIG1vZGlmaWNhdGlvbnMgYXV0b21hdGlxdWVzIGR1IERPTSBwYXIgbGUgbmF2aWdhdGV1clxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1uby1hdXRvLWZvcm1hdCcsICd0cnVlJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignSHlkcmF0aW9uIHNjcmlwdCBlcnJvcjonLCBlKTtcbiAgICB9XG4gIH0pKCk7XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbCBsYW5nPVwiZW5cIiBjbGFzc05hbWU9e2BkYXJrICR7aW50ZXIuY2xhc3NOYW1lfWB9IHRyYW5zbGF0ZT1cIm5vXCIgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgPGhlYWQ+XG4gICAgICAgIHsvKiBNZXRhIHRhZyBwb3VyIGTDqXNhY3RpdmVyIGxhIGTDqXRlY3Rpb24gYXV0b21hdGlxdWUgZGUgZm9ybWF0IHN1ciBpT1MgKi99XG4gICAgICAgIDxtZXRhXG4gICAgICAgICAgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIlxuICAgICAgICAgIGNvbnRlbnQ9XCJ0ZWxlcGhvbmU9bm8sIGRhdGU9bm8sIGVtYWlsPW5vLCBhZGRyZXNzPW5vXCJcbiAgICAgICAgLz5cbiAgICAgICAgey8qIFNjcmlwdCBwb3VyIGZvcmNlciBsZXMgYXR0cmlidXRzIGF2YW50IGh5ZHJhdGF0aW9uICovfVxuICAgICAgICA8c2NyaXB0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogZml4SHlkcmF0aW9uU2NyaXB0IH19IC8+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9e2ludGVyLmNsYXNzTmFtZX0gc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgICA8UHJvdmlkZXJzPlxuICAgICAgICAgIDxkaXYgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsvKiBQYW5uZWF1IGRlIGTDqWJvZ2FnZSAtIHZpc2libGUgdW5pcXVlbWVudCBlbiBtb2RlIGTDqXZlbG9wcGVtZW50ICovfVxuICAgICAgICAgIHtwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiAoXG4gICAgICAgICAgICA8ZGl2IHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cbiAgICAgICAgICAgICAgPERlYnVnUGFuZWwgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvUHJvdmlkZXJzPlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImludGVyIiwiUHJvdmlkZXJzIiwiRGVidWdQYW5lbCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImtleXdvcmRzIiwiZml4SHlkcmF0aW9uU2NyaXB0IiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJjbGFzc05hbWUiLCJ0cmFuc2xhdGUiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJoZWFkIiwibWV0YSIsIm5hbWUiLCJjb250ZW50Iiwic2NyaXB0IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJib2R5IiwiZGl2Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./components/auth/LoginForm.tsx":
/*!***************************************!*\
  !*** ./components/auth/LoginForm.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoginForm: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/workspace/hiiiiiiiii/components/auth/LoginForm.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["LoginForm"];


/***/ }),

/***/ "(rsc)/./components/debug/DebugPanel.tsx":
/*!*****************************************!*\
  !*** ./components/debug/DebugPanel.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DebugPanel: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/workspace/hiiiiiiiii/components/debug/DebugPanel.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["DebugPanel"];


/***/ }),

/***/ "(rsc)/./components/providers.tsx":
/*!**********************************!*\
  !*** ./components/providers.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Providers: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/workspace/hiiiiiiiii/components/providers.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["Providers"];


/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__ ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/lib/metadata/get-metadata-route */ \"(rsc)/./node_modules/next/dist/lib/metadata/get-metadata-route.js\");\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__);\n  \n\n  /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((props) => {\n    const imageData = {\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}\n    const imageUrl = (0,next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__.fillMetadataSegment)(\".\", props.params, \"favicon.ico\")\n\n    return [{\n      ...imageData,\n      url: imageUrl + \"\",\n    }]\n  });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LW1ldGFkYXRhLWltYWdlLWxvYWRlci5qcz90eXBlPWZhdmljb24mc2VnbWVudD0mYmFzZVBhdGg9JnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMhLi9hcHAvZmF2aWNvbi5pY28/X19uZXh0X21ldGFkYXRhX18iLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsRUFBaUY7O0FBRWpGLEVBQUUsaUVBQWU7QUFDakIsdUJBQXVCO0FBQ3ZCLHFCQUFxQiw4RkFBbUI7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpLWFpLy4vYXBwL2Zhdmljb24uaWNvP2ViZjAiXSwic291cmNlc0NvbnRlbnQiOlsiICBpbXBvcnQgeyBmaWxsTWV0YWRhdGFTZWdtZW50IH0gZnJvbSAnbmV4dC9kaXN0L2xpYi9tZXRhZGF0YS9nZXQtbWV0YWRhdGEtcm91dGUnXG5cbiAgZXhwb3J0IGRlZmF1bHQgKHByb3BzKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0ge1widHlwZVwiOlwiaW1hZ2UveC1pY29uXCIsXCJzaXplc1wiOlwiMTZ4MTZcIn1cbiAgICBjb25zdCBpbWFnZVVybCA9IGZpbGxNZXRhZGF0YVNlZ21lbnQoXCIuXCIsIHByb3BzLnBhcmFtcywgXCJmYXZpY29uLmljb1wiKVxuXG4gICAgcmV0dXJuIFt7XG4gICAgICAuLi5pbWFnZURhdGEsXG4gICAgICB1cmw6IGltYWdlVXJsICsgXCJcIixcbiAgICB9XVxuICB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./app/favicon.ico?__next_metadata__\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/tailwind-merge","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/cookie","vendor-chunks/node-gyp-build","vendor-chunks/@radix-ui","vendor-chunks/webidl-conversions","vendor-chunks/next-themes","vendor-chunks/class-variance-authority","vendor-chunks/@swc","vendor-chunks/utf-8-validate","vendor-chunks/bufferutil","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2F(auth)%2Flogin%2Fpage&page=%2F(auth)%2Flogin%2Fpage&appPaths=%2F(auth)%2Flogin%2Fpage&pagePath=private-next-app-dir%2F(auth)%2Flogin%2Fpage.tsx&appDir=%2Fworkspace%2Fhiiiiiiiii%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspace%2Fhiiiiiiiii&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();